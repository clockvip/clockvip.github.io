(function(e){function t(t){for(var s,o,a=t[0],l=t[1],m=t[2],c=0,h=[];c<a.length;c++)o=a[c],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&h.push(n[o][0]),n[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(h.length)h.shift()();return r.push.apply(r,m||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],s=!0,a=1;a<i.length;a++){var l=i[a];0!==n[l]&&(s=!1)}s&&(r.splice(t--,1),e=o(o.s=i[0]))}return e}var s={},n={app:0},r=[];function o(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=s,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(i,s,function(t){return e[t]}.bind(null,s));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var m=0;m<a.length;m++)t(a[m]);var d=l;r.push(["56d7","chunk-vendors"]),i()})({"00c0":function(e){e.exports=JSON.parse('[{"id":"tb","name":"暗流涌动","author":"The Pandemonium Institute","description":"Clouds roll in over Ravenswood Bluff, engulfing this sleepy town and its superstitious inhabitants in foreboding shadow. Freshly-washed clothes dance eerily on lines strung between cottages. Chimneys cough plumes of smoke into the air. Exotic scents waft through cracks in windows and under doors, as hidden cauldrons lay bubbling. An unusually warm Autumn breeze wraps around vine-covered walls and whispers ominously to those brave enough to walk the cobbled streets.nAnxious mothers call their children home from play, as thunder begins to clap on the horizon. If you listen more closely, however, noises stranger still can be heard echoing from the neighbouring forest. Under the watchful eye of a looming monastery, silhouetted figures skip from doorway to doorway. Those who can read the signs know there is... Trouble Brewing.","level":"Beginner","roles":[],"isOfficial":true},{"id":"bmr","name":"残月高悬","author":"The Pandemonium Institute","description":"The sun is swallowed by a jagged horizon as another winter\'s day surrenders to the night. Flecks of orange and red decay into deeper browns, the forest transforming in silent anticipation of the coming snow.nRavenous wolves howl from the bowels of a rocky crevasse beyond the town borders, sending birds scattering from their cozy rooks. Travelers hurry into the inn, seeking shelter from the gathering chill. They warm themselves with hot tea, sweet strains of music and hearty ale, unaware that strange and nefarious eyes stalk them from the ruins of this once great city.Tonight, even the livestock know there is a... Bad Moon Rising.","level":"Intermediate","roles":[],"isOfficial":true},{"id":"snv","name":"教派与紫罗兰","author":"The Pandemonium Institute","description":"Vibrant spring gives way to a warm and inviting summer. Flowers of every description blossom as far as the eye can see, tenderly nurtured in public gardens and window boxes overlooking the lavish promenade. Birds sing, artists paint and philosophers ponder life\'s greatest mysteries inside a bustling tavern as a circus pitches its endearingly ragged tent on the edge of town.nAs the townsfolk bask in frivolity and mischief, indulging themselves in fine entertainment and even finer wine, dark and clandestine forces are assembling. Witches and cults lurk in majestic ruins on the fringes of the community, hosting secret meetings in underground caves and malevolently plotting the downfall of Ravenswood Bluff and its revelers.nThe time is ripe for... Sects & Violets.","level":"Intermediate","roles":[],"isOfficial":true},{"id":"luf","name":"虚妄自由","author":"The Pandemonium Institute","description":"","level":"Veteran","roles":["balloonist","savant","amnesiac","fisherman","artist","cannibal","mutant","lunatic","widow","goblin","leviathan"],"isOfficial":true},{"id":"iob","name":"鲜血庆典","author":"Stitchface","description":"","level":"Veteran","roles":[],"isOfficial":true}]')},"00ce":function(e,t,i){e.exports=i.p+"img/maniac_ti.be999b77.png"},"013f":function(e,t,i){e.exports=i.p+"img/washerwoman.3f0332c8.png"},"0265":function(e,t,i){e.exports=i.p+"img/al-hadikhia.1d64887e.png"},"027a":function(e,t,i){e.exports=i.p+"img/barista.65224980.png"},"037e":function(e,t,i){e.exports=i.p+"img/draco_sr.d82d60da.png"},"0436":function(e,t,i){e.exports=i.p+"img/cerenovus.02534903.png"},"043b":function(e,t,i){e.exports=i.p+"img/amnesiac.fbd5ab33.png"},"04d0":function(e,t,i){e.exports=i.p+"img/doppelganger_ti.6fa1f984.png"},"07ab":function(e,t,i){e.exports=i.p+"img/politician.521cc53f.png"},"0985":function(e,t,i){e.exports=i.p+"img/tattletale_lse.358c34db.png"},"0a58":function(e,t,i){e.exports=i.p+"img/pariah_lse.829cc920.png"},"0a98":function(e,t,i){e.exports=i.p+"img/headnurse_ti.523bf1ab.png"},"0aaa":function(e,t,i){e.exports=i.p+"img/tb.438499cd.png"},"0ad2":function(e,t,i){e.exports=i.p+"img/secondhand_iob.974407d3.png"},"0b29":function(e,t,i){e.exports=i.p+"img/shabaloth.1e6b602f.png"},"0b61":function(e,t,i){e.exports=i.p+"img/lunatic.9c21802a.png"},"0c02":function(e,t,i){e.exports=i.p+"img/poppy_grower.c9d4c880.png"},"0c12":function(e,t,i){e.exports=i.p+"img/oracle.adead52a.png"},"0c59":function(e,t,i){e.exports=i.p+"img/ravenkeeper.325c6416.png"},"0c5b":function(e,t,i){e.exports=i.p+"img/cardina_sr.30de1a68.png"},"0d42":function(e,t,i){e.exports=i.p+"img/town_crier.c64c9a6d.png"},"0e20":function(e,t,i){e.exports=i.p+"img/undertaker.7f1046ef.png"},"0e50":function(e,t,i){e.exports=i.p+"img/entropist_wm.b4aa8b66.png"},"0eae":function(e,t,i){e.exports=i.p+"img/thespian_lse.4887a7e5.png"},"0f60":function(e,t,i){e.exports=i.p+"img/fang_gu.f7352624.png"},"0f72":function(e,t,i){e.exports=i.p+"img/bogman_iob.5f3f5798.png"},"0ff9":function(e,t,i){e.exports=i.p+"img/archmage_wm.4df42fc2.png"},1144:function(e,t,i){e.exports=i.p+"img/cinematographer_aoi.dc15c05f.png"},"125e":function(e,t,i){e.exports=i.p+"img/chambermaid.845d2f51.png"},"130e":function(e,t,i){e.exports=i.p+"img/podcaster_aoi.6a05c5d4.png"},"131d":function(e,t,i){e.exports=i.p+"img/architect_aoi.f686515a.png"},"160b":function(e,t,i){e.exports=i.p+"img/plus.9b84ce65.png"},"162b":function(e,t,i){e.exports=i.p+"img/poacher_iob.6dbf8aed.png"},"16b8":function(e,t,i){e.exports=i.p+"img/pretender_sr.79e45ecb.png"},"16d6":function(e,t,i){e.exports=i.p+"img/scaredycat_ti.1e628e39.png"},"16e4":function(e,t,i){e.exports=i.p+"img/bge.5effec2f.png"},"177d":function(e,t,i){e.exports=i.p+"img/recluse.8639bb3d.png"},"17ad":function(e,t,i){e.exports=i.p+"img/mutant.49fa202b.png"},"17ad4":function(e,t,i){e.exports=i.p+"img/pyromancer_wm.1849bc37.png"},1923:function(e,t,i){e.exports=i.p+"img/huntsman.994fb309.png"},"1a76":function(e,t,i){e.exports=i.p+"img/skeptic_wm.26fff995.png"},"1a83":function(e,t,i){e.exports=i.p+"img/hells_librarian.fb87e934.png"},"1ada":function(e,t,i){e.exports=i.p+"img/ghosthunter_aoi.0ec4661b.png"},"1d01":function(e,t,i){e.exports=i.p+"img/buddhist.ca0a255c.png"},"1e08":function(e,t,i){e.exports=i.p+"img/eye_aoi.59817d8a.png"},"1e83":function(e,t,i){e.exports=i.p+"img/chef.c7da10e7.png"},"1fdc":function(e,t,i){e.exports=i.p+"img/obsessed_aoi.9b8a03d3.png"},2094:function(e,t,i){e.exports=i.p+"img/preacher.a86e913b.png"},"20ca":function(e,t,i){e.exports=i.p+"img/zombuul.c33177cb.png"},"21c2":function(e,t,i){e.exports=i.p+"img/archivist_aoi.193e6a35.png"},"223c":function(e,t,i){e.exports=i.p+"img/sailor.7850b90a.png"},"22a9":function(e,t,i){e.exports=i.p+"img/fortune_teller.a92f3efd.png"},"22c9":function(e,t,i){e.exports=i.p+"img/widow.3ae71cbf.png"},2486:function(e,t,i){e.exports=i.p+"img/lil_monsta.4814ed76.png"},"24d3":function(e,t,i){e.exports=i.p+"img/baron.db5d7cd7.png"},"25a3":function(e,t,i){"use strict";i("6225")},"25f6":function(e,t,i){e.exports=i.p+"img/bureaucrat.d8b00709.png"},"26a5":function(e,t,i){e.exports=i.p+"img/righthandman_iob.57ad9fe6.png"},"27a3":function(e,t,i){e.exports=i.p+"img/puzzlemaster.b4ec360b.png"},"281d":function(e,t,i){e.exports=i.p+"img/chieftain_iob.d2b75d71.png"},"287e":function(e,t,i){e.exports=i.p+"img/corruptor_aoi.99dac502.png"},"28bf":function(e,t,i){e.exports=i.p+"img/bmr-minion.6559191b.png"},"295a":function(e,t,i){e.exports=i.p+"img/warden_iob.cd84bc19.png"},"2b04":function(e,t,i){e.exports=i.p+"img/leviathan.24f3cd86.png"},"2cd0":function(e,t,i){e.exports=i.p+"img/artist.e1e4af8d.png"},"2cf6":function(e,t,i){"use strict";i("91df")},"2e3d":function(e,t,i){e.exports=i.p+"img/paladin_wm.8640063f.png"},"2fd0":function(e,t,i){e.exports=i.p+"img/snv.288a42ad.png"},"303d":function(e,t,i){e.exports=i.p+"img/broker_lse.091b19ee.png"},"30b6":function(e,t,i){e.exports=i.p+"img/sage.b57d0e23.png"},"30c0":function(e,t,i){e.exports=i.p+"img/assistant_aoi.e7218699.png"},"313e":function(e,t,i){e.exports=i.p+"img/anarchist_ti.9a8fcc11.png"},3176:function(e,t,i){e.exports=i.p+"img/beastmaster_iob.cc4f9a59.png"},"31fa":function(e,t,i){e.exports=i.p+"img/chamberlain_sr.11b6e7c7.png"},3213:function(e,t,i){e.exports=i.p+"img/corpseobsessed_ti.ac447008.png"},"327a":function(e,t,i){e.exports=i.p+"img/scapegoat.d8ee1637.png"},"339d":function(e,t,i){e.exports=i.p+"img/lamplighter_lse.2e55622e.png"},3603:function(e,t,i){e.exports=i.p+"img/philosopher.8874ecb1.png"},3636:function(e,t,i){"use strict";i("d4b2")},"363c":function(e,t,i){e.exports=i.p+"img/matchmaker_lse.ebdf0e2e.png"},3670:function(e,t,i){e.exports=i.p+"img/buried_aoi.8b92bcfd.png"},"367a":function(e,t,i){e.exports=i.p+"img/shuoshuren.4076be89.png"},"37dd":function(e,t,i){e.exports=i.p+"img/butcher.8af946b4.png"},"39eb":function(e,t,i){e.exports=i.p+"img/toymaker.9e53a53b.png"},"3a43":function(e,t,i){e.exports=i.p+"img/vortox.92d9e1fa.png"},"3a74":function(e,t,i){e.exports=i.p+"img/crescendo_lse.a3672cf1.png"},"3b0c":function(e,t,i){e.exports=i.p+"img/curator_aoi.5101d358.png"},"3b65":function(e,t,i){e.exports=i.p+"img/deviant.8a97fdc6.png"},"3b77":function(e,t,i){e.exports=i.p+"img/morgana_sr.439164b1.png"},"3cd0":function(e,t,i){e.exports=i.p+"img/mm.f4d7178e.png"},"3cd8":function(e,t,i){e.exports=i.p+"img/nightwatchman.a2460a3d.png"},"3e03":function(e,t,i){e.exports=i.p+"img/rabblerouser_lse.895db60d.png"},"3e70":function(e,t,i){e.exports=i.p+"img/imp.427d1304.png"},"3edd":function(e,t,i){e.exports=i.p+"img/clairvoyant_wm.a1732655.png"},"3f65":function(e,t,i){e.exports=i.p+"img/moonchild.51c8c2b9.png"},"3f8f":function(e,t,i){"use strict";i("557b")},4019:function(e,t,i){e.exports=i.p+"img/queen_sr.fe08a797.png"},"41ba":function(e,t,i){e.exports=i.p+"img/knight_sr.0cfd790a.png"},4206:function(e,t,i){e.exports=i.p+"img/trapper_iob.2c3f3a77.png"},"422e":function(e,t,i){e.exports=i.p+"img/tarantella_lse.a0706f6a.png"},4341:function(e,t,i){e.exports=i.p+"img/scarlet_woman.fc36f6a4.png"},"435e":function(e,t,i){e.exports=i.p+"img/friar_sr.24e22f01.png"},"43ba":function(e,t,i){e.exports=i.p+"img/wm.d7f79bb1.png"},"441d":function(e,t,i){e.exports=i.p+"img/custom.5334aaeb.png"},"451a":function(e,t,i){e.exports=i.p+"img/snv-minion.60768802.png"},4720:function(e,t,i){e.exports=i.p+"img/fool.283700c6.png"},"481c":function(e,t,i){"use strict";i("93a5")},"48ff":function(e,t,i){e.exports=i.p+"img/warrior_iob.e522299c.png"},"496f":function(e,t,i){e.exports=i.p+"img/rook_sr.363a20e8.png"},"49c0":function(e,t,i){e.exports=i.p+"img/foodtaster_sr.616da868.png"},"4a2c":function(e,t,i){e.exports=i.p+"img/psychologist_ti.79aa660b.png"},"4aac":function(e,t,i){e.exports=i.p+"img/sr.86deb501.png"},"4bea":function(e,t,i){e.exports=i.p+"img/apprentice.4c92ba5e.png"},"4d73":function(e,t,i){e.exports=i.p+"img/librarian.3b2bbd1b.png"},"4dd9":function(e,t,i){e.exports=i.p+"img/snv-outsider.5b5cae7f.png"},"4e76":function(e,t,i){e.exports=i.p+"img/soldier.5d4ddd21.png"},"4eb3":function(e,t,i){e.exports=i.p+"img/golem.4a791883.png"},"4efd":function(e,t,i){e.exports=i.p+"img/minstrel.2ad5cc70.png"},"4f81":function(e,t,i){},"501c":function(e,t,i){e.exports=i.p+"img/aoi.6e06b29e.png"},5072:function(e,t,i){e.exports=i.p+"img/exorcist.e66e9189.png"},5085:function(e,t,i){e.exports=i.p+"img/detective_aoi.e654c631.png"},"509f":function(e,t,i){e.exports=i.p+"img/venividivici_lse.ead34ff8.png"},"50d1":function(e,t,i){},"50f6":function(e,t,i){e.exports=i.p+"img/smuggler_lse.4bbfe266.png"},5339:function(e,t,i){e.exports=i.p+"img/iob.94a55bee.png"},5386:function(e,t,i){e.exports=i.p+"img/bootblack_lse.b1644a9b.png"},"557b":function(e,t,i){},"559e":function(e,t,i){e.exports=i.p+"img/harlot.4ecef07e.png"},"55aa":function(e,t,i){e.exports=i.p+"img/goon.26a1ea18.png"},"560e":function(e,t,i){e.exports=i.p+"img/scoundrel_sr.abf4e220.png"},5626:function(e,t,i){e.exports=i.p+"img/heretic.0bbeab70.png"},"56d7":function(e,t,i){"use strict";i.r(t);var s=i("2b0e"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{night:e.grimoire.isNight,static:e.grimoire.isStatic},style:{backgroundImage:e.grimoire.background?"url('"+e.grimoire.background+"')":""},attrs:{id:"app",tabindex:"-1"}},[e.grimoire.background&&e.grimoire.background.match(/\.(mp4|webm)$/i)?i("video",{attrs:{id:"background",src:e.grimoire.background,autoplay:"",loop:""}}):e._e(),i("div",{staticClass:"backdrop"}),i("transition",{attrs:{name:"blur"}},[e.players.length?e._e():i("Intro"),e.players.length&&!e.session.nomination?i("TownInfo"):e._e(),e.session.nomination?i("Vote"):e._e()],1),i("TownSquare"),i("Menu",{ref:"menu"}),i("Login"),i("EditionModal"),i("FabledModal"),i("RolesModal"),i("ReferenceModal"),i("NightOrderModal"),i("VoteHistoryModal"),i("GameStateModal"),i("Gradients"),i("span",{attrs:{id:"version"}},[e._v("v"+e._s(e.version))])],1)},r=[],o=i("2f62"),a=i("9224"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"square",class:{public:e.grimoire.isPublic,spectator:e.session.isSpectator,vote:e.session.nomination},attrs:{id:"townsquare"}},[i("ul",{staticClass:"circle",class:["size-"+e.players.length]},e._l(e.players,(function(t,s){return i("Player",{key:s,class:{from:Math.max(e.swap,e.move,e.nominate)===s,swap:e.swap>-1,move:e.move>-1,nominate:e.nominate>-1},attrs:{player:t},on:{trigger:function(t){return e.handleTrigger(s,t)}}})})),1),e.players.length?i("div",{ref:"bluffs",staticClass:"bluffs",class:{closed:!e.isBluffsOpen}},[i("h3",[i("span",[e._v("不在场角色")]),i("font-awesome-icon",{attrs:{icon:"times-circle"},on:{click:function(t){return t.stopPropagation(),e.toggleBluffs(t)}}}),i("font-awesome-icon",{attrs:{icon:"plus-circle"},on:{click:function(t){return t.stopPropagation(),e.toggleBluffs(t)}}})],1),i("ul",e._l(e.bluffSize,(function(t){return i("li",{key:t,on:{click:function(i){return e.openRoleModal(-1*t)}}},[i("Token",{attrs:{role:e.bluffs[t-1]}})],1)})),0)]):e._e(),e.session.isMsgOpen&&e.session.sessionId?i("div",{ref:"message",staticClass:"message"},[i("h3",[i("span",[e._v(e._s(this.session.toNickName)+" "),i("i",{staticClass:"el-icon-edit"})]),i("el-button",{attrs:{icon:"el-icon-switch-button",size:"mini",round:""},on:{click:e.toggleMsg}})],1),i("div",{staticClass:"chat-message-body",attrs:{id:"showMsg"}},e._l(this.session.MsgList,(function(t,s){return i("div",{key:s,staticClass:"message-card",attrs:{"dis-hover":""}},[i("div",{class:t.senderUserId==e.session.playerId?"message-row-right":"message-row-left"},[i("img",{attrs:{src:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fi-1.lanrentuku.com%2F2020%2F11%2F5%2Fdef6ed04-6d34-402e-99c8-366266f627dd.png%3FimageView2%2F2%2Fw%2F500&refer=http%3A%2F%2Fi-1.lanrentuku.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1655926707&t=87b4346ea33efeb233108e8f9c79181e",height:"35",width:"35"}}),i("div",{staticClass:"message-content"},[i("div",{style:t.senderUserId==e.session.playerId?"text-align:right;display: flex;flex-direction:row-reverse":""},[e._v(" "+e._s(t.NickName)+" "),i("span",{staticClass:"message-time"},[e._v(" "+e._s(e.timeChange(t.time)))])]),i("div",{staticClass:"message-body"},[e._v(" "+e._s(t.messageType)+" ")])])])])})),0),i("div",{staticClass:"talk_input"},[i("el-row",{attrs:{gutter:5}},[i("el-col",{attrs:{span:18}},[i("el-input",{attrs:{placeholder:"说点什么呀!"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1),i("el-col",{attrs:{span:4}},[i("el-button",{attrs:{type:"primary",icon:"el-icon-s-promotion"},on:{click:function(t){return e.toMsg()}}},[e._v("发送")])],1)],1)],1),e._v(" > ")]):e._e(),e.host.id?i("div",{staticClass:"fabled",class:{closed:!e.isFabledOpen}},[i("h3",[i("span",[e._v("传奇角色")]),i("font-awesome-icon",{attrs:{icon:"times-circle"},on:{click:function(t){return t.stopPropagation(),e.toggleFabled(t)}}}),i("font-awesome-icon",{attrs:{icon:"plus-circle"},on:{click:function(t){return t.stopPropagation(),e.toggleFabled(t)}}})],1),i("ul",[i("li",[e.getMsgNum(e.host.id)?i("div",{staticClass:"night-order count"},[i("em",[e._v(e._s(e.getMsgNum(e.host.id)))])]):e._e(),i("hostToken",{attrs:{role:e.host}})],1),e._l(e.fabled,(function(t,s){return i("li",{key:s,on:{click:function(t){return e.removeFabled(s)}}},[e.nightOrder.get(t).first&&e.grimoire.isNightOrder?i("div",{staticClass:"night-order first"},[i("em",[e._v(e._s(e.nightOrder.get(t).first)+".")]),t.firstNightReminder?i("span",[e._v(e._s(t.firstNightReminder))]):e._e()]):e._e(),e.nightOrder.get(t).other&&e.grimoire.isNightOrder?i("div",{staticClass:"night-order other"},[i("em",[e._v(e._s(e.nightOrder.get(t).other)+".")]),t.otherNightReminder?i("span",[e._v(e._s(t.otherNightReminder))]):e._e()]):e._e(),i("Token",{attrs:{role:t}})],1)}))],2)]):e._e(),i("ReminderModal",{attrs:{"player-index":e.selectedPlayer}}),i("RoleModal",{attrs:{"player-index":e.selectedPlayer}})],1)},m=[],d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{style:e.zoom},[s("div",{ref:"player",staticClass:"player",class:[{dead:e.player.isDead,marked:e.session.markedPlayer===e.index,"no-vote":e.player.isVoteless,you:e.session.sessionId&&e.player.id&&e.player.id===e.session.playerId,"vote-yes":e.session.votes[e.index],"vote-lock":e.voteLocked,Seat:e.player.id,reconnecting:e.session.isReconnecting},e.player.role.team]},[s("div",{staticClass:"shroud",on:{click:function(t){return e.toggleStatus()}}}),s("div",{staticClass:"life",on:{click:function(t){return e.toggleStatus()}}}),s("div",{staticClass:"night-order player"},[s("em",[e._v(e._s(e.index+1))])]),!e.session.isSpectator&&e.nightOrder.get(e.player).first&&e.grimoire.isNightOrder?s("div",{staticClass:"night-order first"},[s("em",[e._v(e._s(e.nightOrder.get(e.player).first)+".")]),e.player.role.firstNightReminder?s("span",[e._v(e._s(e.player.role.firstNightReminder))]):e._e()]):e._e(),!e.session.isSpectator&&e.nightOrder.get(e.player).other&&e.grimoire.isNightOrder?s("div",{staticClass:"night-order other"},[s("em",[e._v(e._s(e.nightOrder.get(e.player).other)+".")]),e.player.role.otherNightReminder?s("span",[e._v(e._s(e.player.role.otherNightReminder))]):e._e()]):e._e(),e.getMsgNum(e.player.id)?s("div",{staticClass:"night-order count"},[s("em",[e._v(e._s(e.getMsgNum(e.player.id)))])]):e._e(),s("Token",{attrs:{role:e.player.role},on:{"set-role":function(t){return e.$emit("trigger",["openRoleModal"])}}}),e.session.isSpectator&&!e.player.id?s("div",{staticClass:"mask",on:{click:e.claimSeat}}):e._e(),s("div",{staticClass:"overlay"},[s("font-awesome-icon",{staticClass:"vote",attrs:{icon:"hand-paper",title:"Hand UP"},on:{click:function(t){return e.vote()}}}),s("font-awesome-icon",{staticClass:"vote",attrs:{icon:"times",title:"Hand DOWN"},on:{click:function(t){return e.vote()}}}),s("font-awesome-icon",{staticClass:"cancel",attrs:{icon:"times-circle",title:"Cancel"},on:{click:function(t){return e.cancel()}}}),s("font-awesome-icon",{staticClass:"swap",attrs:{icon:"exchange-alt",title:"Swap seats with this player"},on:{click:function(t){return e.swapPlayer(e.player)}}}),s("font-awesome-icon",{staticClass:"move",attrs:{icon:"redo-alt",title:"Move player to this seat"},on:{click:function(t){return e.movePlayer(e.player)}}}),s("font-awesome-icon",{staticClass:"nominate",attrs:{icon:"hand-point-right",title:"Nominate this player"},on:{click:function(t){return e.nominatePlayer(e.player)}}})],1),e.player.id&&e.session.sessionId?s("font-awesome-icon",{staticClass:"seat",class:{highlight:e.session.isRolesDistributed},attrs:{icon:"chair"}}):e._e(),e.player.isDead&&!e.player.isVoteless?s("font-awesome-icon",{staticClass:"has-vote",attrs:{icon:"vote-yea",title:"Ghost vote"},on:{click:function(t){return e.updatePlayer("isVoteless",!0)}}}):e._e(),s("div",{staticClass:"marked"},[s("font-awesome-icon",{attrs:{icon:"skull"}})],1),s("div",{staticClass:"name",class:{active:e.isMenuOpen},on:{click:function(t){e.isMenuOpen=!e.isMenuOpen}}},[s("span",[e._v(e._s(e.player.pronouns?e.player.pronouns:"空座位")+" ")]),e.player.online?e._e():s("i",{staticClass:"el-icon-loading"})]),s("transition",{attrs:{name:"fold"}},[e.isMenuOpen?s("ul",{staticClass:"menu"},[!e.session.isSpectator||e.session.isSpectator&&e.player.id===e.session.playerId?s("li",{on:{click:e.changePronouns}},[s("font-awesome-icon",{attrs:{icon:"venus-mars"}}),e._v("更改昵称 ")],1):e._e(),e.session.isSpectator?e._e():[s("li",{on:{click:e.changeName}},[s("font-awesome-icon",{attrs:{icon:"user-edit"}}),e._v("更改座位名 ")],1),s("li",{class:{disabled:e.session.lockedVote},on:{click:function(t){return e.movePlayer()}}},[s("font-awesome-icon",{attrs:{icon:"redo-alt"}}),e._v(" 移动玩家 ")],1),s("li",{class:{disabled:e.session.lockedVote},on:{click:function(t){return e.swapPlayer()}}},[s("font-awesome-icon",{attrs:{icon:"exchange-alt"}}),e._v(" 交换座位 ")],1),s("li",{class:{disabled:e.session.lockedVote},on:{click:e.removePlayer}},[s("font-awesome-icon",{attrs:{icon:"times-circle"}}),e._v(" 移除座位 ")],1),e.player.id&&e.session.sessionId?s("li",{on:{click:function(t){e.updatePlayer("id","",!0),e.updatePlayer("pronouns","",!0)}}},[s("font-awesome-icon",{attrs:{icon:"chair"}}),e._v(" 踢出座位 ")],1):e._e(),e.session.nomination?e._e():[s("li",{on:{click:function(t){return e.nominatePlayer()}}},[s("font-awesome-icon",{attrs:{icon:"hand-point-right"}}),e._v(" 提名 ")],1)]],e.session.isSpectator?s("li",{class:{disabled:e.player.id&&e.player.id!==e.session.playerId},on:{click:e.claimSeat}},[s("font-awesome-icon",{attrs:{icon:"chair"}}),e.player.id?e.player.id===e.session.playerId?[e._v(" 离开座位 ")]:[e._v("座位被占")]:[e._v(" 选择坐下 ")]],2):e._e(),s("li",{class:{disabled:!e.player.id||e.player.id===e.session.playerId},on:{click:function(t){return e.Message(e.player.id)}}},[s("font-awesome-icon",{attrs:{icon:"hand-point-right"}}),e._v(" 与他私聊 ")],1)],2):e._e()])],1),e.player.reminders?e._l(e.player.reminders,(function(t){return s("div",{key:t.role+" "+t.name,staticClass:"reminder",class:[t.role],on:{click:function(i){return e.removeReminder(t)}}},[s("span",{staticClass:"icon",style:{backgroundImage:"url("+(t.image&&e.grimoire.isImageOptIn?t.image:i("61b0")("./"+(t.imageAlt||t.role)+".png"))+")"}}),s("span",{staticClass:"text"},[e._v(e._s(t.name))])])})):e._e(),s("div",{staticClass:"reminder add",on:{click:function(t){return e.$emit("trigger",["openReminderModal"])}}},[s("span",{staticClass:"icon"})]),s("div",{staticClass:"reminderHoverTarget"})],2)},c=[],h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"token",class:[e.role.id],on:{click:e.setRole}},[e.role.id?s("span",{staticClass:"icon",style:{backgroundImage:"url("+(e.role.image&&e.grimoire.isImageOptIn?e.role.image:i("61b0")("./"+(e.role.imageAlt||e.role.id)+".png"))+")"}}):e._e(),e.role.firstNight||e.role.firstNightReminder?s("span",{staticClass:"leaf-left"}):e._e(),e.role.otherNight||e.role.otherNightReminder?s("span",{staticClass:"leaf-right"}):e._e(),e.reminderLeaves?s("span",{class:["leaf-top"+e.reminderLeaves]}):e._e(),e.role.setup?s("span",{staticClass:"leaf-orange"}):e._e(),s("svg",{staticClass:"name",attrs:{viewBox:"0 0 150 150"}},[s("path",{attrs:{d:"M 13 75 C 13 160, 138 160, 138 75",id:"curve",fill:"transparent"}}),s("text",{staticClass:"label mozilla",attrs:{width:"150",x:"66.6%","text-anchor":"middle","font-size":e._f("nameToFontSize")(e.role.name)}},[s("textPath",{attrs:{"xlink:href":"#curve"}},[e._v(" "+e._s(e.role.name)+" ")])])]),s("div",{staticClass:"edition",class:["edition-"+e.role.edition,e.role.team]}),e.role.ability?s("div",{staticClass:"ability"},[e._v(" "+e._s(e.role.ability)+" ")]):e._e()])},g=[],f={name:"Token",props:{role:{type:Object,default:()=>({})}},computed:{reminderLeaves:function(){return(this.role.reminders||[]).length+(this.role.remindersGlobal||[]).length},...Object(o["d"])(["grimoire"])},data(){return{}},filters:{nameToFontSize:e=>e&&e.length>10?"90%":"110%"},methods:{setRole(){this.$emit("set-role")}}},p=f,u=(i("5720"),i("2877")),b=Object(u["a"])(p,h,g,!1,null,"deec739a",null),_=b.exports,N={components:{Token:_},props:{player:{type:Object,required:!0}},computed:{...Object(o["d"])("players",["players"]),...Object(o["d"])(["grimoire","session"]),...Object(o["b"])({nightOrder:"players/nightOrder"}),index:function(){return this.players.indexOf(this.player)},voteLocked:function(){const e=this.session,t=this.players.length;if(!e.nomination)return!1;const i=(this.index-1+t-e.nomination[1])%t;return i<e.lockedVote-1},zoom:function(){const e=window.innerWidth>window.innerHeight?"vh":"vw";return this.players.length<7?{width:18+this.grimoire.zoom+e}:this.players.length<=10?{width:16+this.grimoire.zoom+e}:this.players.length<=15?{width:14+this.grimoire.zoom+e}:{width:12+this.grimoire.zoom+e}}},data(){return{isMenuOpen:!1,isSwap:!1}},methods:{getMsgNum(e){if(e)return this.session.MsgList.filter(t=>t.senderUserId===e&&1===t.status).length},Message(e){this.session.toMsg=this.player.id,this.session.toNickName=this.player.pronouns,this.session.toMsg&&this.session.toNickName&&(this.isMenuOpen=!1,this.session.isMsgOpen=!0,this.session.MsgList.map(t=>(e===t.senderUserId&&(t.status=0),t)),this.$nextTick(()=>{let e=document.getElementById("showMsg");e.scrollTop=e.scrollHeight}),this.$store.commit("session/setMsgList",this.session.MsgList))},changePronouns(){if(this.session.isSpectator&&this.player.id!==this.session.playerId)return;const e=prompt("Player pronouns",this.player.pronouns);null!==e&&(this.$store.commit("session/setNickName",e),this.updatePlayer("pronouns",e,!0))},toggleStatus(){this.grimoire.isPublic?this.player.isDead?this.player.isVoteless?(this.updatePlayer("isVoteless",!1),this.updatePlayer("isDead",!1)):this.updatePlayer("isVoteless",!0):(this.updatePlayer("isDead",!0),this.player.isMarked&&this.updatePlayer("isMarked",!1)):(this.updatePlayer("isDead",!this.player.isDead),this.player.isMarked&&this.updatePlayer("isMarked",!1),this.player.isVoteless&&this.updatePlayer("isVoteless",!1))},changeName(){if(this.session.isSpectator)return;const e=prompt("Player name",this.player.name)||this.player.name;this.updatePlayer("name",e,!0)},removeReminder(e){const t=[...this.player.reminders];t.splice(this.player.reminders.indexOf(e),1),this.updatePlayer("reminders",t,!0)},updatePlayer(e,t,i=!1){this.session.isSpectator&&"reminders"!==e&&"pronouns"!==e||(this.$store.commit("players/update",{player:this.player,property:e,value:t}),i&&(this.isMenuOpen=!1))},removePlayer(){this.isMenuOpen=!1,this.$emit("trigger",["removePlayer"])},swapPlayer(e){this.isMenuOpen=!1,this.$emit("trigger",["swapPlayer",e])},movePlayer(e){this.isMenuOpen=!1,this.$emit("trigger",["movePlayer",e])},nominatePlayer(e){this.isMenuOpen=!1,this.$emit("trigger",["nominatePlayer",e])},cancel(){this.$emit("trigger",["cancel"])},claimSeat(){this.isMenuOpen=!1,this.$store.dispatch("players/clearRoles"),this.$emit("trigger",["claimSeat"])},vote(){this.session.isSpectator||this.voteLocked&&this.$store.commit("session/voteSync",[this.index,!this.session.votes[this.index]])}}},y=N,v=(i("74c9"),Object(u["a"])(y,d,c,!1,null,null,null)),k=v.exports,R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"token",class:[e.role.id],on:{click:e.setRole}},[e.role.id?s("span",{staticClass:"icon",style:{backgroundImage:"url("+(e.role.image&&e.grimoire.isImageOptIn?e.role.image:i("367a"))+")"}}):e._e(),e.role.firstNight||e.role.firstNightReminder?s("span",{staticClass:"leaf-left"}):e._e(),e.role.otherNight||e.role.otherNightReminder?s("span",{staticClass:"leaf-right"}):e._e(),e.reminderLeaves?s("span",{class:["leaf-top"+e.reminderLeaves]}):e._e(),e.role.setup?s("span",{staticClass:"leaf-orange"}):e._e(),s("svg",{staticClass:"name",attrs:{viewBox:"0 0 150 150"}},[s("path",{attrs:{d:"M 13 75 C 13 160, 138 160, 138 75",id:"curve",fill:"transparent"}}),s("text",{staticClass:"label mozilla",attrs:{width:"150",x:"66.6%","text-anchor":"middle","font-size":e._f("nameToFontSize")(e.role.NickName)}},[s("textPath",{attrs:{"xlink:href":"#curve"}},[e._v(" "+e._s(e.role.NickName)+" ")])])]),s("div",{staticClass:"edition",class:["edition-"+e.role.edition,e.role.team]}),s("div",{staticClass:"ability"},[e._v(" 点击头像可以向说书人发起私聊 ")])])},w=[],x={name:"Token",props:{role:{type:Object,default:()=>({})}},computed:{reminderLeaves:function(){return(this.role.reminders||[]).length+(this.role.remindersGlobal||[]).length},...Object(o["d"])(["grimoire","session"]),...Object(o["d"])("players",["players","host"])},data(){return{}},filters:{nameToFontSize:e=>e&&e.length>10?"90%":"110%"},methods:{setRole(){this.session.isSpectator&&(this.session.toMsg=this.host.id,this.session.toNickName=this.host.NickName,this.session.toMsg&&this.host.NickName&&(this.isMenuOpen=!1,this.session.isMsgOpen=!0,this.session.MsgList.map(e=>(this.session.toMsg===e.senderUserId&&(e.status=0),e)),this.$nextTick(()=>{let e=document.getElementById("showMsg");e.scrollTop=e.scrollHeight}),this.$store.commit("session/setMsgList",this.session.MsgList)))}}},O=x,S=(i("80ea"),Object(u["a"])(O,R,w,!1,null,"7a2e62ee",null)),M=S.exports,I=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.modals.reminder&&e.availableReminders.length&&e.players[e.playerIndex]?s("Modal",{on:{close:function(t){return e.toggleModal("reminder")}}},[s("h3",[e._v("选择一个标记：")]),s("ul",{staticClass:"reminders"},e._l(e.availableReminders,(function(t){return s("li",{key:t.role+" "+t.name,staticClass:"reminder",class:[t.role],on:{click:function(i){return e.addReminder(t)}}},[s("span",{staticClass:"icon",style:{backgroundImage:"url("+(t.image&&e.grimoire.isImageOptIn?t.image:i("61b0")("./"+(t.imageAlt||t.role)+".png"))+")"}}),s("span",{staticClass:"text"},[e._v(e._s(t.name))])])})),0)]):e._e()},C=[],P=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"modal-fade"}},[i("div",{staticClass:"modal-backdrop",on:{click:e.close}},[i("div",{staticClass:"modal",class:{maximized:e.isMaximized},attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"},on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"top-right-buttons"},[i("font-awesome-icon",{staticClass:"top-right-button",attrs:{icon:["fas",e.isMaximized?"window-minimize":"window-maximize"]},on:{click:function(t){e.isMaximized=!e.isMaximized}}}),i("font-awesome-icon",{staticClass:"top-right-button",attrs:{icon:"times-circle"},on:{click:e.close}})],1),i("div",{staticClass:"slot"},[e._t("default")],2)])])])},j=[],$={data:function(){return{isMaximized:!1}},methods:{close(){this.$emit("close")}}},T=$,V=(i("8781"),Object(u["a"])(T,P,j,!1,null,null,null)),H=V.exports;const F=({id:e,image:t,imageAlt:i})=>s=>({role:e,image:t,imageAlt:i,name:s});var E={components:{Modal:H},props:["playerIndex"],computed:{availableReminders(){let e=[];const{players:t,bluffs:i}=this.$store.state.players;return this.$store.state.roles.forEach(s=>{(t.some(e=>e.role.id===s.id)||i.some(e=>e.id===s.id))&&(e=[...e,...s.reminders.map(F(s))]),s.remindersGlobal&&s.remindersGlobal.length&&(e=[...e,...s.remindersGlobal.map(F(s))])}),this.$store.state.players.fabled.forEach(t=>{e=[...e,...t.reminders.map(F(t))]}),this.$store.state.otherTravelers.forEach(i=>{t.some(e=>e.role.id===i.id)&&(e=[...e,...i.reminders.map(F(i))])}),e.push({role:"good",name:"善良"}),e.push({role:"jabberwocky_sr",name:"爪牙"}),e.push({role:"custom",name:"笔记"}),e},...Object(o["d"])(["modals","grimoire"]),...Object(o["d"])("players",["players"])},methods:{addReminder(e){const t=this.$store.state.players.players[this.playerIndex];let i;if("custom"===e.role){const e=prompt("添加笔记");if(!e)return;i=[...t.reminders,{role:"custom",name:e}]}else i=[...t.reminders,e];this.$store.commit("players/update",{player:t,property:"reminders",value:i}),this.$store.commit("toggleModal","reminder")},...Object(o["c"])(["toggleModal"])}},L=E,G=(i("e297"),Object(u["a"])(L,I,C,!1,null,"b92096b2",null)),D=G.exports,z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.modals.role&&e.availableRoles.length?i("Modal",{on:{close:e.close}},[i("h3",[e._v(" 为"+e._s(e.playerIndex>=0&&e.players.length?"玩家 "+e.players[e.playerIndex].pronouns:" 恶魔的伪装身份")+" 选择角色 ")]),"editionRoles"!==e.tab&&e.otherTravelers.size?e._e():i("ul",{staticClass:"tokens"},e._l(e.availableRoles,(function(t){return i("li",{key:t.id,class:[t.team],on:{click:function(i){return e.setRole(t)}}},[i("Token",{attrs:{role:t}})],1)})),0),"otherTravelers"===e.tab&&e.otherTravelers.size?i("ul",{staticClass:"tokens"},e._l(e.otherTravelers.values(),(function(t){return i("li",{key:t.id,class:[t.team],on:{click:function(i){return e.setRole(t)}}},[i("Token",{attrs:{role:t}})],1)})),0):e._e(),e.playerIndex>=0&&e.otherTravelers.size&&!e.session.isSpectator?i("div",{staticClass:"button-group"},[i("span",{staticClass:"button",class:{townsfolk:"editionRoles"===e.tab},on:{click:function(t){e.tab="editionRoles"}}},[e._v("剧本角色")]),i("span",{staticClass:"button",class:{townsfolk:"otherTravelers"===e.tab},on:{click:function(t){e.tab="otherTravelers"}}},[e._v("其他旅行者")])]):e._e()]):e._e()},A=[],B={components:{Token:_,Modal:H},props:["playerIndex"],computed:{availableRoles(){const e=[],t=this.$store.state.players.players;return this.$store.state.roles.forEach(i=>{(this.playerIndex>=0||this.playerIndex<0&&!t.some(e=>e.role.id===i.id))&&e.push(i)}),e.push({}),e},...Object(o["d"])(["modals","roles","session"]),...Object(o["d"])("players",["players"]),...Object(o["d"])(["otherTravelers"])},data(){return{tab:"editionRoles"}},methods:{setRole(e){if(this.playerIndex<0)this.$store.commit("players/setBluff",{index:-1*this.playerIndex-1,role:e});else{if(this.session.isSpectator&&"traveler"===e.team)return;const t=this.$store.state.players.players[this.playerIndex];this.$store.commit("players/update",{player:t,property:"role",value:e})}this.tab="editionRoles",this.$store.commit("toggleModal","role")},close(){this.tab="editionRoles",this.toggleModal("role")},...Object(o["c"])(["toggleModal"])}},U=B,J=(i("daf0"),Object(u["a"])(U,z,A,!1,null,"5a94f628",null)),q=J.exports,W={components:{Player:k,Token:_,hostToken:M,RoleModal:q,ReminderModal:D},computed:{...Object(o["b"])({nightOrder:"players/nightOrder"}),...Object(o["d"])(["grimoire","roles","session"]),...Object(o["d"])("players",["players","host","bluffs","fabled","message"])},data(){return{input:"",selectedPlayer:0,bluffSize:3,swap:-1,move:-1,nominate:-1,isBluffsOpen:!0,isFabledOpen:!0,prevFirst:null,defualtAvatar:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fi-1.lanrentuku.com%2F2020%2F11%2F5%2Fdef6ed04-6d34-402e-99c8-366266f627dd.png%3FimageView2%2F2%2Fw%2F500&refer=http%3A%2F%2Fi-1.lanrentuku.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1655926707&t=87b4346ea33efeb233108e8f9c79181e"}},methods:{toMsg(){const e={targetId:this.session.toMsg,messageType:this.input,senderUserId:this.session.playerId,status:1,time:new Date};this.$store.commit("session/sendMessage",e),e.status=0,this.session.MsgList.push(e),this.input="",this.$nextTick(()=>{let e=document.getElementById("showMsg");e.scrollTop=e.scrollHeight})},status(e){if(console.log(e),this.session.toMsg===e)return this.session.MsgList.filter(e=>0===e.status).length},timeChange(e){e=new Date(e).getTime();var t="";return t=this.formatTime(e).substr(0,16),t},isYestday(e){const t=new Date(e),i=new Date;return t.getFullYear()===i.getFullYear()&&t.getMonth()===i.getMonth()&&t.getDate()-i.getDate()===1},isYear(e){const t=new Date(e).getFullYear(),i=(new Date).getFullYear();return t===i},formatTime(e){var t=this.getTimeArray(e);return[t[0],t[1],t[2]].map(this.formatNumber).join("-")+" "+[t[3],t[4],t[5]].map(this.formatNumber).join(":")},getTimeArray(e){e=new Date(e);var t=e.getFullYear(),i=e.getMonth()+1,s=e.getDate(),n=e.getHours(),r=e.getMinutes(),o=e.getSeconds();return[t,i,s,n,r,o].map(this.formatNumber)},formatNumber(e){return e=e.toString(),e[1]?e:"0"+e},toggleBluffs(){this.isBluffsOpen=!this.isBluffsOpen},toggleFabled(){this.isFabledOpen=!this.isFabledOpen},toggleMsg(){this.session.isMsgOpen=!1,this.session.toMsg="",this.session.toNickName=""},removeFabled(e){this.session.isSpectator||this.$store.commit("players/setFabled",{index:e})},handleTrigger(e,[t,i]){"function"===typeof this[t]&&this[t](e,i)},claimSeat(e){this.session.isSpectator&&(this.session.playerId===this.players[e].id?this.$store.commit("session/claimSeat",-1):this.$store.commit("session/claimSeat",e))},openReminderModal(e){this.selectedPlayer=e,this.$store.commit("toggleModal","reminder")},openRoleModal(e){const t=this.players[e];this.session.isSpectator&&t&&"traveler"===t.role.team||(this.selectedPlayer=e,this.$store.commit("toggleModal","role"))},removePlayer(e){if(!this.session.isSpectator&&!this.session.lockedVote&&confirm(`Do you really want to remove ${this.players[e].name}?`)){const{nomination:t}=this.session;t&&(t.includes(e)?this.$store.commit("session/nomination"):(t[0]>e||t[1]>e)&&this.$store.commit("session/setNomination",[t[0]>e?t[0]-1:t[0],t[1]>e?t[1]-1:t[1]])),this.$store.commit("players/remove",e)}},swapPlayer(e,t){if(!this.session.isSpectator&&!this.session.lockedVote)if(void 0===t)this.cancel(),this.swap=e;else{if(this.session.nomination){const e=this.players.indexOf(t),i=this.session.nomination.map(t=>t===this.swap?e:t===e?this.swap:t);this.session.nomination[0]===i[0]&&this.session.nomination[1]===i[1]||this.$store.commit("session/setNomination",i)}this.$store.commit("players/swap",[this.swap,this.players.indexOf(t)]),this.cancel()}},movePlayer(e,t){if(!this.session.isSpectator&&!this.session.lockedVote)if(void 0===t)this.cancel(),this.move=e;else{if(this.session.nomination){const e=this.players.indexOf(t),i=this.session.nomination.map(t=>t===this.move?e:t>this.move&&t<=e?t-1:t<this.move&&t>=e?t+1:t);this.session.nomination[0]===i[0]&&this.session.nomination[1]===i[1]||this.$store.commit("session/setNomination",i)}this.$store.commit("players/move",[this.move,this.players.indexOf(t)]),this.cancel()}},nominatePlayer(e,t){if(!this.session.isSpectator&&!this.session.lockedVote)if(void 0===t)this.cancel(),e!==this.nominate&&(this.nominate=e);else{const e=[this.nominate,this.players.indexOf(t)];this.$store.commit("session/nomination",{nomination:e}),this.cancel()}},cancel(){this.move=-1,this.swap=-1,this.nominate=-1},getMsgNum(e){if(e)return this.session.MsgList.filter(t=>t.senderUserId===e&&1===t.status).length}}},Z=W,Y=(i("3636"),Object(u["a"])(Z,l,m,!1,null,null,null)),K=Y.exports,Q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"info"},[s("li",{staticClass:"edition",class:["edition-"+e.edition.id],style:{backgroundImage:"url("+(e.edition.logo&&e.grimoire.isImageOptIn?e.edition.logo:i("ce23")("./"+e.edition.id+".png"))+")"}}),e.players.length-e.teams.traveler<5?s("li",[e._v(" 请添加更多玩家！ ")]):e._e(),s("li",[e.edition.isOfficial?e._e():s("span",{staticClass:"meta"},[e._v(" "+e._s(e.edition.name)+" "+e._s(e.edition.author?"by "+e.edition.author:"")+" ")]),s("span",[e._v(" "+e._s(e.players.length)+" "),s("font-awesome-icon",{staticClass:"players",attrs:{icon:"users"}})],1),s("span",[e._v(" "+e._s(e.teams.alive)+" "),s("font-awesome-icon",{staticClass:"alive",attrs:{icon:"heartbeat"}})],1),s("span",[e._v(" "+e._s(e.teams.votes)+" "),s("font-awesome-icon",{staticClass:"votes",attrs:{icon:"vote-yea"}})],1)]),e.players.length-e.teams.traveler>=5?s("li",[s("span",[e._v(" "+e._s(e.teams.townsfolk)+" "),s("font-awesome-icon",{staticClass:"townsfolk",attrs:{icon:"user-friends"}})],1),s("span",[e._v(" "+e._s(e.teams.outsider)+" "),s("font-awesome-icon",{staticClass:"outsider",attrs:{icon:e.teams.outsider>1?"user-friends":"user"}})],1),s("span",[e._v(" "+e._s(e.teams.minion)+" "),s("font-awesome-icon",{staticClass:"minion",attrs:{icon:e.teams.minion>1?"user-friends":"user"}})],1),s("span",[e._v(" "+e._s(e.teams.demon)+" "),s("font-awesome-icon",{staticClass:"demon",attrs:{icon:e.teams.demon>1?"user-friends":"user"}})],1),e.teams.traveler?s("span",[e._v(" "+e._s(e.teams.traveler)+" "),s("font-awesome-icon",{staticClass:"traveler",attrs:{icon:e.teams.traveler>1?"user-friends":"user"}})],1):e._e()]):e._e(),s("li",[e.session.sessionId?s("span",[e._v(" 当前房间号： "),s("i",{staticClass:"el-icon-s-platform"}),e._v(" "+e._s(e.session.sessionId)+" ")]):e._e(),e.grimoire.isNight?s("span",[e._v(" 夜晚阶段 "),s("font-awesome-icon",{attrs:{icon:["fas","cloud-moon"]}})],1):e._e()])])},X=[],ee=i("634a"),te={computed:{teams:function(){const{players:e}=this.$store.state.players,t=this.$store.getters["players/nonTravelers"],i=e.filter(e=>!0!==e.isDead).length;return{...ee[t-5],traveler:e.length-t,alive:i,votes:i+e.filter(e=>!0===e.isDead&&!0!==e.isVoteless).length}},...Object(o["d"])(["edition","grimoire","session"]),...Object(o["d"])("players",["players"])}},ie=te,se=(i("bd05"),Object(u["a"])(ie,Q,X,!1,null,"4a33f188",null)),ne=se.exports,re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"controls"}},[i("span",{staticClass:"session",style:{"font-size":"16px",color:"white","vertical-align":"baseline"},on:{click:function(t){return e.Login()}}},[i("img",{attrs:{src:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fi-1.lanrentuku.com%2F2020%2F11%2F5%2Fdef6ed04-6d34-402e-99c8-366266f627dd.png%3FimageView2%2F2%2Fw%2F500&refer=http%3A%2F%2Fi-1.lanrentuku.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1655926707&t=87b4346ea33efeb233108e8f9c79181e",height:"30",width:"30"}}),e._v(e._s(e.session.NickName?e.session.NickName:"未设置昵称"))]),i("span",{directives:[{name:"show",rawName:"v-show",value:e.session.voteHistory.length&&e.session.sessionId,expression:"session.voteHistory.length && session.sessionId"}],staticClass:"nomlog-summary",attrs:{title:e.session.voteHistory.length+" recent "+(1==e.session.voteHistory.length?"nomination":"nominations")},on:{click:function(t){return e.toggleModal("voteHistory")}}},[i("font-awesome-icon",{attrs:{icon:"book-dead"}}),e._v(" "+e._s(e.session.voteHistory.length)+" ")],1),e.session.sessionId?i("span",{staticClass:"session",class:{spectator:e.session.isSpectator,reconnecting:e.session.isReconnecting},attrs:{title:e.session.playerCount+" other players in this session"+(e.session.ping?" ("+e.session.ping+"ms latency)":"")}},[i("font-awesome-icon",{attrs:{icon:"broadcast-tower"}}),e._v(" "+e._s(e.session.playerCount)+" ")],1):e._e(),i("div",{staticClass:"menu",class:{open:e.grimoire.isMenuOpen}},[i("font-awesome-icon",{attrs:{icon:"cog"},on:{click:e.toggleMenu}}),i("ul",[i("li",{staticClass:"tabs",class:e.tab},[i("font-awesome-icon",{attrs:{icon:"book-open"},on:{click:function(t){e.tab="grimoire"}}}),i("font-awesome-icon",{attrs:{icon:"broadcast-tower"},on:{click:function(t){e.tab="session"}}}),e.session.isSpectator?e._e():i("font-awesome-icon",{attrs:{icon:"users"},on:{click:function(t){e.tab="players"}}}),i("font-awesome-icon",{attrs:{icon:"theater-masks"},on:{click:function(t){e.tab="characters"}}}),i("font-awesome-icon",{attrs:{icon:"question"},on:{click:function(t){e.tab="help"}}})],1),"grimoire"===e.tab?[i("li",{staticClass:"headline"},[e._v("魔典")]),e.players.length?i("li",{on:{click:e.toggleGrimoire}},[e.grimoire.isPublic?e._e():[e._v("隐藏信息")],e.grimoire.isPublic?[e._v("显示信息")]:e._e(),i("em",[e._v("[G]")])],2):e._e(),e.session.isSpectator?e._e():i("li",{on:{click:e.toggleNight}},[e.grimoire.isNight?e._e():[e._v("切换至夜晚")],e.grimoire.isNight?[e._v("切换至白天")]:e._e(),i("em",[e._v("[S]")])],2),e.players.length?i("li",{on:{click:e.toggleNightOrder}},[e._v(" 显示夜晚顺序 "),i("em",[i("font-awesome-icon",{attrs:{icon:["fas",e.grimoire.isNightOrder?"check-square":"square"]}})],1)]):e._e(),e.players.length?i("li",[e._v(" 缩放 "),i("em",[i("font-awesome-icon",{attrs:{icon:"search-minus"},on:{click:function(t){return e.setZoom(e.grimoire.zoom-1)}}}),e._v(" "+e._s(Math.round(100+10*e.grimoire.zoom))+"% "),i("font-awesome-icon",{attrs:{icon:"search-plus"},on:{click:function(t){return e.setZoom(e.grimoire.zoom+1)}}})],1)]):e._e(),i("li",{on:{click:e.setBackground}},[e._v(" 背景图 "),i("em",[i("font-awesome-icon",{attrs:{icon:"image"}})],1)]),e.edition.isOfficial?e._e():i("li",{on:{click:e.imageOptIn}},[i("small",[e._v("显示自定义图标")]),i("em",[i("font-awesome-icon",{attrs:{icon:["fas",e.grimoire.isImageOptIn?"check-square":"square"]}})],1)]),i("li",{on:{click:e.toggleStatic}},[e._v(" 关闭动画 "),i("em",[i("font-awesome-icon",{attrs:{icon:["fas",e.grimoire.isStatic?"check-square":"square"]}})],1)]),i("li",{on:{click:e.toggleMuted}},[e._v(" 静音 "),i("em",[i("font-awesome-icon",{attrs:{icon:["fas",e.grimoire.isMuted?"volume-mute":"volume-up"]}})],1)])]:e._e(),"session"===e.tab?[e.session.sessionId?i("li",{staticClass:"headline"},[e._v(" "+e._s(e.session.isSpectator?"玩家":"说书人")+" ")]):i("li",{staticClass:"headline"},[e._v(" 联机游戏 ")]),e.session.sessionId?[e.session.ping?i("li",[e._v(" "+e._s(e.session.isSpectator?"说书人延迟":"玩家延迟")+" "),i("em",[e._v(e._s(e.session.ping)+"ms")])]):e._e(),e.session.isSpectator?e._e():i("li",{on:{click:e.distributeRoles}},[e._v(" 发送角色 "),i("em",[i("font-awesome-icon",{attrs:{icon:"theater-masks"}})],1)]),e.session.voteHistory.length||!e.session.isSpectator?i("li",{on:{click:function(t){return e.toggleModal("voteHistory")}}},[e._v(" 投票记录"),i("em",[e._v("[V]")])]):e._e(),i("li",{on:{click:e.leaveSession}},[e._v(" "+e._s(e.session.isSpectator?"离开房间":"解散房间")+" "),i("em",[e._v(e._s(e.session.sessionId))])])]:[i("li",{on:{click:e.hostSession}},[e._v("创建房间 (说书人)"),i("em",[e._v("[H]")])]),i("li",{on:{click:e.joinSession}},[e._v("加入游戏 (玩家)"),i("em",[e._v("[J]")])])]]:e._e(),"players"!==e.tab||e.session.isSpectator?e._e():[i("li",{staticClass:"headline"},[e._v("游戏大厅")]),e.players.length<20?i("li",{on:{click:e.addPlayer}},[e._v(" 添加座位"),i("em",[e._v("[A]")])]):e._e(),e.players.length>2?i("li",{on:{click:e.randomizeSeatings}},[e._v(" 随机座位 "),i("em",[i("font-awesome-icon",{attrs:{icon:"dice"}})],1)]):e._e(),e.players.length?i("li",{on:{click:e.clearPlayers}},[e._v(" 移除全部座位 "),i("em",[i("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)]):e._e()],"characters"===e.tab?[i("li",{staticClass:"headline"},[e._v("角色")]),e.session.isSpectator?e._e():i("li",{on:{click:function(t){return e.toggleModal("edition")}}},[e._v(" 选择剧本 "),i("em",[e._v("[E]")])]),!e.session.isSpectator&&e.players.length>4?i("li",{on:{click:function(t){return e.toggleModal("roles")}}},[e._v(" 为玩家配置角色 "),i("em",[e._v("[C]")])]):e._e(),e.session.isSpectator?e._e():i("li",{on:{click:function(t){return e.toggleModal("fabled")}}},[e._v(" 添加传奇角色 "),i("em",[i("font-awesome-icon",{attrs:{icon:"dragon"}})],1)]),e.players.length?i("li",{on:{click:e.clearRoles}},[e._v(" 移除全部角色 "),i("em",[i("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)]):e._e()]:e._e(),"help"===e.tab?[i("li",{staticClass:"headline"},[e._v("Help")]),i("li",{on:{click:function(t){return e.toggleModal("reference")}}},[e._v(" 角色列表 "),i("em",[e._v("[R]")])]),i("li",{on:{click:function(t){return e.toggleModal("nightOrder")}}},[e._v(" 夜晚顺序表 "),i("em",[e._v("[N]")])]),i("li",{on:{click:function(t){return e.toggleModal("gameState")}}},[e._v(" 游戏状态数据 "),i("em",[i("font-awesome-icon",{attrs:{icon:"file-code"}})],1)]),i("li",[i("a",{attrs:{href:"https://github.com/bra1n/townsquare",target:"_blank"}},[e._v(" 网站源码 ")]),i("em",[i("a",{attrs:{href:"https://github.com/bra1n/townsquare",target:"_blank"}},[i("font-awesome-icon",{attrs:{icon:["fab","github"]}})],1)])])]:e._e()],2)],1)])},oe=[],ae={computed:{...Object(o["d"])(["grimoire","session","edition"]),...Object(o["d"])("players",["players","host","message"])},data(){return{tab:"grimoire"}},mounted(){},methods:{Login(){const e=prompt("请输入一个昵称",this.session.NickName);this.$store.commit("session/setNickName",e)},setBackground(){const e=prompt("输入自定义背景图地址");(e||""===e)&&this.$store.commit("setBackground",e)},hostSession(){if(this.session.NickName||this.Login(),this.session.sessionId)return;const e=Math.round(1e4*Math.random()).toString(),t=prompt("请输入玩家数量：","12");if(e&&(this.$store.commit("players/addHost",{id:this.session.playerId,NickName:this.session.NickName}),this.host.NickName)){for(let e=0;e<parseInt(t);e++)setTimeout(()=>{this.addPlayer(e)},50*e);this.$store.commit("session/setSpectator",!1),this.$store.commit("session/setSessionId",e),this.$store.commit("session/claimSeat",-1),this.$store.commit("players/clear"),this.$store.commit("session/clearVoteHistory")}},copySessionUrl(){},distributeRoles(){if(this.session.isSpectator)return;const e="你是否希望给所有坐下的玩家分发角色?";confirm(e)&&(this.$store.commit("session/distributeRoles",!0),setTimeout((()=>{this.$store.commit("session/distributeRoles",!1)}).bind(this),2e3))},imageOptIn(){const e="确定加载自定义剧本中的图片吗？";(this.grimoire.isImageOptIn||confirm(e))&&this.toggleImageOptIn()},joinSession(){if(this.session.NickName||this.Login(),this.session.sessionId)return this.leaveSession();let e=prompt("请输入房间号");e.match(/^https?:\/\//i)&&(e=e.split("#").pop()),e&&(this.$store.commit("session/setSpectator",!0),this.$store.commit("players/clear"),this.$store.commit("toggleGrimoire",!1),this.$store.commit("session/setSessionId",e))},leaveSession(){confirm(this.session.isSpectator?"你确定要离开该房间？":"你确定要解散该房间？")&&(this.$store.commit("session/claimSeat",-1),this.$store.commit("players/clear"),this.$store.commit("session/setSpectator",!1),this.$store.commit("session/setSessionId",""),this.$store.commit("players/addHost",{}))},addPlayer(e){this.session.isSpectator||this.players.length>=20||this.$store.commit("players/add",e)},randomizeSeatings(){this.session.isSpectator||confirm("你是否希望随机全部座位？")&&this.$store.dispatch("players/randomize")},clearPlayers(){this.session.isSpectator||confirm("你是否希望移除全部玩家？")&&(this.session.nomination&&this.$store.commit("session/nomination"),this.$store.commit("players/clear"))},clearRoles(){confirm("你是否希望移除全部玩家的角色？")&&this.$store.dispatch("players/clearRoles")},toggleNight(){this.$store.commit("toggleNight"),this.grimoire.isNight&&this.$store.commit("session/setMarkedPlayer",-1)},...Object(o["c"])(["toggleGrimoire","toggleMenu","toggleImageOptIn","toggleMuted","toggleNightOrder","toggleStatic","setZoom","toggleModal"])}},le=ae,me=(i("e945"),Object(u["a"])(le,re,oe,!1,null,"db90371e",null)),de=me.exports,ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.modals.roles&&e.nonTravelers>=5?i("Modal",{staticClass:"roles",on:{close:function(t){return e.toggleModal("roles")}}},[i("h3",[e._v("为当前 "+e._s(e.nonTravelers)+" 个玩家配置角色")]),e._l(e.roleSelection,(function(t,s){return i("ul",{key:s,staticClass:"tokens"},[i("li",{staticClass:"count",class:[s]},[e._v(" "+e._s(t.reduce((function(e,t){var i=t.selected;return e+i}),0))+" / "+e._s(e.game[e.nonTravelers-5][s])+" ")]),e._l(t,(function(t){return i("li",{key:t.id,class:[t.team,t.selected?"selected":""],on:{click:function(e){t.selected=t.selected?0:1}}},[i("Token",{attrs:{role:t}}),t.setup?i("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}}):e._e(),e.allowMultiple?i("div",{staticClass:"buttons"},[i("font-awesome-icon",{attrs:{icon:"minus-circle"},on:{click:function(e){e.stopPropagation(),t.selected--}}}),i("span",[e._v(e._s(t.selected>1?"x"+t.selected:""))]),i("font-awesome-icon",{attrs:{icon:"plus-circle"},on:{click:function(e){e.stopPropagation(),t.selected++}}})],1):e._e()],1)}))],2)})),e.hasSelectedSetupRoles?i("div",{staticClass:"warning"},[i("font-awesome-icon",{attrs:{icon:"exclamation-triangle"}}),i("span",[e._v(" 警告⚠️:"),i("br"),e._v(" 目前角色会修改游戏的初始配置！"),i("br"),e._v("随机分发器不会识别这些角色的功能。"),i("br"),e._v("建议说书人手动调整要分发的角色。 ")])],1):e._e(),i("label",{staticClass:"multiple",class:{checked:e.allowMultiple}},[i("font-awesome-icon",{attrs:{icon:e.allowMultiple?"check-square":"square"}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.allowMultiple,expression:"allowMultiple"}],attrs:{type:"checkbox",name:"allow-multiple"},domProps:{checked:Array.isArray(e.allowMultiple)?e._i(e.allowMultiple,null)>-1:e.allowMultiple},on:{change:function(t){var i=e.allowMultiple,s=t.target,n=!!s.checked;if(Array.isArray(i)){var r=null,o=e._i(i,r);s.checked?o<0&&(e.allowMultiple=i.concat([r])):o>-1&&(e.allowMultiple=i.slice(0,o).concat(i.slice(o+1)))}else e.allowMultiple=n}}}),e._v(" 允许重复角色 ")],1),i("div",{staticClass:"button-group"},[i("div",{staticClass:"button",class:{disabled:e.selectedRoles>e.nonTravelers||!e.selectedRoles},on:{click:e.assignRoles}},[i("font-awesome-icon",{attrs:{icon:"people-arrows"}}),e._v(" 分配 "+e._s(e.selectedRoles)+" 个角色至玩家 ")],1),i("div",{staticClass:"button",on:{click:e.selectRandomRoles}},[i("font-awesome-icon",{attrs:{icon:"random"}}),e._v(" 随机角色 ")],1)])],2):e._e()},he=[];const ge=e=>e[Math.floor(Math.random()*e.length)];var fe={components:{Token:_,Modal:H},data:function(){return{roleSelection:{},game:ee,allowMultiple:!1}},computed:{selectedRoles:function(){return Object.values(this.roleSelection).map(e=>e.reduce((e,{selected:t})=>e+t,0)).reduce((e,t)=>e+t,0)},hasSelectedSetupRoles:function(){return Object.values(this.roleSelection).some(e=>e.some(e=>e.selected&&e.setup))},...Object(o["d"])(["roles","modals"]),...Object(o["d"])("players",["players"]),...Object(o["b"])({nonTravelers:"players/nonTravelers"})},methods:{selectRandomRoles(){this.roleSelection={},this.roles.forEach(e=>{this.roleSelection[e.team]||this.$set(this.roleSelection,e.team,[]),this.roleSelection[e.team].push(e),this.$set(e,"selected",0)}),delete this.roleSelection["traveler"];const e=Math.max(5,this.nonTravelers),t=this.game[e-5];Object.keys(t).forEach(e=>{for(let i=0;i<t[e];i++)if(this.roleSelection[e]){const t=this.roleSelection[e].filter(e=>!e.selected);t.length&&(ge(t).selected=1)}})},assignRoles(){if(this.selectedRoles<=this.nonTravelers&&this.selectedRoles){const e=Object.values(this.roleSelection).map(e=>e.reduce((e,t)=>[...e,...Array(t.selected).fill(t)],[])).reduce((e,t)=>[...e,...t],[]).map(e=>[Math.random(),e]).sort((e,t)=>e[0]-t[0]).map(e=>e[1]);this.players.forEach(t=>{if("traveler"!==t.role.team&&e.length){const i=e.pop();this.$store.commit("players/update",{player:t,property:"role",value:i})}}),this.$store.commit("toggleModal","roles")}},...Object(o["c"])(["toggleModal"])},mounted:function(){Object.keys(this.roleSelection).length||this.selectRandomRoles()},watch:{roles(){this.selectRandomRoles()}}},pe=fe,ue=(i("9137"),Object(u["a"])(pe,ce,he,!1,null,"2f6beb9e",null)),be=ue.exports,_e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.modals.edition?s("Modal",{staticClass:"editions",on:{close:function(t){return e.toggleModal("edition")}}},[e.isCustom?s("div",{staticClass:"custom"},[s("h3",[e._v("Load custom script / characters")]),e._v(" To play with a custom script, you need to select the characters you want to play with in the official "),s("a",{attrs:{href:"https://script.bloodontheclocktower.com/",target:"_blank"}},[e._v("Script Tool")]),e._v(' and then upload the generated "custom-list.json" either directly here or provide a URL to such a hosted JSON file.'),s("br"),s("br"),e._v(" To play with custom characters, please read "),s("a",{attrs:{href:"https://github.com/bra1n/townsquare#custom-characters",target:"_blank"}},[e._v("the documentation")]),e._v(" on how to write a custom character definition file. "),s("b",[e._v("Only load custom JSON files from sources that you trust!")]),s("h3",[e._v("Some popular custom scripts:")]),s("ul",{staticClass:"scripts"},e._l(e.scripts,(function(t,i){return s("li",{key:i,on:{click:function(i){return e.handleURL(t[1])}}},[e._v(" "+e._s(t[0])+" ")])})),0),s("input",{ref:"upload",attrs:{type:"file",accept:"application/json"},on:{change:e.handleUpload}}),s("div",{staticClass:"button-group"},[s("div",{staticClass:"button",on:{click:e.openUpload}},[s("font-awesome-icon",{attrs:{icon:"file-upload"}}),e._v(" Upload JSON ")],1),s("div",{staticClass:"button",on:{click:e.promptURL}},[s("font-awesome-icon",{attrs:{icon:"link"}}),e._v(" Enter URL ")],1),s("div",{staticClass:"button",on:{click:function(t){e.isCustom=!1}}},[s("font-awesome-icon",{attrs:{icon:"undo"}}),e._v(" Back ")],1)])]):s("div",[s("h3",[e._v("Select an edition:")]),s("ul",{staticClass:"editions"},[e._l(e.editions,(function(t){return s("li",{key:t.id,staticClass:"edition",class:["edition-"+t.id],style:{backgroundImage:"url("+i("ce23")("./"+t.id+".png")+")"},on:{click:function(i){return e.setEdition(t)}}},[e._v(" "+e._s(t.name)+" ")])})),s("li",{staticClass:"edition edition-custom",style:{backgroundImage:"url("+i("441d")+")"},on:{click:function(t){e.isCustom=!0}}},[e._v(" 自定义剧本/角色 ")])],2)])]):e._e()},Ne=[],ye=i("00c0"),ve={components:{Modal:H},data:function(){return{editions:ye,isCustom:!1,scripts:[["Deadly Penance Day","https://gist.githubusercontent.com/bra1n/0337cc44c6fd2c44f7589256ed5486d2/raw/16be38fa3c01aaf49827303ac80577bdb52c0b25/penanceday.json"],["Catfishing 11.1","https://gist.githubusercontent.com/bra1n/8a5ec41a7bbf945f6b7dfc1cef72b569/raw/a312ab93c2f302e0ef83c8b65a4e8e82760fda3a/catfishing.json"],["On Thin Ice (Teensyville)","https://gist.githubusercontent.com/bra1n/8dacd9f2abc6f428331ea1213ab153f5/raw/0cacbcaf8ed9bddae0cca25a9ada97e9958d868b/on-thin-ice.json"],["Race To The Bottom (Teensyville)","https://gist.githubusercontent.com/bra1n/63e1354cb3dc9d4032bcd0623dc48888/raw/5acb0eedcc0a67a64a99c7e0e6271de0b7b2e1b2/race-to-the-bottom.json"],["Frankenstein's Mayor by Ted (Teensyville)","https://gist.githubusercontent.com/bra1n/32c52b422cc01b934a4291eeb81dbcee/raw/5bf770693bbf7aff5e86601c82ca4af3222f4ba6/Frankensteins_Mayor_by_Ted.json"],["Vigormortis High School (Teensyville)","https://gist.githubusercontent.com/bra1n/1f65bd4a999524719d5dabe98c3c2d27/raw/22bbec6bf56a51a7459e5ae41ed47e41971c5445/VigormortisHighSchool.json"]]}},computed:Object(o["d"])(["modals"]),methods:{openUpload(){this.$refs.upload.click()},handleUpload(){const e=this.$refs.upload.files[0];if(e&&e.size){const t=new FileReader;t.addEventListener("load",()=>{try{const e=JSON.parse(t.result);this.parseRoles(e)}catch(e){alert("Error reading custom script: "+e.message)}this.$refs.upload.value=""}),t.readAsText(e)}},promptURL(){const e=prompt("Enter URL to a custom-script.json file");e&&this.handleURL(e)},async handleURL(e){const t=await fetch(e);if(t&&t.json)try{const e=await t.json();this.parseRoles(e)}catch(i){alert("Error loading custom script: "+i.message)}},parseRoles(e){if(!e||!e.length)return;const t=e.findIndex(({id:e})=>"_meta"===e);let i={};if(t>-1&&(i=e.splice(t,1).pop()),this.$store.commit("setCustomRoles",e),this.$store.commit("setEdition",Object.assign({},i,{id:"custom"})),e.some(({id:e})=>this.$store.state.fabled.has(e))){const t=[];e.forEach(({id:e})=>{this.$store.state.fabled.has(e)&&t.push(this.$store.state.fabled.get(e))}),this.$store.commit("players/setFabled",{fabled:t})}this.isCustom=!1},...Object(o["c"])(["toggleModal","setEdition"])}},ke=ve,Re=(i("f8b5"),Object(u["a"])(ke,_e,Ne,!1,null,"094457dc",null)),we=Re.exports,xe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"intro"},[i("img",{staticClass:"logo",attrs:{src:"static/apple-icon.png",alt:""}}),i("div",[e._v(" 亲爱的玩家，欢迎来到血染钟楼"),i("br"),i("b",[i("span",{style:{color:"red"}},[e._v("（戏子剧制&肆书）的魔典!")])]),i("br"),e._v(" 请点击 "),i("span",{staticClass:"button",on:{click:e.toggleMenu}},[i("font-awesome-icon",{attrs:{icon:"cog"}}),e._v(" 菜单 ")],1),e._v("开始游戏 "),i("div",{staticClass:"footer"},[e._v(" 这个项目是免费和开源的，可以在 "),i("a",{attrs:{href:"https://github.com/bra1n/townsquare",target:"_blank"}},[e._v("GitHub")]),e._v(" 上找到，"),i("b",[i("a",{style:{color:"red"},attrs:{href:"",target:"_blank"}},[e._v("肆书")])]),e._v("对其做了部分修改，提高了游戏体验，本项目是非官方项目，「血染钟楼」是由Steven Medway设计，The Pandemonium Institute公司出品的桌游。 ")])])])},Oe=[],Se={data(){return{language:window.navigator.userLanguage||window.navigator.language}},methods:Object(o["c"])(["toggleMenu"])},Me=Se,Ie=(i("481c"),Object(u["a"])(Me,xe,Oe,!1,null,"9a270e62",null)),Ce=Ie.exports,Pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.modals.reference&&e.roles.size?s("Modal",{staticClass:"characters",on:{close:function(t){return e.toggleModal("reference")}}},[s("font-awesome-icon",{staticClass:"toggle",attrs:{icon:"cloud-moon",title:"Show Night Order"},on:{click:function(t){return e.toggleModal("nightOrder")}}}),s("h3",[e._v(" 角色技能表 "),s("font-awesome-icon",{attrs:{icon:"address-card"}}),e._v(" "+e._s(e.edition.name||"自定义剧本")+" ")],1),e._l(e.statesByRole,(function(t,i){return s("div",{key:i,staticClass:"team states"},[s("aside",[s("h4",[e._v("状态")])]),s("ul",e._l(t,(function(t){return s("li",{key:t.id},[s("span",{staticClass:"icon"}),s("div",{staticClass:"role"},[s("span",{staticClass:"name"},[e._v(e._s(t.name))]),s("span",{staticClass:"ability"},[e._v(e._s(t.description))])])])})),0)])})),e._l(e.rolesGrouped,(function(t,n){return s("div",{key:n,class:["team",n]},[s("aside",[s("h5",[e._v(e._s(e.getTeamZhCN(n)))])]),s("ul",[e._l(t,(function(t){return s("li",{key:t.id,class:[n]},[t.id?s("span",{staticClass:"icon",style:{backgroundImage:"url("+(t.image&&e.grimoire.isImageOptIn?t.image:i("61b0")("./"+(t.imageAlt||t.id)+".png"))+")"}}):e._e(),s("div",{staticClass:"role"},[Object.keys(e.playersByRole).length?s("span",{staticClass:"player"},[e._v(e._s(e.playersByRole[t.id]?e.playersByRole[t.id].join(", "):""))]):e._e(),s("span",{staticClass:"name"},[e._v(e._s(t.name))]),s("span",{staticClass:"ability"},[e._v(e._s(t.ability))])])])})),s("li",{class:[n]}),s("li",{class:[n]})],2)])})),e.jinxed.length?s("div",{staticClass:"team jinxed"},[s("aside",[s("h4",[e._v("冲突")])]),s("ul",[e._l(e.jinxed,(function(t,n){return s("li",{key:n},[s("span",{staticClass:"icon",style:{backgroundImage:"url("+i("61b0")("./"+t.first.id+".png")+")"}}),s("span",{staticClass:"icon",style:{backgroundImage:"url("+i("61b0")("./"+t.second.id+".png")+")"}}),s("div",{staticClass:"role"},[s("span",{staticClass:"name"},[e._v(e._s(t.first.name)+" & "+e._s(t.second.name))]),s("span",{staticClass:"ability"},[e._v(e._s(t.reason))])])])})),s("li"),s("li")],2)]):e._e()],2):e._e()},je=[],$e={components:{Modal:H},computed:{jinxed:function(){const e=[];return this.roles.forEach(t=>{this.jinxes.get(t.id)&&this.jinxes.get(t.id).forEach((i,s)=>{this.roles.get(s)&&e.push({first:t,second:this.roles.get(s),reason:i})})}),e},rolesGrouped:function(){const e={};return this.roles.forEach(t=>{e[t.team]||(e[t.team]=[]),e[t.team].push(t)}),delete e["traveler"],e},playersByRole:function(){const e={};return this.players.forEach(({name:t,role:i})=>{i&&i.id&&"traveler"!==i.team&&(e[i.id]||(e[i.id]=[]),e[i.id].push(t))}),e},statesByRole:function(){const e={};return this.states.forEach(t=>{t&&t.edition&&(e[t.edition]||(e[t.edition]=[]),e[t.edition].push(t))}),e},...Object(o["d"])(["roles","modals","edition","grimoire","jinxes","states"]),...Object(o["d"])("players",["players"])},methods:{...Object(o["c"])(["toggleModal"]),getTeamZhCN(e){let t={townsfolk:"镇民",outsider:"外来者",minion:"爪牙",fabled:"传奇",demon:"恶魔"};return t[e]}}},Te=$e,Ve=(i("79a8"),Object(u["a"])(Te,Pe,je,!1,null,"248a0646",null)),He=Ve.exports,Fe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"vote"}},[s("div",{staticClass:"arrows"},[s("span",{staticClass:"nominee",style:e.nomineeStyle}),s("span",{staticClass:"nominator",style:e.nominatorStyle})]),s("div",{staticClass:"overlay"},[s("audio",{attrs:{src:i("f6a8"),preload:"auto"}}),s("em",{staticClass:"blue"},[e._v(e._s(e.nominator.name))]),e._v(" nominated "),s("em",[e._v(e._s(e.nominee.name))]),e._v("! "),s("br"),s("em",{staticClass:"blue"},[e._v(" "+e._s(e.voters.length)+" vote"+e._s(1!==e.voters.length?"s":"")+" ")]),e._v(" in favor "),"traveler"!==e.nominee.role.team?s("em",[e._v(" (majority is "+e._s(Math.ceil(e.alive/2))+") ")]):s("em",[e._v("(majority is "+e._s(Math.ceil(e.players.length/2))+")")]),e.session.isSpectator?e.canVote?[e.session.isVoteInProgress?e._e():s("div",[e._v(" "+e._s(e.session.votingSpeed/1e3)+" seconds between votes ")]),s("div",{staticClass:"button-group"},[s("div",{staticClass:"button townsfolk",class:{disabled:!e.currentVote},on:{click:function(t){return e.vote(!1)}}},[e._v(" Hand DOWN ")]),s("div",{staticClass:"button demon",class:{disabled:e.currentVote},on:{click:function(t){return e.vote(!0)}}},[e._v(" Hand UP ")])])]:e.player?e._e():s("div",[e._v(" Please claim a seat to vote. ")]):[!e.session.isVoteInProgress&&e.session.lockedVote<1?s("div",[e._v(" Time per player: "),s("font-awesome-icon",{attrs:{icon:"minus-circle"},on:{mousedown:function(t){return t.preventDefault(),e.setVotingSpeed(-500)}}}),e._v(" "+e._s(e.session.votingSpeed/1e3)+"s "),s("font-awesome-icon",{attrs:{icon:"plus-circle"},on:{mousedown:function(t){return t.preventDefault(),e.setVotingSpeed(500)}}})],1):e._e(),s("div",{staticClass:"button-group"},[e.session.isVoteInProgress?e._e():s("div",{staticClass:"button townsfolk",on:{click:e.countdown}},[e._v(" Countdown ")]),e.session.isVoteInProgress?[s("div",{staticClass:"button townsfolk",class:{disabled:!e.session.lockedVote},on:{click:e.pause}},[e._v(" "+e._s(e.voteTimer?"Pause":"Resume")+" ")]),s("div",{staticClass:"button",on:{click:e.stop}},[e._v("Reset")])]:s("div",{staticClass:"button",on:{click:e.start}},[e._v(" "+e._s(e.session.lockedVote?"Restart":"Start")+" ")]),s("div",{staticClass:"button demon",on:{click:e.finish}},[e._v("Close")])],2),"traveler"!==e.nominee.role.team?s("div",{staticClass:"button-group mark"},[s("div",{staticClass:"button",class:{disabled:e.session.nomination[1]===e.session.markedPlayer},on:{click:e.setMarked}},[e._v(" Mark for execution ")]),s("div",{staticClass:"button",on:{click:e.removeMarked}},[e._v(" Clear mark ")])]):e._e()]],2),s("transition",{attrs:{name:"blur"}},[e.session.isVoteInProgress&&!e.session.lockedVote?s("div",{staticClass:"countdown"},[s("span",[e._v("3")]),s("span",[e._v("2")]),s("span",[e._v("1")]),s("span",[e._v("GO")]),s("audio",{attrs:{autoplay:!e.grimoire.isMuted,src:i("f6a8"),muted:e.grimoire.isMuted}})]):e._e()])],1)},Ee=[],Le={computed:{...Object(o["d"])("players",["players"]),...Object(o["d"])(["session","grimoire"]),...Object(o["b"])({alive:"players/alive"}),nominator:function(){return this.players[this.session.nomination[0]]},nominatorStyle:function(){const e=this.players.length,t=this.session.nomination[0];return{transform:`rotate(${Math.round(t/e*360)}deg)`,transitionDuration:this.session.votingSpeed-100+"ms"}},nominee:function(){return this.players[this.session.nomination[1]]},nomineeStyle:function(){const e=this.players.length,t=this.session.nomination[1],i=this.session.lockedVote,s=360*(t+Math.min(i,e))/e;return{transform:`rotate(${Math.round(s)}deg)`,transitionDuration:this.session.votingSpeed-100+"ms"}},player:function(){return this.players.find(e=>e.id===this.session.playerId)},currentVote:function(){const e=this.players.findIndex(e=>e.id===this.session.playerId);return e>=0?!!this.session.votes[e]:void 0},canVote:function(){if(!this.player)return!1;if(this.player.isVoteless&&"traveler"!==this.nominee.role.team)return!1;const e=this.session,t=this.players.length,i=this.players.indexOf(this.player),s=(i-1+t-e.nomination[1])%t;return s>=e.lockedVote-1},voters:function(){const e=this.session.nomination[1],t=Array(this.players.length).fill("").map((e,t)=>this.session.votes[t]?this.players[t].name:""),i=[...t.slice(e+1),...t.slice(0,e+1)];return(this.session.lockedVote?i.slice(0,this.session.lockedVote-1):i).filter(e=>!!e)}},data(){return{voteTimer:null}},methods:{countdown(){this.$store.commit("session/lockVote",0),this.$store.commit("session/setVoteInProgress",!0),this.voteTimer=setInterval(()=>{this.start()},4e3)},start(){this.$store.commit("session/lockVote",1),this.$store.commit("session/setVoteInProgress",!0),clearInterval(this.voteTimer),this.voteTimer=setInterval(()=>{this.$store.commit("session/lockVote"),this.session.lockedVote>this.players.length&&(clearInterval(this.voteTimer),this.$store.commit("session/setVoteInProgress",!1))},this.session.votingSpeed)},pause(){this.voteTimer?(clearInterval(this.voteTimer),this.voteTimer=null):this.voteTimer=setInterval(()=>{this.$store.commit("session/lockVote"),this.session.lockedVote>this.players.length&&(clearInterval(this.voteTimer),this.$store.commit("session/setVoteInProgress",!1))},this.session.votingSpeed)},stop(){clearInterval(this.voteTimer),this.voteTimer=null,this.$store.commit("session/setVoteInProgress",!1),this.$store.commit("session/lockVote",0)},finish(){clearInterval(this.voteTimer),this.$store.commit("session/addHistory",this.players),this.$store.commit("session/nomination")},vote(e){if(!this.canVote)return!1;const t=this.players.findIndex(e=>e.id===this.session.playerId);t>=0&&!!this.session.votes[t]!==e&&this.$store.commit("session/voteSync",[t,e])},setVotingSpeed(e){const t=Math.round(this.session.votingSpeed+e);t>0&&this.$store.commit("session/setVotingSpeed",t)},setMarked(){this.$store.commit("session/setMarkedPlayer",this.session.nomination[1])},removeMarked(){this.$store.commit("session/setMarkedPlayer",-1)}}},Ge=Le,De=(i("8e72"),Object(u["a"])(Ge,Fe,Ee,!1,null,"56f82741",null)),ze=De.exports,Ae=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"gradients"}},e._l(e.gradients,(function(e,t){return i("svg",{key:t,attrs:{width:"0",height:"0"}},[i("linearGradient",{attrs:{id:e[0],x1:"50%",y1:"100%",x2:"50%",y2:"0%"}},[i("stop",{style:{"stop-color":e[2],"stop-opacity":1},attrs:{offset:"0%"}}),i("stop",{style:{"stop-color":e[1],"stop-opacity":1},attrs:{offset:"100%"}})],1)],1)})),0)},Be=[],Ue={data(){return{gradients:[["demon","#ce0100","#000"],["townsfolk","#1f65ff","#000"],["default","#4E4E4E","#000"]]}}},Je=Ue,qe=(i("3f8f"),Object(u["a"])(Je,Ae,Be,!1,null,"1e202a64",null)),We=qe.exports,Ze=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},Ye=[],Ke={name:"News",components:{},data(){return{appid:"wx651415622fd057e5",secret:"6d5539fabfe20f5b6ba301ff3d7d74e8",code:"",resdata:{}}},created(){},methods:{getCode(){this.code="";var e=window.location.href;this.code=this.getUrlCode().code,null==this.code||""===this.code?window.location.href=`https://open.weixin.qq.com/connect/oauth2/authorize?appid=${this.appid}&redirect_uri=${encodeURIComponent(e)}&response_type=code&scope=snsapi_base&state=123#wechat_redirect`:(console.log(this.appid,this.secret,this.code),new WebSocket("ws://192.168.1.11:8081/"+this.code))},getUrlCode(){var e=location.search;this.winUrl=e;var t=new Object;if(-1!=e.indexOf("?"))for(var i=e.substr(1),s=i.split("&"),n=0;n<s.length;n++)t[s[n].split("=")[0]]=s[n].split("=")[1];return t}}},Qe=Ke,Xe=Object(u["a"])(Qe,Ze,Ye,!1,null,"83847bc6",null),et=Xe.exports,tt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.modals.nightOrder&&e.roles.size?s("Modal",{staticClass:"night-reference",on:{close:function(t){return e.toggleModal("nightOrder")}}},[s("font-awesome-icon",{staticClass:"toggle",attrs:{icon:"address-card",title:"Show Character Reference"},on:{click:function(t){return e.toggleModal("reference")}}}),s("h3",[e._v(" 夜间顺序 "),s("font-awesome-icon",{attrs:{icon:"cloud-moon"}}),e._v(" "+e._s(e.edition.name||"Custom Script")+" ")],1),s("div",{staticClass:"night"},[s("ul",{staticClass:"first"},[s("li",{staticClass:"headline"},[e._v("第一夜")]),e._l(e.rolesFirstNight,(function(t){return s("li",{key:t.name,class:[t.team]},[s("span",{staticClass:"name"},[e._v(" "+e._s(t.name)+" "),t.players.length?s("span",{staticClass:"player"},[s("br"),e._l(t.players,(function(i,n){return s("small",{key:n,class:{dead:i.isDead}},[e._v(e._s(i.name+(t.players.length>n+1?",":"")))])}))],2):e._e()]),t.id?s("span",{staticClass:"icon",style:{backgroundImage:"url("+(t.image&&e.grimoire.isImageOptIn?t.image:i("61b0")("./"+(t.imageAlt||t.id)+".png"))+")"}}):e._e(),t.firstNightReminder?s("span",{staticClass:"reminder"},[e._v(" "+e._s(t.firstNightReminder)+" ")]):e._e()])}))],2),s("ul",{staticClass:"other"},[s("li",{staticClass:"headline"},[e._v("其他夜")]),e._l(e.rolesOtherNight,(function(t){return s("li",{key:t.name,class:[t.team]},[t.id?s("span",{staticClass:"icon",style:{backgroundImage:"url("+(t.image&&e.grimoire.isImageOptIn?t.image:i("61b0")("./"+(t.imageAlt||t.id)+".png"))+")"}}):e._e(),s("span",{staticClass:"name"},[e._v(" "+e._s(t.name)+" "),t.players.length?s("span",{staticClass:"player"},[s("br"),e._l(t.players,(function(i,n){return s("small",{key:n,class:{dead:i.isDead}},[e._v(e._s(i.name+(t.players.length>n+1?",":"")))])}))],2):e._e()]),t.otherNightReminder?s("span",{staticClass:"reminder"},[e._v(" "+e._s(t.otherNightReminder)+" ")]):e._e()])}))],2)])],1):e._e()},it=[],st={components:{Modal:H},computed:{rolesFirstNight:function(){const e=[];return this.players.length>6&&e.push({id:"evil",name:"爪牙信息",firstNight:5,team:"minion",players:this.players.filter(e=>"minion"===e.role.team),firstNightReminder:"如果爪牙多于一位，让他们互相看清彼此。展示这是恶魔卡片。指向恶魔。"},{id:"evil",name:"恶魔信息与伪装身份",firstNight:8,team:"demon",players:this.players.filter(e=>"demon"===e.role.team),firstNightReminder:"展示这些是你的爪牙卡片。指向每个爪牙。展示这些身份不在游戏中卡片。展示3个不在场的善良身份"}),this.roles.forEach(t=>{const i=this.players.filter(e=>e.role.id===t.id);t.firstNight&&("traveler"!==t.team||i.length)&&e.push(Object.assign({players:i},t))}),this.fabled.filter(({firstNight:e})=>e).forEach(t=>{e.push(Object.assign({players:[]},t))}),e.sort((e,t)=>e.firstNight-t.firstNight),e},rolesOtherNight:function(){const e=[];return this.roles.forEach(t=>{const i=this.players.filter(e=>e.role.id===t.id);t.otherNight&&("traveler"!==t.team||i.length)&&e.push(Object.assign({players:i},t))}),this.fabled.filter(({otherNight:e})=>e).forEach(t=>{e.push(Object.assign({players:[]},t))}),e.sort((e,t)=>e.otherNight-t.otherNight),e},...Object(o["d"])(["roles","modals","edition","grimoire"]),...Object(o["d"])("players",["players","fabled"])},methods:{...Object(o["c"])(["toggleModal"])}},nt=st,rt=(i("812c"),Object(u["a"])(nt,tt,it,!1,null,"41d74ad0",null)),ot=rt.exports,at=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.modals.fabled&&e.fabled.length?i("Modal",{on:{close:function(t){return e.toggleModal("fabled")}}},[i("h3",[e._v(" 选择传奇角色加入游戏 ")]),i("ul",{staticClass:"tokens"},e._l(e.fabled,(function(t){return i("li",{key:t.id,on:{click:function(i){return e.setFabled(t)}}},[i("Token",{attrs:{role:t}})],1)})),0)]):e._e()},lt=[],mt={components:{Token:_,Modal:H},computed:{...Object(o["d"])(["modals","fabled","grimoire"]),fabled(){const e=[];return this.$store.state.fabled.forEach(t=>{this.$store.state.players.fabled.some(e=>e.id===t.id)||e.push(t)}),e}},methods:{setFabled(e){this.$store.commit("players/setFabled",{fabled:e}),this.$store.commit("toggleModal","fabled")},...Object(o["c"])(["toggleModal"])}},dt=mt,ct=(i("25a3"),Object(u["a"])(dt,at,lt,!1,null,"a1c6a574",null)),ht=ct.exports,gt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return!e.modals.voteHistory||!e.session.voteHistory&&e.session.isSpectator?e._e():i("Modal",{staticClass:"vote-history",on:{close:function(t){return e.toggleModal("voteHistory")}}},[e.session.isSpectator?i("font-awesome-icon",{staticClass:"clear",attrs:{icon:"trash-alt",title:"Clear vote history"},on:{click:e.clearVoteHistory}}):e._e(),i("h3",[e._v("投票记录")]),e.session.isSpectator?e._e():[i("div",{staticClass:"options"},[i("div",{staticClass:"option",on:{click:e.setRecordVoteHistory}},[i("font-awesome-icon",{attrs:{icon:["fas",e.session.isVoteHistoryAllowed?"check-square":"square"]}}),e._v(" 玩家是否可查看 ")],1),i("div",{staticClass:"option",on:{click:e.clearVoteHistory}},[i("font-awesome-icon",{attrs:{icon:"trash-alt"}}),e._v(" 清空记录 ")],1)])],i("table",[i("thead",[i("tr",[i("td",[e._v("时间")]),i("td",[e._v("发起提名")]),i("td",[e._v("被提名")]),i("td",[e._v("类型")]),i("td",[e._v("票数")]),i("td",[e._v("通过票数")]),i("td",[i("font-awesome-icon",{attrs:{icon:"user-friends"}}),e._v(" 投票人 ")],1)])]),i("tbody",e._l(e.session.voteHistory,(function(t,s){return i("tr",{key:s},[i("td",[e._v(" "+e._s(t.timestamp.getHours().toString().padStart(2,"0"))+":"+e._s(t.timestamp.getMinutes().toString().padStart(2,"0"))+" ")]),i("td",[e._v(e._s(t.nominator))]),i("td",[e._v(e._s(t.nominee))]),i("td",[e._v(e._s(t.type))]),i("td",[e._v(" "+e._s(t.votes.length)+" "),i("font-awesome-icon",{attrs:{icon:"hand-paper"}})],1),i("td",[e._v(" "+e._s(t.majority)+" "),i("font-awesome-icon",{attrs:{icon:["fas",t.votes.length>=t.majority?"check-square":"square"]}})],1),i("td",[e._v(" "+e._s(t.votes.join(", "))+" ")])])})),0)])],2)},ft=[],pt={components:{Modal:H},computed:{...Object(o["d"])(["session","modals"])},methods:{clearVoteHistory(){this.$store.commit("session/clearVoteHistory")},setRecordVoteHistory(){this.$store.commit("session/setVoteHistoryAllowed",!this.session.isVoteHistoryAllowed)},...Object(o["c"])(["toggleModal"])}},ut=pt,bt=(i("7a30"),Object(u["a"])(ut,gt,ft,!1,null,"74395926",null)),_t=bt.exports,Nt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.modals.gameState?i("Modal",{staticClass:"game-state",on:{close:function(t){return e.toggleModal("gameState")}}},[i("h3",[e._v("游戏状态代码")]),i("textarea",{domProps:{value:e.gamestate},on:{input:function(t){t.stopPropagation(),e.input=t.target.value},click:function(e){return e.target.select()},keyup:function(e){e.stopPropagation()}}}),i("div",{staticClass:"button-group"},[i("div",{staticClass:"button townsfolk",on:{click:e.copy}},[i("font-awesome-icon",{attrs:{icon:"copy"}}),e._v(" 复制代码 ")],1),e.session.isSpectator?e._e():i("div",{staticClass:"button demon",on:{click:e.load}},[i("font-awesome-icon",{attrs:{icon:"cog"}}),e._v(" 加载状态 ")],1)])]):e._e()},yt=[],vt={components:{Modal:H},computed:{gamestate:function(){return JSON.stringify({bluffs:this.players.bluffs.map(({id:e})=>e),edition:this.edition.isOfficial?{id:this.edition.id}:this.edition,roles:this.edition.isOfficial?"":this.$store.getters.customRolesStripped,fabled:this.players.fabled.map(e=>e.isCustom?e:{id:e.id}),players:this.players.players.map(e=>({...e,role:e.role.id||{}}))})},...Object(o["d"])(["modals","players","edition","roles","session"])},data(){return{input:""}},methods:{copy:function(){navigator.clipboard.writeText(this.input||this.gamestate)},load:function(){if(!this.session.isSpectator)try{const e=JSON.parse(this.input||this.gamestate),{bluffs:t,edition:i,roles:s,fabled:n,players:r}=e;s&&this.$store.commit("setCustomRoles",s),i&&this.$store.commit("setEdition",i),t.length&&t.forEach((e,t)=>{this.$store.commit("players/setBluff",{index:t,role:this.$store.state.roles.get(e)||{}})}),n&&this.$store.commit("players/setFabled",{fabled:n.map(e=>this.$store.state.fabled.get(e)||this.$store.state.fabled.get(e.id)||e)}),r&&this.$store.commit("players/set",r.map(e=>({...e,role:this.$store.state.roles.get(e.role)||this.$store.getters.rolesJSONbyId.get(e.role)||{}}))),this.toggleModal("gameState")}catch(e){alert("Unable to parse JSON: "+e)}},...Object(o["c"])(["toggleModal"])}},kt=vt,Rt=(i("2cf6"),Object(u["a"])(kt,Nt,yt,!1,null,"320a87fc",null)),wt=Rt.exports,xt={components:{GameStateModal:wt,VoteHistoryModal:_t,FabledModal:ht,NightOrderModal:ot,Vote:ze,ReferenceModal:He,Intro:Ce,TownInfo:ne,TownSquare:K,Menu:de,EditionModal:we,RolesModal:be,Gradients:We,Login:et},computed:{...Object(o["d"])(["grimoire","session"]),...Object(o["d"])("players",["players"])},data(){return{version:a["a"]}},methods:{keyup({key:e,ctrlKey:t,metaKey:i}){if(!t&&!i)switch(e.toLocaleLowerCase()){case"g":this.$store.commit("toggleGrimoire");break;case"a":this.$refs.menu.addPlayer();break;case"h":this.$refs.menu.hostSession();break;case"j":this.$refs.menu.joinSession();break;case"r":this.$store.commit("toggleModal","reference");break;case"n":this.$store.commit("toggleModal","nightOrder");break;case"e":if(this.session.isSpectator)return;this.$store.commit("toggleModal","edition");break;case"c":if(this.session.isSpectator)return;this.$store.commit("toggleModal","roles");break;case"v":!this.session.voteHistory.length&&this.session.isSpectator||this.$store.commit("toggleModal","voteHistory");break;case"s":if(this.session.isSpectator)return;this.$refs.menu.toggleNight();break;case"escape":this.$store.commit("toggleModal")}}}},Ot=xt,St=(i("5c0b"),Object(u["a"])(Ot,n,r,!1,null,null,null)),Mt=St.exports,It=i("dfb1"),Ct=i.n(It);class Pt{constructor(e){this._wss="wss://clocktower.gstonegames.com:8081/",this._socket=null,this._isSpectator=!0,this._gamestate=[],this._store=e,this._pingInterval=5e3,this._pingTimer=null,this._reconnectTimer=null,this._players={},this._pings={},this._message=[],this._store.state.session.sessionId&&this.connect(this._store.state.session.sessionId)}_open(e){this.disconnect(),this._socket=new WebSocket(this._wss+e+"/"+(this._isSpectator?this._store.state.session.playerId:"host")),this._socket.addEventListener("message",this._handleMessage.bind(this)),this._socket.onopen=this._onOpen.bind(this),this._socket.onclose=t=>{this._socket=null,clearInterval(this._pingTimer),this._pingTimer=null,1e3!==t.code?(this._store.commit("session/setReconnecting",!0),this._reconnectTimer=setTimeout(()=>{this.connect(e)},3e3)):(this._store.commit("players/clear"),this._store.commit("players/addHost",{}),this._store.commit("session/claimSeat",-1),this._store.commit("session/setSpectator",!0),this._store.commit("session/setSessionId",""),t.reason&&alert(t.reason))}}_send(e,t){this._socket&&1===this._socket.readyState&&this._socket.send(JSON.stringify([e,t]))}_sendDirect(e,t,i){e?this._send("direct",{[e]:[t,i]}):this._send(t,i)}_onOpen(){this._isSpectator?this._sendDirect("host","getGamestate",this._store.state.session.playerId):this.sendGamestate(),this._ping()}_ping(){this._handlePing(),this._send("ping",[this._isSpectator?this._store.state.session.playerId:Object.keys(this._players).length,"latency"]),clearTimeout(this._pingTimer),this._pingTimer=setTimeout(this._ping.bind(this),this._pingInterval)}_updateNewMessage(e){e.targetId===this._store.state.session.playerId&&(this._store.state.session.MsgList.push(e),this._store.commit("session/setMsgList",this._store.state.session.MsgList),this._store.state.session.isMsgOpen&&e.senderUserId===this._store.state.session.toMsg&&s["default"].nextTick(()=>{this._store.state.session.MsgList.filter(e=>(this._store.state.session.toMsg===e.senderUserId&&(e.status=0,this._store.commit("session/setMsgList",this._store.state.session.MsgList)),e));let e=document.getElementById("showMsg");e.scrollTop=e.scrollHeight}))}_updatebluffs(e){e.length&&e.forEach((e,t)=>{this._store.commit("players/setBluff",{index:t,role:this._store.state.roles.get(e)||{}})})}_handleMessage({data:e}){let t,i;try{[t,i]=JSON.parse(e)}catch(s){console.log("unsupported socket message",e)}switch(t){case"msg":this._updateNewMessage(i);break;case"bluffs":this._updatebluffs(i);break;case"reminders":this.$store.commit("players/update",{player:this.player,property:"reminders",params:i});break;case"getGamestate":this.sendGamestate(i);break;case"edition":this._updateEdition(i);break;case"fabled":this._updateFabled(i);break;case"gs":this._updateGamestate(i);break;case"player":this._updatePlayer(i);break;case"claim":this._updateSeat(i);break;case"ping":this._handlePing(i);break;case"nomination":if(!this._isSpectator)return;i||this._store.commit("session/addHistory",this._store.state.players.players),this._store.commit("session/nomination",{nomination:i});break;case"swap":if(!this._isSpectator)return;this._store.commit("players/swap",i);break;case"move":if(!this._isSpectator)return;this._store.commit("players/move",i);break;case"remove":if(!this._isSpectator)return;this._store.commit("players/remove",i);break;case"marked":if(!this._isSpectator)return;this._store.commit("session/setMarkedPlayer",i);break;case"isNight":if(!this._isSpectator)return;this._store.commit("toggleNight",i);break;case"isVoteHistoryAllowed":if(!this._isSpectator)return;this._store.commit("session/setVoteHistoryAllowed",i),this._store.commit("session/clearVoteHistory");break;case"votingSpeed":if(!this._isSpectator)return;this._store.commit("session/setVotingSpeed",i);break;case"clearVoteHistory":if(!this._isSpectator)return;this._store.commit("session/clearVoteHistory");break;case"isVoteInProgress":if(!this._isSpectator)return;this._store.commit("session/setVoteInProgress",i);break;case"vote":this._handleVote(i);break;case"lock":this._handleLock(i);break;case"bye":this._handleBye(i);break;case"byebye":console.log("byebye",i);break;case"pronouns":this._updatePlayerPronouns(i);break}}connect(e){this._store.state.session.playerId||this._store.commit("session/setPlayerId",Math.random().toString(36).substr(2)),this._pings={},this._store.commit("session/setPlayerCount",0),this._store.commit("session/setPing",0),this._isSpectator=this._store.state.session.isSpectator,this._open(e)}disconnect(){this._pings={},this._store.commit("session/setPlayerCount",0),this._store.commit("session/setPing",0),this._store.commit("session/setReconnecting",!1),clearTimeout(this._reconnectTimer),this._socket&&(this._isSpectator?this._sendDirect("host","bye",this._store.state.session.playerId):this._send("byebye",this._store.state.session.playerId),this._socket.close(1e3),this._socket=null)}sendGamestate(e="",t=!1){if(!this._isSpectator)if(this._gamestate=this._store.state.players.players.map(e=>({host:e.host,name:e.name,id:e.id,isDead:e.isDead,isVoteless:e.isVoteless,pronouns:e.pronouns,...e.role&&"traveler"===e.role.team?{roleId:e.role.id}:{}})),t)this._sendDirect(e,"gs",{gamestate:this._gamestate,isLightweight:t});else{const{session:t,grimoire:i}=this._store.state,{fabled:s}=this._store.state.players;this.sendEdition(e),this._sendDirect(e,"gs",{gamestate:this._gamestate,host:this._store.state.players.host,isNight:i.isNight,isVoteHistoryAllowed:t.isVoteHistoryAllowed,nomination:t.nomination,votingSpeed:t.votingSpeed,lockedVote:t.lockedVote,isVoteInProgress:t.isVoteInProgress,markedPlayer:t.markedPlayer,fabled:s.map(e=>e.isCustom?e:{id:e.id}),...t.nomination?{votes:t.votes}:{}})}}_updateGamestate(e){if(!this._isSpectator)return;const{gamestate:t,isLightweight:i,isNight:s,isVoteHistoryAllowed:n,nomination:r,votingSpeed:o,votes:a,lockedVote:l,isVoteInProgress:m,markedPlayer:d,fabled:c,host:h}=e,g=this._store.state.players.players;if(g.length<t.length)for(let f=g.length;f<t.length;f++)this._store.commit("players/add",t[f].name);else if(g.length>t.length)for(let f=g.length;f>t.length;f--)this._store.commit("players/remove",f-1);h?this._store.commit("players/setHost",h):(this._socket.close(1e3),this._socket=null),t.forEach((e,t)=>{const i=g[t],{roleId:s}=e;if(["name","id","isDead","isVoteless","pronouns"].forEach(t=>{const s=e[t];i[t]!==s&&this._store.commit("players/update",{player:i,property:t,value:s})}),s&&i.role.id!==s){const e=this._store.state.roles.get(s)||this._store.getters.rolesJSONbyId.get(s);e&&this._store.commit("players/update",{player:i,property:"role",value:e})}else s||"traveler"!==i.role.team||this._store.commit("players/update",{player:i,property:"role",value:{}})}),i||(this._store.commit("toggleNight",!!s),this._store.commit("session/setVoteHistoryAllowed",n),this._store.commit("session/nomination",{nomination:r,votes:a,votingSpeed:o,lockedVote:l,isVoteInProgress:m}),this._store.commit("session/setMarkedPlayer",d),this._store.commit("players/setFabled",{fabled:c.map(e=>this._store.state.fabled.get(e.id)||e)}))}sendEdition(e=""){if(this._isSpectator)return;const{edition:t}=this._store.state;let i;t.isOfficial||(i=this._store.getters.customRolesStripped),this._sendDirect(e,"edition",{edition:t.isOfficial?{id:t.id}:t,...i?{roles:i}:{}})}_updateEdition({edition:e,roles:t}){if(this._isSpectator&&(this._store.commit("setEdition",e),t&&(this._store.commit("setCustomRoles",t),this._store.state.roles.size!==t.length))){const e=[];t.forEach(({id:t})=>{this._store.state.roles.get(t)||e.push(t)}),alert("This session contains custom characters that can't be found. Please load them before joining! Missing roles: "+e.join(", ")),this.disconnect(),this._store.commit("toggleModal","edition")}}sendFabled(){if(this._isSpectator)return;const{fabled:e}=this._store.state.players;this._send("fabled",e.map(e=>e.isCustom?e:{id:e.id}))}_updateFabled(e){this._isSpectator&&this._store.commit("players/setFabled",{fabled:e.map(e=>this._store.state.fabled.get(e.id)||e)})}sendPlayer({player:e,property:t,value:i}){if(this._isSpectator||"reminders"===t)return;const s=this._store.state.players.players.indexOf(e);"role"===t?i.team&&"traveler"===i.team?(this._gamestate[s].roleId=i.id,this._send("player",{index:s,property:t,value:i.id})):this._gamestate[s].roleId&&(delete this._gamestate[s].roleId,this._send("player",{index:s,property:t,value:""})):this._send("player",{index:s,property:t,value:i})}_updatePlayer({index:e,property:t,value:i}){if(!this._isSpectator)return;const s=this._store.state.players.players[e];if(s)if("role"===t)if(i||"traveler"!==s.role.team){const e=this._store.state.roles.get(i)||this._store.getters.rolesJSONbyId.get(i)||{};this._store.commit("players/update",{player:s,property:"role",value:e})}else this._store.commit("players/update",{player:s,property:"role",value:{}});else this._store.commit("players/update",{player:s,property:t,value:i})}sendPlayerPronouns({player:e,value:t,isFromSockets:i}){if(i||this._isSpectator&&this._store.state.session.playerId!==e.id)return;const s=this._store.state.players.players.indexOf(e);this._send("pronouns",[s,t])}_updatePlayerPronouns([e,t]){const i=this._store.state.players.players[e];this._store.commit("players/update",{player:i,property:"pronouns",value:t,isFromSockets:!0})}_handlePing([e=0,t]=[]){const i=(new Date).getTime();if(this._isSpectator)t&&this._store.commit("session/setPing",parseInt(t,10));else{for(let e in this._players)i-this._players[e]>2*this._pingInterval&&(delete this._players[e],delete this._pings[e]);if(e){this._players[e]=i;const s=parseInt(t,10);if(s&&s>0&&s<3e4){this._pings[e]=s;const t=Object.values(this._pings);this._store.commit("session/setPing",Math.round(t.reduce((e,t)=>e+t,0)/t.length))}}}this._isSpectator&&!e||this._store.commit("session/setPlayerCount",this._isSpectator?e+1:Object.keys(this._players).length+1)}_handleBye(e){this._isSpectator||(delete this._players[e],this._store.commit("session/setPlayerCount",Object.keys(this._players).length))}claimSeat(e){if(!this._isSpectator)return;const t=this._store.state.players.players;t.length>e&&(e<0||!t[e].id)&&this._send("claim",[e,this._store.state.session.playerId,this._store.state.session.NickName])}_updateSeat([e,t,i]){if(this._isSpectator)return;const s="id",n=this._store.state.players.players,r=n.findIndex(({id:e})=>e===t);if(r>=0&&r!==e&&(this._store.commit("players/update",{player:n[r],property:s,value:""}),this._store.commit("players/update",{player:n[r],property:"pronouns",value:""})),e>=0){const r=n[e];if(!r)return;this._store.commit("players/update",{player:r,property:s,value:t}),this._store.commit("players/update",{player:r,property:"pronouns",value:i})}this._handlePing([!0,t,0])}distributeRoles(){if(this._isSpectator)return;const e={},t=[];this._store.state.players.bluffs.forEach(e=>{t.push(e.id)}),this._store.state.players.players.forEach((i,s)=>{"demon"===i.role.team&&i.id&&(console.log(i.id),this._sendDirect(i.id,"bluffs",t)),i.id&&i.role&&(e[i.id]=["player",{index:s,property:"role",value:i.role.id}])}),Object.keys(e).length&&this._send("direct",e)}nomination(e){if(this._isSpectator)return;const t=e&&e.nomination||e,i=this._store.state.players.players;(!t||i.length>t[0]&&i.length>t[1])&&(this.setVotingSpeed(this._store.state.session.votingSpeed),this._send("nomination",t))}setVoteInProgress(){this._isSpectator||this._send("isVoteInProgress",this._store.state.session.isVoteInProgress)}setIsNight(){this._isSpectator||this._send("isNight",this._store.state.grimoire.isNight)}setVoteHistoryAllowed(){this._isSpectator||this._send("isVoteHistoryAllowed",this._store.state.session.isVoteHistoryAllowed)}setVotingSpeed(e){this._isSpectator||e&&this._send("votingSpeed",e)}setMarked(e){this._isSpectator||this._send("marked",e)}clearVoteHistory(){this._isSpectator||this._send("clearVoteHistory")}vote([e]){const t=this._store.state.players.players[e];this._store.state.session.playerId!==t.id&&this._isSpectator||this._send("vote",[e,this._store.state.session.votes[e],!this._isSpectator])}_handleVote([e,t,i]){const{session:s,players:n}=this._store.state,r=n.players.length,o=(e-1+r-s.nomination[1])%r;(i||o>=s.lockedVote-1)&&this._store.commit("session/vote",[e,t])}lockVote(){if(this._isSpectator)return;const{lockedVote:e,votes:t,nomination:i}=this._store.state.session,{players:s}=this._store.state.players,n=(i[1]+e-1)%s.length;this._send("lock",[this._store.state.session.lockedVote,t[n]])}_handleLock([e,t]){if(this._isSpectator&&(this._store.commit("session/lockVote",e),e>1)){const{lockedVote:e,nomination:i}=this._store.state.session,{players:s}=this._store.state.players,n=(i[1]+e-1)%s.length;this._store.state.session.votes[n]!==t&&this._store.commit("session/vote",[n,t])}}swapPlayer(e){this._isSpectator||this._send("swap",e)}movePlayer(e){this._isSpectator||this._send("move",e)}removePlayer(e){this._isSpectator||this._send("remove",e)}sendMessage(e){this._isSpectator?this._sendDirect("host","msg",e):this._sendDirect(e.targetId,"msg",e)}addHost(e){this._store.state.players.players.host=e}setcount(e){console.log(e)}}var jt=e=>{const t=new Pt(e);e.subscribe(({type:e,payload:i},s)=>{switch(e){case"session/setMessage":t.handleMessage(i);break;case"session/setcount":t.setcount(i);break;case"session/sendMessage":t.sendMessage(i);break;case"session/setSessionId":s.session.sessionId?t.connect(s.session.sessionId):(window.location.hash="",t.disconnect());break;case"session/claimSeat":t.claimSeat(i);break;case"session/distributeRoles":i&&t.distributeRoles();break;case"session/nomination":case"session/setNomination":t.nomination(i);break;case"session/setVoteInProgress":t.setVoteInProgress(i);break;case"session/voteSync":t.vote(i);break;case"session/lockVote":t.lockVote();break;case"session/setVotingSpeed":t.setVotingSpeed(i);break;case"session/clearVoteHistory":t.clearVoteHistory();break;case"session/setVoteHistoryAllowed":t.setVoteHistoryAllowed();break;case"toggleNight":t.setIsNight();break;case"setEdition":t.sendEdition();break;case"players/setFabled":t.sendFabled();break;case"session/setMarkedPlayer":t.setMarked(i);break;case"players/swap":t.swapPlayer(i);break;case"players/setHost":case"players/addHost":t.addHost(i);break;case"players/move":t.movePlayer(i);break;case"players/remove":t.removePlayer(i);break;case"players/set":case"players/clear":case"players/add":t.sendGamestate("",!0);break;case"players/update":"pronouns"===i.property?t.sendPlayerPronouns(i):t.sendPlayer(i);break}});const i=window.location.hash.substr(1);i&&(e.commit("session/setSpectator",!0),e.commit("session/setSessionId",i),e.commit("toggleGrimoire",!1))};const $t={name:"",id:"",role:{},reminders:[],isVoteless:!1,isDead:!1,pronouns:"",online:!0,count:0},Tt=()=>({players:[],fabled:[],bluffs:[],message:[],host:{}}),Vt={alive({players:e}){return e.filter(e=>!e.isDead).length},nonTravelers({players:e}){const t=e.filter(e=>"traveler"!==e.role.team);return Math.min(t.length,15)},nightOrder({players:e,fabled:t}){const i=[0],s=[0];e.forEach(({role:e})=>{e.firstNight&&!i.includes(e.firstNight)&&i.push(e.firstNight),e.otherNight&&!s.includes(e.otherNight)&&s.push(e.otherNight)}),t.forEach(e=>{e.firstNight&&!i.includes(e.firstNight)&&i.push(e.firstNight),e.otherNight&&!s.includes(e.otherNight)&&s.push(e.otherNight)}),i.sort((e,t)=>e-t),s.sort((e,t)=>e-t);const n=new Map;return e.forEach(e=>{const t=Math.max(i.indexOf(e.role.firstNight),0),r=Math.max(s.indexOf(e.role.otherNight),0);n.set(e,{first:t,other:r})}),t.forEach(e=>{const t=Math.max(i.indexOf(e.firstNight),0),r=Math.max(s.indexOf(e.otherNight),0);n.set(e,{first:t,other:r})}),n}},Ht={randomize({state:e,commit:t}){const i=e.players.map(e=>[Math.random(),e]).sort((e,t)=>e[0]-t[0]).map(e=>e[1]);t("set",i)},clearRoles({state:e,commit:t,rootState:i}){let s;i.session.isSpectator?s=e.players.map(e=>("traveler"!==e.role.team&&(e.role={}),e.reminders=[],e)):(s=e.players.map(({name:e,id:t,pronouns:i})=>({...$t,name:e,id:t,pronouns:i})),t("setFabled",{fabled:[]})),t("set",s),t("setBluff")}},Ft={clear(e){e.players=[],e.bluffs=[],e.fabled=[]},set(e,t=[]){e.players=t},update(e,{player:t,property:i,value:s}){const n=e.players.indexOf(t);n>=0&&(e.players[n][i]=s)},addHost(e,t){e.host={...$t,...t}},setHost(e,t){e.host=t},add(e,t){e.players.push({...$t,name:t})},remove(e,t){e.players.splice(t,1)},swap(e,[t,i]){[e.players[t],e.players[i]]=[e.players[i],e.players[t]],e.players.splice(0,0)},move(e,[t,i]){e.players.splice(i,0,e.players.splice(t,1)[0])},setBluff(e,{index:t,role:i}={}){void 0!==t?e.bluffs.splice(t,1,i):e.bluffs=[]},setFabled(e,{index:t,fabled:i}={}){void 0!==t?e.fabled.splice(t,1):i&&(Array.isArray(i)?e.fabled=i:e.fabled.push(i))}};var Et={namespaced:!0,state:Tt,getters:Vt,actions:Ht,mutations:Ft};const Lt=(e,[t,i])=>{e.nomination&&(e.votes=[...e.votes],e.votes[t]=void 0===i?!e.votes[t]:i)},Gt=()=>({sessionId:"",isSpectator:!1,isReconnecting:!1,playerCount:0,ping:0,playerId:"",NickName:"",claimedSeat:-1,nomination:!1,votes:[],lockedVote:0,votingSpeed:3e3,isVoteInProgress:!1,voteHistory:[],markedPlayer:-1,isVoteHistoryAllowed:!0,isRolesDistributed:!1,message:[],toMsg:"",isMsgOpen:!1,MsgList:[],toNickName:"",isLogin:!1}),Dt={},zt={},At=e=>(t,i)=>{t[e]=i},Bt={setcount:At("setcount"),sendMessage:At("sendMessage"),setMsgList:At("MsgList"),setPlayerId:At("playerId"),setNickName:At("NickName"),setSpectator:At("isSpectator"),setReconnecting:At("isReconnecting"),setPlayerCount:At("playerCount"),setPing:At("ping"),setVotingSpeed:At("votingSpeed"),setVoteInProgress:At("isVoteInProgress"),setMarkedPlayer:At("markedPlayer"),setNomination:At("nomination"),setVoteHistoryAllowed:At("isVoteHistoryAllowed"),claimSeat:At("claimedSeat"),distributeRoles:At("isRolesDistributed"),setSessionId(e,t){e.sessionId=t.toLocaleLowerCase().replace(/[^0-9a-z]/g,"").substr(0,10)},nomination(e,{nomination:t,votes:i,votingSpeed:s,lockedVote:n,isVoteInProgress:r}={}){e.nomination=t||!1,e.votes=i||[],e.votingSpeed=s||e.votingSpeed,e.lockedVote=n||0,e.isVoteInProgress=r||!1},addHistory(e,t){if(!e.isVoteHistoryAllowed&&e.isSpectator)return;if(!e.nomination||e.lockedVote<=t.length)return;const i="traveler"===t[e.nomination[1]].role.team;e.voteHistory.push({timestamp:new Date,nominator:t[e.nomination[0]].name,nominee:t[e.nomination[1]].name,type:i?"Exile":"Execution",majority:Math.ceil(t.filter(e=>!e.isDead||i).length/2),votes:t.filter((t,i)=>e.votes[i]).map(({name:e})=>e)})},clearVoteHistory(e){e.voteHistory=[]},vote:Lt,voteSync:Lt,lockVote(e,t){e.lockedVote=void 0!==t?t:e.lockedVote+1}};var Ut={namespaced:!0,state:Gt,getters:Dt,actions:zt,mutations:Bt},Jt=i("b1d9"),qt=i("b249"),Wt=i("c825"),Zt=i("bdc5");s["default"].use(o["a"]);const Yt=(e=ye[0])=>{let t=new Map(Zt.filter(t=>t.edition===e.id).map(e=>[e.id,e]));return t},Kt=(e=ye[0])=>new Map(Jt.filter(t=>t.edition===e.id||e.roles.includes(t.id)).sort((e,t)=>t.team.localeCompare(e.team)).map(e=>[e.id,e])),Qt=(e=ye[0])=>new Map(Jt.filter(t=>"traveler"===t.team&&t.edition!==e.id&&!e.roles.includes(t.id)).map(e=>[e.id,e])),Xt=e=>({grimoire:t},i)=>{t[e]=i},ei=e=>({grimoire:t},i)=>{t[e]=!0===i||!1===i?i:!t[e]},ti=e=>e.toLocaleLowerCase().replace(/[^a-z0-9]/g,""),ii=new Map(ye.map(e=>[e.id,e])),si=new Map(Jt.map(e=>[e.id,e])),ni=new Map(qt.map(e=>[e.id,e]));let ri={};try{ri=new Map(Wt.map(({id:e,hatred:t})=>[ti(e),new Map(t.map(({id:e,reason:t})=>[ti(e),t]))]))}catch(ui){console.error("couldn't load jinxes",ui)}const oi={id:"",name:"",image:"",ability:"",edition:"custom",firstNight:0,firstNightReminder:"",otherNight:0,otherNightReminder:"",reminders:[],remindersGlobal:[],setup:!1,team:"townsfolk",isCustom:!0};var ai=new o["a"].Store({modules:{players:Et,session:Ut},state:{grimoire:{isNight:!1,isNightOrder:!0,isPublic:!0,isMenuOpen:!1,isStatic:!1,isMuted:!1,isImageOptIn:!1,zoom:0,background:""},modals:{edition:!1,fabled:!1,gameState:!1,nightOrder:!1,reference:!1,reminder:!1,role:!1,roles:!1,voteHistory:!1},edition:ii.get("tb"),roles:Kt(),otherTravelers:Qt(),states:Yt(),fabled:ni,jinxes:ri},getters:{customRolesStripped:({roles:e})=>{const t=[],i=Object.keys(oi),s=["firstNightReminder","otherNightReminder","isCustom"];return e.forEach(e=>{if(e.isCustom){const n={};for(let t in e){if(s.includes(t))continue;const r=e[t];i.includes(t)&&r!==oi[t]&&(n[i.indexOf(t)]=r)}t.push(n)}else t.push({id:e.id})}),t},rolesJSONbyId:()=>si},mutations:{setZoom:Xt("zoom"),setBackground:Xt("background"),toggleMuted:ei("isMuted"),toggleMenu:ei("isMenuOpen"),toggleNightOrder:ei("isNightOrder"),toggleStatic:ei("isStatic"),toggleNight:ei("isNight"),toggleGrimoire:ei("isPublic"),toggleImageOptIn:ei("isImageOptIn"),toggleModal({modals:e},t){t&&(e[t]=!e[t]);for(let i in e)i!==t&&(e[i]=!1)},setCustomRoles(e,t){const i=t.map(e=>{if(e[0]){const t=Object.keys(oi),i={};for(let s in e)t[s]&&(i[t[s]]=e[s]);return i}return e}).map(e=>(e.id=ti(e.id),e)).map(t=>si.get(t.id)||e.roles.get(t.id)||Object.assign({},oi,t)).map(e=>(si.get(e.id)||(e.imageAlt={townsfolk:"good",outsider:"outsider",minion:"minion",demon:"evil",fabled:"fabled"}[e.team]||"custom",e.firstNight=Math.abs(e.firstNight),e.otherNight=Math.abs(e.otherNight)),e)).filter(e=>e.name&&e.ability&&e.team).sort((e,t)=>t.team.localeCompare(e.team));e.roles=new Map(i.filter(e=>"fabled"!==e.team).map(e=>[e.id,e])),e.fabled=new Map([...i.filter(e=>"fabled"===e.team).map(e=>[e.id,e]),...qt.map(e=>[e.id,e])]),e.otherTravelers=new Map(Jt.filter(e=>"traveler"===e.team&&!t.some(t=>t.id===e.id)).map(e=>[e.id,e]))},setEdition(e,t){ii.has(t.id)?(e.edition=ii.get(t.id),e.roles=Kt(e.edition),e.otherTravelers=Qt(e.edition),e.states=Yt(e.edition)):e.edition=t,e.modals.edition=!1}},plugins:[Ct.a,jt]}),li=i("ecee"),mi=i("c074"),di=i("f2d1"),ci=i("ad3d"),hi=i("5c96"),gi=i.n(hi);i("0fae");s["default"].use(gi.a);const fi=["AddressCard","BookOpen","BookDead","BroadcastTower","Chair","CheckSquare","CloudMoon","Cog","Copy","Dice","Dragon","ExchangeAlt","ExclamationTriangle","FileCode","FileUpload","HandPaper","HandPointRight","Heartbeat","Image","Link","MinusCircle","PeopleArrows","PlusCircle","Question","Random","RedoAlt","SearchMinus","SearchPlus","Skull","Square","TheaterMasks","Times","TimesCircle","TrashAlt","Undo","User","UserEdit","UserFriends","Users","VenusMars","VolumeUp","VolumeMute","VoteYea","WindowMaximize","WindowMinimize"],pi=["Github","Discord"];li["c"].add(...fi.map(e=>mi["a"]["fa"+e]),...pi.map(e=>di["a"]["fa"+e])),s["default"].component("font-awesome-icon",ci["a"]),s["default"].config.productionTip=!1,new s["default"]({el:"#app",render:e=>e(Mt),store:ai}).$mount("#app")},5720:function(e,t,i){"use strict";i("50d1")},5740:function(e,t,i){e.exports=i.p+"img/riot.a2890eee.png"},"57b7":function(e,t,i){e.exports=i.p+"img/ritualist_wm.d43585fe.png"},5966:function(e,t,i){e.exports=i.p+"img/sorcerer_wm.a63780d3.png"},"5b76":function(e,t,i){e.exports=i.p+"img/pit-hag.49cbbd1a.png"},"5bd9":function(e,t,i){e.exports=i.p+"img/cannibal.54808c1a.png"},"5c0b":function(e,t,i){"use strict";i("9c0c")},"5c56":function(e,t,i){e.exports=i.p+"img/duchess.e062d2e8.png"},"5c85":function(e,t,i){e.exports=i.p+"img/conspirator_sr.933b9ccf.png"},"5c8e":function(e,t,i){e.exports=i.p+"img/goblin.ec4fe0e0.png"},"5cf2":function(e,t,i){e.exports=i.p+"img/x.d2209023.png"},"5d2d":function(e,t,i){e.exports=i.p+"img/scribe_wm.a7d65a5f.png"},"5d6f":function(e,t,i){e.exports=i.p+"img/prince_sr.4deb86cf.png"},"5e44":function(e,t,i){e.exports=i.p+"img/stargazer_iob.ec941842.png"},"5ec1":function(e,t,i){e.exports=i.p+"img/partymagician_wm.ae0113cc.png"},"5f4e":function(e,t,i){e.exports=i.p+"img/tb-minion.b01c557e.png"},"61b0":function(e,t,i){var s={"./acrobat.png":"887b","./al-hadikhia.png":"0265","./alchemist.png":"dbe8","./amnesiac.png":"043b","./analyst_aoi.png":"67b9","./anarchist_ti.png":"313e","./angel.png":"bfe2","./apprentice.png":"4bea","./apprentice_wm.png":"d212","./architect_aoi.png":"131d","./archivist_aoi.png":"21c2","./archmage_wm.png":"0ff9","./artist.png":"2cd0","./assassin.png":"9187","./assistant_aoi.png":"30c0","./astrologer_aoi.png":"b977","./atheist.png":"ca7a","./avatar_aoi.png":"e3b5","./backlash_wm.png":"b278","./balloonist.png":"65db","./barber.png":"fcc6","./bard_wm.png":"cb09","./barista.png":"027a","./baron.png":"24d3","./beastmaster_iob.png":"3176","./befuddled_aoi.png":"7b6a","./beggar.png":"cfcc","./bishop.png":"8030","./blasphemer_iob.png":"fe21","./bloodletter_iob.png":"6227","./bloodmage_wm.png":"fef4","./bogman_iob.png":"0f72","./bone_collector.png":"eaee","./bookbinder_aoi.png":"6298","./boomdandy.png":"aae9","./bootblack_lse.png":"5386","./bounty_hunter.png":"c43e","./broker_lse.png":"303d","./buddhist.png":"1d01","./bureaucrat.png":"25f6","./buried_aoi.png":"3670","./butcher.png":"37dd","./butler.png":"64fe","./cannibal.png":"5bd9","./cardina_sr.png":"0c5b","./cerenovus.png":"0436","./chamberlain_sr.png":"31fa","./chambermaid.png":"125e","./chaosmage_wm.png":"d595","./charlatan_sr.png":"6b7b","./chauffeur_lse.png":"99f7","./chef.png":"1e83","./chieftain_iob.png":"281d","./choirboy.png":"d6bc","./cinematographer_aoi.png":"1144","./clairvoyant_ti.png":"f821","./clairvoyant_wm.png":"3edd","./cleric_wm.png":"6863","./clockmaker.png":"f93f","./concubine_sr.png":"93f5","./conservator_aoi.png":"84c1","./conspiracy_ti.png":"ed35","./conspirator_sr.png":"5c85","./copycat_ti.png":"bddc","./corpseobsessed_ti.png":"3213","./corruptor_aoi.png":"287e","./courtier.png":"ee02","./crescendo_lse.png":"3a74","./cryomancer_wm.png":"7e93","./cult_leader.png":"7231","./cupbearer_sr.png":"e1a4","./curator_aoi.png":"3b0c","./curator_lse.png":"7d1e","./custom.png":"fd83","./damsel.png":"72d7","./deathgripp_lse.png":"ccca","./detective_aoi.png":"5085","./deusexfiasco.png":"9002","./deviant.png":"3b65","./devils_advocate.png":"8461","./djinn.png":"e222","./doomsayer.png":"659f","./doomsdaypreacher_ti.png":"a566","./doopliss_iob.png":"e15d","./doppelganger_ti.png":"04d0","./draco_sr.png":"037e","./draconis_wm.png":"dd5c","./dreamer.png":"71b8","./druid_wm.png":"a45c","./drunk.png":"d97d","./duchess.png":"5c56","./eclipse_iob.png":"745c","./effigy_iob.png":"8bf7","./emissary_sr.png":"8953","./empath.png":"bb7a","./enchanter_wm.png":"ef02","./engineer.png":"ea17","./enrage_ti.png":"9f0e","./entropist_wm.png":"0e50","./evil.png":"c24f","./evil_twin.png":"fc65","./exorcist.png":"5072","./eye_aoi.png":"1e08","./fang_gu.png":"0f60","./farmer.png":"7a7f","./fearmonger.png":"d69f","./fibbin.png":"6eb1","./fiddler.png":"64be","./fisherman.png":"c5db","./flowergirl.png":"66ae","./foodtaster_sr.png":"49c0","./fool.png":"4720","./forager_iob.png":"bdd9","./fortune_teller.png":"22a9","./friar_sr.png":"435e","./gambler.png":"dce6","./gangster.png":"97c6","./gaslighter_ti.png":"ef01","./general.png":"ac9c","./geomancer_wm.png":"c252","./ghosthunter_aoi.png":"1ada","./goblin.png":"5c8e","./godfather.png":"99d0","./golem.png":"4eb3","./good.png":"667e","./goon.png":"55aa","./gorgon_lse.png":"6f7e","./gossip.png":"cadc","./grandmother.png":"c9f5","./grist_lse.png":"9921","./gunslinger.png":"ee92","./harlot.png":"559e","./headnurse_ti.png":"0a98","./hells_librarian.png":"1a83","./herald_sr.png":"94c7","./heretic.png":"5626","./huntsman.png":"1923","./illusionist_wm.png":"be22","./imp.png":"3e70","./infernal_wm.png":"e9cf","./infernomancer_wm.png":"6b9f","./innkeeper.png":"663c","./inquisitor_lse.png":"d8d1","./interrogator_ti.png":"ac41","./investigator.png":"b570","./jabberwocky_sr.png":"9132","./joker_ti.png":"ebf0","./judge.png":"f09b","./juggler.png":"65ab","./kilo_iob.png":"7947","./king.png":"9639","./klutz.png":"adfc","./knight_sr.png":"41ba","./lamplighter_lse.png":"339d","./legion.png":"da81","./leviathan.png":"2b04","./liar_ti.png":"a07d","./librarian.png":"4d73","./lil_monsta.png":"2486","./lleech.png":"9f74","./lunatic.png":"0b61","./lycanthrope.png":"c316","./magician.png":"ab3c","./majesty_sr.png":"8ebb","./maniac_ti.png":"00ce","./marionette.png":"e69f","./mastermind.png":"f834","./matchmaker_lse.png":"363c","./mathematician.png":"8888","./matron.png":"b1cb","./mayor.png":"b223","./medicineman_iob.png":"f3b5","./mezepheles.png":"c7b7","./minstrel.png":"4efd","./monk.png":"6741","./moonchild.png":"3f65","./morgana_sr.png":"3b77","./mutant.png":"17ad","./necromancer_wm.png":"eeb2","./nightwatchman.png":"3cd8","./nihilist_ti.png":"966e","./no_dashii.png":"e8be","./noble.png":"f7d3","./numerologist_aoi.png":"cba1","./obsessed_aoi.png":"1fdc","./omen_lse.png":"cb2e","./oneirocritic_aoi.png":"9fa7","./oracle.png":"0c12","./pacifist.png":"fff1","./paladin_wm.png":"2e3d","./pariah_lse.png":"0a58","./partymagician_wm.png":"5ec1","./pawn_sr.png":"87fd","./pessimist_lse.png":"d61f","./philosopher.png":"3603","./pillhorder_ti.png":"e333","./pit-hag.png":"5b76","./pixie.png":"a7b6","./plus.png":"160b","./po.png":"c73a","./poacher_iob.png":"162b","./podcaster_aoi.png":"130e","./poisoner.png":"f282","./politician.png":"07ab","./poppy_grower.png":"0c02","./postmaster_lse.png":"a2d0","./preacher.png":"2094","./pretender_sr.png":"16b8","./prince_sr.png":"5d6f","./princess_sr.png":"94fb","./professor.png":"b30c","./psychologist_aoi.png":"d5e5","./psychologist_ti.png":"4a2c","./psychopath.png":"fcdb","./pukka.png":"a6a2","./puzzlemaster.png":"27a3","./pyromancer_wm.png":"17ad4","./queen_sr.png":"4019","./rabblerouser_lse.png":"3e03","./rambler_ti.png":"f4a4","./ranger_iob.png":"7e23","./ravenkeeper.png":"0c59","./receptionist_aoi.png":"afd1","./recluse.png":"177d","./researcher_aoi.png":"ff17","./retrogradus_iob.png":"7d4e","./revolutionary.png":"aa2d","./righthandman_iob.png":"26a5","./riot.png":"5740","./ritualist_aoi.png":"dd60","./ritualist_wm.png":"57b7","./rook_sr.png":"496f","./sacrifice_aoi.png":"d912","./sage.png":"30b6","./sailor.png":"223c","./saint.png":"6936","./savant.png":"d715","./scapegoat.png":"327a","./scaredycat_ti.png":"16d6","./scarlet_woman.png":"4341","./scemer_ti.png":"cd9e","./scholar_aoi.png":"c514","./scoundrel_sr.png":"560e","./scribe_sr.png":"942f","./scribe_wm.png":"5d2d","./seamstress.png":"ac7c","./secondhand_iob.png":"0ad2","./securityguard_ti.png":"c559","./sentinel.png":"af68","./shabaloth.png":"0b29","./shoulderangel_ti.png":"81e9","./shoulderdevil_ti.png":"9ec4","./skeptic_wm.png":"1a76","./slayer.png":"d62b","./smuggler_lse.png":"50f6","./snake_charmer.png":"e20f","./snakebite_lse.png":"ae6b","./snitch.png":"b7e8","./sociopath_ti.png":"61e7","./soldier.png":"4e76","./soothsayer_iob.png":"fbe6","./sorcerer_wm.png":"5966","./spira_aoi.png":"c97a","./spirit_of_ivory.png":"97cb","./spree_lse.png":"cc59","./spy.png":"ec1e","./stalker_iob.png":"caff","./starcrossed_iob.png":"ee00","./stargazer_iob.png":"5e44","./stormcatcher.png":"a4c2","./summoner_wm.png":"f674","./sweetheart.png":"f1e5","./tarantella_lse.png":"422e","./tattletale_lse.png":"0985","./tea_lady.png":"a711","./thaumaturge_wm.png":"8ea9","./theshroudedvoid_wm.png":"6fb0","./thespian_lse.png":"0eae","./thief.png":"9ce3","./tinker.png":"9f7e","./town_crier.png":"0d42","./toymaker.png":"39eb","./trapper_iob.png":"4206","./understudy_lse.png":"c71b","./undertaker.png":"0e20","./usurper_sr.png":"ec1e8","./venividivici_lse.png":"509f","./viceroy_iob.png":"f700","./vigormortis.png":"f4bd","./virgin.png":"eff4","./vividdreamer_ti.png":"7265","./vortox.png":"3a43","./voudon.png":"a710","./warden_iob.png":"295a","./warlock_wm.png":"84fd","./warrior_iob.png":"48ff","./washerwoman.png":"013f","./web_aoi.png":"6e20","./wellspring_wm.png":"cd8c","./wicked_iob.png":"882c","./widow.png":"22c9","./witch.png":"f558","./witness_lse.png":"d2cd","./x.png":"5cf2","./ysbaddaden_sr.png":"b3d9","./zombuul.png":"20ca"};function n(e){var t=r(e);return i(t)}function r(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=r,e.exports=n,n.id="61b0"},"61e7":function(e,t,i){e.exports=i.p+"img/sociopath_ti.b2569bce.png"},6225:function(e,t,i){},6227:function(e,t,i){e.exports=i.p+"img/bloodletter_iob.4c35f07e.png"},6298:function(e,t,i){e.exports=i.p+"img/bookbinder_aoi.5b06585a.png"},"634a":function(e){e.exports=JSON.parse('[{"townsfolk":3,"outsider":0,"minion":1,"demon":1},{"townsfolk":3,"outsider":1,"minion":1,"demon":1},{"townsfolk":5,"outsider":0,"minion":1,"demon":1},{"townsfolk":5,"outsider":1,"minion":1,"demon":1},{"townsfolk":5,"outsider":2,"minion":1,"demon":1},{"townsfolk":7,"outsider":0,"minion":2,"demon":1},{"townsfolk":7,"outsider":1,"minion":2,"demon":1},{"townsfolk":7,"outsider":2,"minion":2,"demon":1},{"townsfolk":9,"outsider":0,"minion":3,"demon":1},{"townsfolk":9,"outsider":1,"minion":3,"demon":1},{"townsfolk":9,"outsider":2,"minion":3,"demon":1}]')},"64be":function(e,t,i){e.exports=i.p+"img/fiddler.fbb6c089.png"},"64fe":function(e,t,i){e.exports=i.p+"img/butler.deb367f8.png"},"659f":function(e,t,i){e.exports=i.p+"img/doomsayer.673b31b0.png"},"65ab":function(e,t,i){e.exports=i.p+"img/juggler.51b36a7e.png"},"65db":function(e,t,i){e.exports=i.p+"img/balloonist.c35c6644.png"},"663c":function(e,t,i){e.exports=i.p+"img/innkeeper.6bc095da.png"},"667e":function(e,t,i){e.exports=i.p+"img/good.daf3b560.png"},"66ae":function(e,t,i){e.exports=i.p+"img/flowergirl.2bdc5b94.png"},6741:function(e,t,i){e.exports=i.p+"img/monk.022c602b.png"},"67b9":function(e,t,i){e.exports=i.p+"img/analyst_aoi.079dcc7a.png"},6863:function(e,t,i){e.exports=i.p+"img/cleric_wm.817c0515.png"},6936:function(e,t,i){e.exports=i.p+"img/saint.a072400d.png"},"6b1e":function(e,t,i){},"6b7b":function(e,t,i){e.exports=i.p+"img/charlatan_sr.8fab47ef.png"},"6b9f":function(e,t,i){e.exports=i.p+"img/infernomancer_wm.26c541fd.png"},"6e20":function(e,t,i){e.exports=i.p+"img/web_aoi.ba13ce94.png"},"6eb1":function(e,t,i){e.exports=i.p+"img/fibbin.56e2b3f8.png"},"6f7e":function(e,t,i){e.exports=i.p+"img/gorgon_lse.3d739699.png"},"6fb0":function(e,t,i){e.exports=i.p+"img/theshroudedvoid_wm.1a058aff.png"},"70ae":function(e,t,i){},"71b8":function(e,t,i){e.exports=i.p+"img/dreamer.73d37057.png"},7231:function(e,t,i){e.exports=i.p+"img/cult_leader.1f9a22f0.png"},7265:function(e,t,i){e.exports=i.p+"img/vividdreamer_ti.0077cd50.png"},"72d7":function(e,t,i){e.exports=i.p+"img/damsel.040c275d.png"},"73a1":function(e,t,i){e.exports=i.p+"img/tb-outsider.9ae6ef1b.png"},"745c":function(e,t,i){e.exports=i.p+"img/eclipse_iob.f9f2f033.png"},7496:function(e,t,i){e.exports=i.p+"img/bmr.1d06ca78.png"},"74c9":function(e,t,i){"use strict";i("9fd8")},7947:function(e,t,i){e.exports=i.p+"img/kilo_iob.8a311f49.png"},"79a8":function(e,t,i){"use strict";i("f5a1")},"7a30":function(e,t,i){"use strict";i("4f81")},"7a7f":function(e,t,i){e.exports=i.p+"img/farmer.1534709d.png"},"7b6a":function(e,t,i){e.exports=i.p+"img/befuddled_aoi.c77f6a86.png"},"7d1e":function(e,t,i){e.exports=i.p+"img/curator_lse.200232a4.png"},"7d4e":function(e,t,i){e.exports=i.p+"img/retrogradus_iob.76352126.png"},"7e23":function(e,t,i){e.exports=i.p+"img/ranger_iob.ea61f25e.png"},"7e93":function(e,t,i){e.exports=i.p+"img/cryomancer_wm.352de316.png"},8030:function(e,t,i){e.exports=i.p+"img/bishop.9af11183.png"},"80ea":function(e,t,i){"use strict";i("c0e3")},"812c":function(e,t,i){"use strict";i("ced2")},"81e9":function(e,t,i){e.exports=i.p+"img/shoulderangel_ti.27f6cd57.png"},8461:function(e,t,i){e.exports=i.p+"img/devils_advocate.7af7304a.png"},"84c1":function(e,t,i){e.exports=i.p+"img/conservator_aoi.0676a734.png"},"84fd":function(e,t,i){e.exports=i.p+"img/warlock_wm.2f501805.png"},8781:function(e,t,i){"use strict";i("6b1e")},"87fd":function(e,t,i){e.exports=i.p+"img/pawn_sr.9e5d5296.png"},"882c":function(e,t,i){e.exports=i.p+"img/wicked_iob.52a60321.png"},"887b":function(e,t,i){e.exports=i.p+"img/acrobat.be49ceac.png"},8888:function(e,t,i){e.exports=i.p+"img/mathematician.9184e821.png"},8953:function(e,t,i){e.exports=i.p+"img/emissary_sr.4b10e9c1.png"},"8bf7":function(e,t,i){e.exports=i.p+"img/effigy_iob.77978e77.png"},"8e72":function(e,t,i){"use strict";i("70ae")},"8ea9":function(e,t,i){e.exports=i.p+"img/thaumaturge_wm.1b7c03ad.png"},"8ebb":function(e,t,i){e.exports=i.p+"img/majesty_sr.604d45e0.png"},"8fc9":function(e,t,i){},9002:function(e,t,i){e.exports=i.p+"img/deusexfiasco.96e5d2eb.png"},9132:function(e,t,i){e.exports=i.p+"img/jabberwocky_sr.4bea50a1.png"},9137:function(e,t,i){"use strict";i("9758")},9187:function(e,t,i){e.exports=i.p+"img/assassin.d078c1f2.png"},"91df":function(e,t,i){},9224:function(e){e.exports=JSON.parse('{"a":"2.15.4"}')},"92d8":function(e,t,i){e.exports=i.p+"img/luf.8e16a6e6.png"},"93a5":function(e,t,i){},"93f5":function(e,t,i){e.exports=i.p+"img/concubine_sr.18308cff.png"},"942f":function(e,t,i){e.exports=i.p+"img/scribe_sr.a8acb3dd.png"},"94c7":function(e,t,i){e.exports=i.p+"img/herald_sr.eace3273.png"},"94fb":function(e,t,i){e.exports=i.p+"img/princess_sr.61ecdcd2.png"},9639:function(e,t,i){e.exports=i.p+"img/king.3f722bb8.png"},"966e":function(e,t,i){e.exports=i.p+"img/nihilist_ti.0a772912.png"},9758:function(e,t,i){},"97c6":function(e,t,i){e.exports=i.p+"img/gangster.72167674.png"},"97cb":function(e,t,i){e.exports=i.p+"img/spirit_of_ivory.ef077db5.png"},9921:function(e,t,i){e.exports=i.p+"img/grist_lse.65f2f3c0.png"},"99d0":function(e,t,i){e.exports=i.p+"img/godfather.d84e0700.png"},"99f7":function(e,t,i){e.exports=i.p+"img/chauffeur_lse.7ef206ba.png"},"9c0c":function(e,t,i){},"9ce3":function(e,t,i){e.exports=i.p+"img/thief.56b12054.png"},"9ec4":function(e,t,i){e.exports=i.p+"img/shoulderdevil_ti.fbd62537.png"},"9f0e":function(e,t,i){e.exports=i.p+"img/enrage_ti.e18735bf.png"},"9f74":function(e,t,i){e.exports=i.p+"img/lleech.da66feee.png"},"9f7e":function(e,t,i){e.exports=i.p+"img/tinker.a009dfbc.png"},"9fa7":function(e,t,i){e.exports=i.p+"img/oneirocritic_aoi.df7aadd7.png"},"9fd8":function(e,t,i){},a07d:function(e,t,i){e.exports=i.p+"img/liar_ti.1bf2e967.png"},a2cb:function(e,t,i){e.exports=i.p+"img/nkf.a16d0cb8.png"},a2d0:function(e,t,i){e.exports=i.p+"img/postmaster_lse.9fa079e7.png"},a3b0:function(e,t,i){e.exports=i.p+"img/tb-demon.0ac8cce6.png"},a45c:function(e,t,i){e.exports=i.p+"img/druid_wm.21529fb1.png"},a4c2:function(e,t,i){e.exports=i.p+"img/stormcatcher.3f5110c6.png"},a566:function(e,t,i){e.exports=i.p+"img/doomsdaypreacher_ti.9c9798d9.png"},a6a2:function(e,t,i){e.exports=i.p+"img/pukka.34215bf7.png"},a710:function(e,t,i){e.exports=i.p+"img/voudon.fc5071ed.png"},a711:function(e,t,i){e.exports=i.p+"img/tea_lady.0592e8a8.png"},a7b6:function(e,t,i){e.exports=i.p+"img/pixie.2db5f1a2.png"},aa2d:function(e,t,i){e.exports=i.p+"img/revolutionary.bb4d3a3f.png"},aae9:function(e,t,i){e.exports=i.p+"img/boomdandy.009c74b1.png"},ab3c:function(e,t,i){e.exports=i.p+"img/magician.c1bcf13c.png"},ac41:function(e,t,i){e.exports=i.p+"img/interrogator_ti.48dc503c.png"},ac7c:function(e,t,i){e.exports=i.p+"img/seamstress.771063cd.png"},ac9c:function(e,t,i){e.exports=i.p+"img/general.2fc65230.png"},adfc:function(e,t,i){e.exports=i.p+"img/klutz.34abcf9b.png"},ae6b:function(e,t,i){e.exports=i.p+"img/snakebite_lse.e1d51fbf.png"},af68:function(e,t,i){e.exports=i.p+"img/sentinel.1caee427.png"},af6c:function(e,t,i){},afd1:function(e,t,i){e.exports=i.p+"img/receptionist_aoi.5283c549.png"},b1cb:function(e,t,i){e.exports=i.p+"img/matron.2ea42315.png"},b1d9:function(e){e.exports=JSON.parse('[{"firstNightReminder":"展示那个镇民角色标记。指向被你标记“镇民”和“错误”的两名玩家。","isOfficial":true,"otherNightReminder":"","name":"洗衣妇","otherNight":0,"setup":false,"reminders":["镇民","错误"],"id":"washerwoman","edition":"tb","team":"townsfolk","name_eng":"Washerwoman","sch_team":"镇民","firstNight":32,"ability":"在你的首个夜晚，你会得知两名玩家和一个镇民角色：这两名玩家之一是该角色。"},{"firstNightReminder":"展示那个外来者角色标记。指向被你标记“外来者”和“错误”的两名玩家。","isOfficial":true,"otherNightReminder":"","name":"图书管理员","otherNight":0,"setup":false,"reminders":["外来者","错误"],"id":"librarian","edition":"tb","team":"townsfolk","name_eng":"Librarian","sch_team":"镇民","firstNight":33,"ability":"在你的首个夜晚，你会得知两名玩家和一个外来者角色：这两名玩家之一是该角色（或者你会得知没有外来者在场）。"},{"firstNightReminder":"展示那个爪牙角色标记。指向被你标记“爪牙”和“错误”的两名玩家。","isOfficial":true,"otherNightReminder":"","name":"调查员","otherNight":0,"setup":false,"reminders":["爪牙","错误"],"id":"investigator","edition":"tb","team":"townsfolk","name_eng":"Investigator","sch_team":"镇民","firstNight":34,"ability":"在你的首个夜晚，你会得知两名玩家和一个爪牙角色：这两名玩家之一是该角色（或者你会得知没有爪牙在场）。"},{"firstNightReminder":"给他展示数字手势来告诉他场上邻座邪恶玩家有多少对。","isOfficial":true,"otherNightReminder":"","name":"厨师","otherNight":0,"setup":false,"reminders":[],"id":"chef","edition":"tb","team":"townsfolk","name_eng":"Chef","sch_team":"镇民","firstNight":35,"ability":"在你的首个夜晚，你会得知场上邻座的邪恶玩家有多少对。"},{"firstNightReminder":"给他展示数字手势来告诉他与他邻近的存活玩家有几人是邪恶的。","isOfficial":true,"otherNightReminder":"给他展示数字手势来告诉他与他邻近的存活玩家有几人是邪恶的。","name":"共情者","otherNight":53,"setup":false,"reminders":[],"id":"empath","edition":"tb","team":"townsfolk","name_eng":"Empath","sch_team":"镇民","firstNight":36,"ability":"每个夜晚，你会得知与你邻近的两名存活的玩家中邪恶玩家的数量。"},{"firstNightReminder":"让占卜师选择两名玩家。如果其中有恶魔或“干扰项”，点头示意，否则摇头。","isOfficial":true,"otherNightReminder":"让占卜师选择两名玩家。如果其中有恶魔或“干扰项”，点头示意，否则摇头。","name":"占卜师","otherNight":54,"setup":false,"reminders":["干扰项"],"id":"fortune_teller","edition":"tb","team":"townsfolk","name_eng":"Fortune Teller","sch_team":"镇民","firstNight":37,"ability":"每个夜晚，你要选择两名玩家：你会得知他们之中是否有恶魔。会有一名善良玩家始终被你的能力当作恶魔。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"如果有玩家今天白天死于处决，唤醒送葬者并对他展示那名玩家的角色标记。","name":"送葬者","otherNight":56,"setup":false,"reminders":["死于今日"],"id":"undertaker","edition":"tb","team":"townsfolk","name_eng":"Undertaker","sch_team":"镇民","firstNight":0,"ability":"每个夜晚*，你会得知今天白天死于处决的玩家的角色。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"让僧侣选择除自己外的一名玩家。标记那名玩家被保护。","name":"僧侣","otherNight":13,"setup":false,"reminders":["保护"],"id":"monk","edition":"tb","team":"townsfolk","name_eng":"Monk","sch_team":"镇民","firstNight":0,"ability":"每个夜晚*，你要选择除你以外的一名玩家：当晚恶魔的负面能力对他无效。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"如果守鸦人今晚死亡，唤醒他并让他选择一名玩家。对他展示那名玩家的角色标记。","name":"守鸦人","otherNight":42,"setup":false,"reminders":[],"id":"ravenkeeper","edition":"tb","team":"townsfolk","name_eng":"Ravenkeeper","sch_team":"镇民","firstNight":0,"ability":"如果你在夜晚死亡，你会被唤醒，然后你要选择一名玩家：你会得知他的角色。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"贞洁者","otherNight":0,"setup":false,"reminders":["失去能力"],"id":"virgin","edition":"tb","team":"townsfolk","name_eng":"Virgin","sch_team":"镇民","firstNight":0,"ability":"当你首次被提名时，如果提名你的玩家是镇民，他立刻被处决。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"猎手","otherNight":0,"setup":false,"reminders":["失去能力"],"id":"slayer","edition":"tb","team":"townsfolk","name_eng":"Slayer","sch_team":"镇民","firstNight":0,"ability":"每局游戏限一次，你可以在白天时公开选择一名玩家：如果他是恶魔，他死亡。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"士兵","otherNight":0,"setup":false,"reminders":[],"id":"soldier","edition":"tb","team":"townsfolk","name_eng":"Soldier","sch_team":"镇民","firstNight":0,"ability":"恶魔的负面能力对你无效。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"镇长","otherNight":0,"setup":false,"reminders":[],"id":"mayor","edition":"tb","team":"townsfolk","name_eng":"Mayor","sch_team":"镇民","firstNight":0,"ability":"如果只有三名玩家存活且白天没有人被处决，你的阵营获胜。如果你在夜晚即将死亡，可能会有一名其他玩家代替你死亡。"},{"firstNightReminder":"让管家选择一名玩家。标记那名玩家为他的主人。","isOfficial":true,"otherNightReminder":"让管家选择一名玩家。标记那名玩家为他的主人。","name":"管家","otherNight":55,"setup":false,"reminders":["主人"],"id":"butler","edition":"tb","team":"outsider","name_eng":"Butler","sch_team":"外来者","firstNight":38,"ability":"每个夜晚，你要选择除你以外的一名玩家：明天白天，只有他投票时你才能投票。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"酒鬼","otherNight":0,"setup":true,"reminders":[],"id":"drunk","edition":"tb","remindersGlobal":["是酒鬼"],"team":"outsider","name_eng":"Drunk","sch_team":"外来者","firstNight":0,"ability":"你不知道你是酒鬼。你以为你是一个镇民角色，但其实你不是。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"陌客","otherNight":0,"setup":false,"reminders":[],"id":"recluse","edition":"tb","team":"outsider","name_eng":"Recluse","sch_team":"外来者","firstNight":0,"ability":"你可能会被当作邪恶阵营、爪牙角色或恶魔角色，即使你已死亡。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"圣徒","otherNight":0,"setup":false,"reminders":[],"id":"saint","edition":"tb","team":"outsider","name_eng":"Saint","sch_team":"外来者","firstNight":0,"ability":"如果你死于处决，你的阵营落败。"},{"firstNightReminder":"让投毒者选择一名玩家。标记那名玩家中毒。","isOfficial":true,"otherNightReminder":"让投毒者选择一名玩家。标记那名玩家中毒。","name":"投毒者","otherNight":8,"setup":false,"reminders":["中毒"],"id":"poisoner","edition":"tb","team":"minion","name_eng":"Poisoner","sch_team":"爪牙","firstNight":17,"ability":"每个夜晚，你要选择一名玩家：他在当晚和明天白天中毒。"},{"firstNightReminder":"将魔典展示给间谍，他想看多久就看多久。","isOfficial":true,"otherNightReminder":"将魔典展示给间谍，他想看多久就看多久。","name":"间谍","otherNight":68,"setup":false,"reminders":[],"id":"spy","edition":"tb","team":"minion","name_eng":"Spy","sch_team":"爪牙","firstNight":48,"ability":"每个夜晚，你能查看魔典。你可能会被当作善良阵营、镇民角色或外来者角色，即使你已死亡。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"如果红唇女郎今天变成了小恶魔，对她展示“你是”信息标记，和小恶魔角色标记。","name":"红唇女郎","otherNight":20,"setup":false,"reminders":[],"id":"scarlet_woman","edition":"tb","remindersGlobal":["新恶魔"],"team":"minion","name_eng":"Scarlet Woman","sch_team":"爪牙","firstNight":0,"ability":"如果大于等于五名玩家存活时（旅行者不计算在内）恶魔死亡，你变成那个恶魔。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"男爵","otherNight":0,"setup":true,"reminders":[],"id":"baron","edition":"tb","team":"minion","name_eng":"Baron","sch_team":"爪牙","firstNight":0,"ability":"会有额外的外来者在场。[+2 外来者]"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"让小恶魔选择一名玩家。标记那名玩家死亡。如果小恶魔选择了自己：用一个备用的小恶魔标记替换一个存活的爪牙角色标记。让原来的小恶魔重新入睡。唤醒新的小恶魔。对他展示“你是”信息标记，和小恶魔角色标记。","name":"小恶魔","otherNight":24,"setup":false,"reminders":["死亡"],"id":"imp","edition":"tb","team":"demon","name_eng":"Imp","sch_team":"恶魔","remindersGlobal":["恶魔"],"firstNight":0,"ability":"每个夜晚*，你要选择一名玩家：他死亡。如果你以这种方式自杀，一名爪牙会变成小恶魔。"},{"firstNightReminder":"官员指向一名玩家。将三票标记放在那名玩家旁。","isOfficial":true,"otherNightReminder":"官员指向一名玩家。将三票标记放在那名玩家旁。","name":"官员","otherNight":1,"setup":false,"reminders":["3票"],"id":"bureaucrat","edition":"tb","team":"traveler","name_eng":"Bureaucrat","sch_team":"旅行者","firstNight":1,"ability":"每个夜晚，你要选择除你以外的一名玩家：明天白天，他的投票算作三票。"},{"firstNightReminder":"窃贼指向一名玩家。将负票标记放在那名玩家旁。","isOfficial":true,"otherNightReminder":"窃贼指向一名玩家。将负票标记放在那名玩家旁。","name":"窃贼","otherNight":1,"setup":false,"reminders":["负票"],"id":"thief","edition":"tb","team":"traveler","name_eng":"Thief","sch_team":"旅行者","firstNight":1,"ability":"每个夜晚，你要选择除你以外的一名玩家：明天白天他的投票会被算作负数。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"枪手","otherNight":0,"setup":false,"reminders":[],"id":"gunslinger","edition":"tb","team":"traveler","name_eng":"Gunslinger","sch_team":"旅行者","firstNight":0,"ability":"每个白天，当首次投票被统计后，你可以选择一名刚投过票的玩家：他死亡。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"替罪羊","otherNight":0,"setup":false,"reminders":[],"id":"scapegoat","edition":"tb","team":"traveler","name_eng":"Scapegoat","sch_team":"旅行者","firstNight":0,"ability":"如果你的阵营的一名玩家被处决，你可能会代替他被处决。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"乞丐","otherNight":0,"setup":false,"reminders":[],"id":"beggar","edition":"tb","team":"traveler","name_eng":"Beggar","sch_team":"旅行者","firstNight":0,"ability":"你只能使⽤投票标记投票。死亡的玩家可以将他的投票标记给你，如果他这么做，你会得知他的阵营。你不会中毒和醉酒。"},{"firstNightReminder":"指向她的孙子玩家，并展示该玩家的角色标记。","isOfficial":true,"otherNightReminder":"如果孙子被恶魔杀死，祖母也会一同死亡。标记祖母死亡。","name":"祖母","otherNight":50,"setup":false,"reminders":["孙子","死亡"],"id":"grandmother","edition":"bmr","team":"townsfolk","name_eng":"Grandmother","sch_team":"镇民","firstNight":39,"ability":"在你的首个夜晚，你会得知一名善良玩家和他的角色。如果恶魔杀死了他，你也会死亡。"},{"firstNightReminder":"让水手选择一名存活玩家。标记那名玩家或水手醉酒。","isOfficial":true,"otherNightReminder":"让水手选择一名存活玩家。标记那名玩家或水手醉酒。","name":"水手","otherNight":4,"setup":false,"reminders":["醉酒"],"id":"sailor","edition":"bmr","team":"townsfolk","name_eng":"Sailor","sch_team":"镇民","firstNight":10,"ability":"每个夜晚，你要选择一名存活的玩家：你或他之一会醉酒直到下个黄昏。你不会死亡。"},{"firstNightReminder":"让侍女选择除自己外的两名存活玩家。给她展示数字手势来告诉她这些玩家中有几人因自身能力被唤醒。","isOfficial":true,"otherNightReminder":"让侍女选择除自己外的两名存活玩家。给她展示数字手势来告诉她这些玩家中有几人因自身能力被唤醒。","name":"侍女","otherNight":70,"setup":false,"reminders":[],"id":"chambermaid","edition":"bmr","team":"townsfolk","name_eng":"Chambermaid","sch_team":"镇民","firstNight":50,"ability":"每个夜晚，你要选择除你以外的两名存活的玩家：你会得知他们中有几人在当晚因其自身能力而被唤醒。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"让驱魔人选择一名玩家，不能是上一夜他选择过的玩家。让驱魔人重新入睡。如果驱魔人选中了恶魔：唤醒恶魔。展示“该角色的能力对你生效”信息标记和驱魔人角色标记。指向驱魔人玩家。","name":"驱魔人","otherNight":22,"setup":false,"reminders":["被选择"],"id":"exorcist","edition":"bmr","team":"townsfolk","name_eng":"Exorcist","sch_team":"镇民","firstNight":0,"ability":"每个夜晚*，你要选择一名玩家（与上个夜晚不同）：如果你选中了恶魔，他会得知你是什么角色，但他当晚不会因其自身能力而被唤醒。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"让旅店老板选择两名玩家。标记这两名玩家不会死亡，并标记其中一人醉酒。","name":"旅店老板","otherNight":9,"setup":false,"reminders":["不会死亡","醉酒"],"id":"innkeeper","edition":"bmr","team":"townsfolk","name_eng":"Innkeeper","sch_team":"镇民","firstNight":0,"ability":"每个夜晚*，你要选择两名玩家：他们当晚不会死亡，但其中一人会醉酒到下个黄昏。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"让赌徒选择一名玩家和一个角色。如果赌徒猜错了，标记赌徒死亡。","name":"赌徒","otherNight":11,"setup":false,"reminders":["死亡"],"id":"gambler","edition":"bmr","team":"townsfolk","name_eng":"Gambler","sch_team":"镇民","firstNight":0,"ability":"每个夜晚*，你要选择一名玩家并猜测他的角色：如果你猜错了，你会死亡。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"如果白天的声明为真，会有一名玩家死亡，并由说书人来选择一名玩家，标记该玩家死亡。","name":"造谣者","otherNight":47,"setup":false,"reminders":["死亡"],"id":"gossip","edition":"bmr","team":"townsfolk","name_eng":"Gossip","sch_team":"镇民","firstNight":0,"ability":"每个白天，你可以公开发表一个声明。如果该声明正确，在当晚会有一名玩家死亡。"},{"firstNightReminder":"侍臣可以选择一个角色。如果他这么做了，标记侍臣失去能力，标记被选择的角色所对应的玩家醉酒。之后的夜晚无需再唤醒侍臣。","isOfficial":true,"otherNightReminder":"侍臣可以选择一个角色。如果他这么做了，标记侍臣失去能力，标记被选择的角色所对应的玩家醉酒。之后的夜晚无需再唤醒侍臣。","name":"侍臣","otherNight":10,"setup":false,"reminders":["醉酒1","醉酒2","醉酒3","失去能力"],"id":"courtier","edition":"bmr","team":"townsfolk","name_eng":"Courtier","sch_team":"镇民","firstNight":19,"ability":"每局游戏限一次，在夜晚时，你可以选择一个角色：如果该角色在场，该角色之一从当晚开始醉酒三天三夜。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"教授可以选择一名死亡玩家。如果他这么做了，标记教授失去能力，然后如果那名玩家是镇民，标记那名玩家被复活。之后的夜晚无需再唤醒教授。","name":"教授","otherNight":45,"setup":false,"reminders":["复活","失去能力"],"id":"professor","edition":"bmr","team":"townsfolk","name_eng":"Professor","sch_team":"镇民","firstNight":0,"ability":"每局游戏限一次，在夜晚时*，你可以选择一名死亡的玩家：如果他是镇民，你会将他起死回生。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"吟游诗人","otherNight":0,"setup":false,"reminders":["全员醉酒"],"id":"minstrel","edition":"bmr","team":"townsfolk","name_eng":"Minstrel","sch_team":"镇民","firstNight":0,"ability":"当一名爪牙死于处决时，除了你和旅行者以外的所有其他玩家醉酒直到明天黄昏。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"茶艺师","otherNight":0,"setup":false,"reminders":["不会死亡"],"id":"tea_lady","edition":"bmr","team":"townsfolk","name_eng":"Tea Lady","sch_team":"镇民","firstNight":0,"ability":"如果与你邻近的两名存活的玩家是善良的，他们不会死亡。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"和平主义者","otherNight":0,"setup":false,"reminders":[],"id":"pacifist","edition":"bmr","team":"townsfolk","name_eng":"Pacifist","sch_team":"镇民","firstNight":0,"ability":"被处决的善良玩家可能不会死亡。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"弄臣","otherNight":0,"setup":false,"reminders":["失去能力"],"id":"fool","edition":"bmr","team":"townsfolk","name_eng":"Fool","sch_team":"镇民","firstNight":0,"ability":"当你首次将要死亡时，你不会死亡。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"修补匠可能会死亡。如果说书人选择让修补匠死亡，放置死亡标记。","name":"修补匠","otherNight":48,"setup":false,"reminders":["死亡"],"id":"tinker","edition":"bmr","team":"outsider","name_eng":"Tinker","sch_team":"外来者","firstNight":0,"ability":"你随时可能死亡。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"如果月之子在白天触发了死亡能力并选择了一名善良玩家，该玩家死亡。标记那名玩家死亡。","name":"月之子","otherNight":49,"setup":false,"reminders":["死亡"],"id":"moonchild","edition":"bmr","team":"outsider","name_eng":"Moonchild","sch_team":"外来者","firstNight":0,"ability":"当你得知你死亡时，你要公开选择一名存活的玩家。如果他是善良的，在当晚他会死亡。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"莽夫","otherNight":0,"setup":false,"reminders":["醉酒"],"id":"goon","edition":"bmr","team":"outsider","name_eng":"Goon","sch_team":"外来者","firstNight":0,"ability":"每个夜晚，首个使用其自身能力选择了你的玩家会醉酒直到下个黄昏。你会转变为他的阵营。"},{"firstNightReminder":"如果有七名或更多玩家，唤醒疯子：展示“他们是你的爪牙”信息标记。指向任意对应数量的玩家。展示“这些角色不在场”信息标记。展示三个善良角色。让疯子重新入睡。唤醒恶魔。展示“你是”信息标记和恶魔角色标记。展示“这名玩家是”信息标记和疯子角色标记，然后指向疯子玩家。","isOfficial":true,"otherNightReminder":"做任何需要做的事情来模拟一位恶魔的行动。让疯子重新入睡。唤醒恶魔。对恶魔展示疯子角色标记，并指向疯子玩家，随后是疯子的攻击目标。","name":"疯子","otherNight":21,"setup":false,"reminders":["被选择"],"id":"lunatic","edition":"bmr","remindersGlobal":["是疯子"],"team":"outsider","name_eng":"Lunatic","sch_team":"外来者","firstNight":7,"ability":"你以为你是一个恶魔，但其实你不是。恶魔知道你是什么角色以及你在每个夜晚选择了哪些玩家。"},{"firstNightReminder":"对他展示所有在场的外来者标记。","isOfficial":true,"otherNightReminder":"如果有外来者在今天白天死亡，让教父选择一名玩家。标记那名玩家死亡。","name":"教父","otherNight":38,"setup":true,"reminders":["死于今日","死亡"],"id":"godfather","edition":"bmr","team":"minion","name_eng":"Godfather","sch_team":"爪牙","firstNight":21,"ability":"在你的首个夜晚，你会得知有哪些外来者角色在场。如果有外来者在白天死亡，你会在当晚被唤醒并且你要选择一名玩家：他死亡。[-1或+1外来者]"},{"firstNightReminder":"让魔鬼代言人选择一名存活玩家。标记那名玩家处决不死。","isOfficial":true,"otherNightReminder":"让魔鬼代言人选择一名存活玩家，不能是上一夜他选择过的玩家。标记那名玩家处决不死。","name":"魔鬼代言人","otherNight":14,"setup":false,"reminders":["处决不死"],"id":"devils_advocate","edition":"bmr","team":"minion","name_eng":"Devil\'s Advocate","sch_team":"爪牙","firstNight":22,"ability":"每个夜晚，你要选择一名存活的玩家（与上个夜晚不同）：如果明天白天他被处决，他不会死亡。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"刺客可以选择一名玩家。如果他这么做了，标记那名玩家死亡，且刺客失去能力，之后的夜晚无需再唤醒刺客。","name":"刺客","otherNight":37,"setup":false,"reminders":["死亡","失去能力"],"id":"assassin","edition":"bmr","team":"minion","name_eng":"Assassin","sch_team":"爪牙","firstNight":0,"ability":"每局游戏限一次，在夜晚时*，你可以选择一名玩家：他死亡，即使因为任何原因让他不会死亡。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"主谋","otherNight":0,"setup":false,"reminders":[],"id":"mastermind","edition":"bmr","team":"minion","name_eng":"Mastermind","sch_team":"爪牙","firstNight":0,"ability":"如果恶魔因为死于处决而因此导致游戏结束时，再额外进行一个夜晚和一个白天。在那个白天如果有玩家被处决，他的阵营落败。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"如果今天白天没有人死亡，让僵怖选择一名玩家。标记那名玩家死亡。","name":"僵怖","otherNight":25,"setup":false,"reminders":["死亡","死于今日"],"id":"zombuul","edition":"bmr","team":"demon","name_eng":"Zombuul","sch_team":"恶魔","firstNight":0,"ability":"每个夜晚*，如果今天白天没有⼈死亡，你会被唤醒并要选择一名玩家：他死亡。当你首次死亡后，你仍存活，但会被当作死亡。"},{"firstNightReminder":"让普卡选择一名玩家。标记那名玩家中毒。","isOfficial":true,"otherNightReminder":"让普卡选择一名玩家。标记那名玩家中毒。【圆】上一个因普卡中毒的玩家死亡，随后恢复健康。","name":"普卡","otherNight":26,"setup":false,"reminders":["死亡","中毒"],"id":"pukka","edition":"bmr","team":"demon","name_eng":"Pukka","sch_team":"恶魔","firstNight":28,"ability":"每个夜晚，你要选择一名玩家：他中毒。上个因你的能力中毒的玩家会死亡并恢复健康。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"上一夜被沙巴洛斯选择且当前已死亡的玩家之一可能被反刍，如果被反刍，标记那名玩家被复活。让沙巴洛斯选择两名玩家。标记这两名玩家死亡。","name":"沙巴洛斯","otherNight":27,"setup":false,"reminders":["死亡","复活"],"id":"shabaloth","edition":"bmr","team":"demon","name_eng":"Shabaloth","sch_team":"恶魔","firstNight":0,"ability":"每个夜晚*，你要选择两名玩家：他们死亡。你的上个夜晚选择过的且当前死亡的玩家可能会因为你的反刍而复活。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"珀可以选择一名玩家；或如果上一次他被唤醒时未做选择，让他选择三名玩家。标记这些玩家死亡。","name":"珀","otherNight":28,"setup":false,"reminders":["死亡","攻击三次"],"id":"po","edition":"bmr","team":"demon","name_eng":"Po","sch_team":"恶魔","firstNight":0,"ability":"每个夜晚*，你可以选择一名玩家：他死亡。如果你上次选择时没有选择任何玩家，当晚你要选择三名玩家：他们死亡。"},{"firstNightReminder":"对学徒展示一个镇民或爪牙标记。在魔典中，用那个角色标记代替学徒标记，并在一旁标识该玩家是学徒。","isOfficial":true,"otherNightReminder":"","name":"学徒","otherNight":0,"setup":false,"reminders":["是学徒"],"id":"apprentice","edition":"bmr","team":"traveler","name_eng":"Apprentice","sch_team":"旅行者","firstNight":1,"ability":"在你的首个夜晚，如果你是善良的，你会获得一个镇民角色的能力；如果你是邪恶的，你会获得一个爪牙角色的能力。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"女舍监","otherNight":0,"setup":false,"reminders":[],"id":"matron","edition":"bmr","team":"traveler","name_eng":"Matron","sch_team":"旅行者","firstNight":0,"ability":"每个白天，你可以选择至多三对玩家交换座位。玩家不能离开座位私聊。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"法官","otherNight":0,"setup":false,"reminders":["失去能力"],"id":"judge","edition":"bmr","team":"traveler","name_eng":"Judge","sch_team":"旅行者","firstNight":0,"ability":"每局游戏限一次，如果其他玩家发起了提名，你可以选择让本次提名直接执行处决或让投票无效。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"主教","otherNight":0,"setup":false,"reminders":["提名善良方","提名邪恶放"],"id":"bishop","edition":"bmr","team":"traveler","name_eng":"Bishop","sch_team":"旅行者","firstNight":0,"ability":"只有说书人可以发起提名。每个白天说书人至少要提名一名你对立阵营的玩家。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"巫毒师","otherNight":0,"setup":false,"reminders":[],"id":"voudon","edition":"bmr","team":"traveler","name_eng":"Voudon","sch_team":"旅行者","firstNight":0,"ability":"只有你和死亡的玩家可以投票，且投票不需要使用投票标记。忽略票数需要过半的要求。"},{"firstNightReminder":"给他展示数字手势来告诉他恶魔与爪牙之间最近的距离。","isOfficial":true,"otherNightReminder":"","name":"钟表匠","otherNight":0,"setup":false,"reminders":[],"id":"clockmaker","edition":"snv","team":"townsfolk","name_eng":"Clockmaker","sch_team":"镇民","firstNight":40,"ability":"在你的首个夜晚，你会得知恶魔与爪牙之间最近的距离。（邻座的玩家距离为1）"},{"firstNightReminder":"让筑梦师指向一名玩家。对他展示善良和邪恶的角色标记各一个，其中一个是属于该玩家的角色。","isOfficial":true,"otherNightReminder":"让筑梦师指向一名玩家。对他展示善良和邪恶的角色标记各一个，其中一个是属于该玩家的角色。","name":"筑梦师","otherNight":57,"setup":false,"reminders":[],"id":"dreamer","edition":"snv","team":"townsfolk","name_eng":"Dreamer","sch_team":"镇民","firstNight":41,"ability":"每个夜晚，你要选择除你及旅行者以外的一名玩家：你会得知一个善良角色和一个邪恶角色，该玩家是其中一个角色。"},{"firstNightReminder":"让舞蛇人选择一名玩家。如果舞蛇人选中了恶魔：展示“你是”信息标记和恶魔角色标记。用拇指向下代表他阵营变为邪恶。在魔典中交换舞蛇人和恶魔的角色标记。让原来的舞蛇人重新入睡。唤醒原来的恶魔。对老恶魔展示“你是”信息标记和舞蛇人角色标记，并用拇指向上代表他阵营变为善良。","isOfficial":true,"otherNightReminder":"让舞蛇人选择一名玩家。如果舞蛇人选中了恶魔：展示“你是”信息标记和恶魔角色标记。用拇指向下代表他阵营变为邪恶。在魔典中交换舞蛇人和恶魔的角色标记。让原来的舞蛇人重新入睡。唤醒原来的恶魔。对老恶魔展示“你是”信息标记和舞蛇人角色标记，并用拇指向上代表他阵营变为善良。","name":"舞蛇人","otherNight":12,"setup":false,"reminders":["中毒"],"id":"snake_charmer","edition":"snv","team":"townsfolk","name_eng":"Snake Charmer","sch_team":"镇民","firstNight":20,"ability":"每个夜晚，你要选择一名存活的玩家：如果你选中了恶魔，你和他交换角色和阵营，然后他中毒。"},{"firstNightReminder":"给他展示数字手势来告诉他在首个夜晚里有多少玩家的角色能力受他人影响而未正常生效。","isOfficial":true,"otherNightReminder":"给他展示数字手势来告诉他从上个黎明到数学家醒来前有多少玩家的角色能力受他人影响而未正常生效。","name":"数学家","otherNight":71,"setup":false,"reminders":["未正常生效"],"id":"mathematician","edition":"snv","team":"townsfolk","name_eng":"Mathematician","sch_team":"镇民","firstNight":51,"ability":"每个夜晚，你会得知有多少名玩家的能力因为其它玩家的能力而未正常生效。(从上个黎明到你被唤醒时）"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"对她点头或摇头来示意今天白天是否有恶魔投过票。","name":"卖花女孩","otherNight":58,"setup":false,"reminders":["恶魔未投票","恶魔已投票"],"id":"flowergirl","edition":"snv","team":"townsfolk","name_eng":"Flowergirl","sch_team":"镇民","firstNight":0,"ability":"每个夜晚*，你会得知在今天白天时是否有恶魔投过票。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"对他点头或摇头示意今天白天是否有爪牙发起过提名。","name":"城镇公告员","otherNight":59,"setup":false,"reminders":["爪牙未提名","爪牙已提名"],"id":"town_crier","edition":"snv","team":"townsfolk","name_eng":"Town Crier","sch_team":"镇民","firstNight":0,"ability":"每个夜晚*，你会得知在今天白天时是否有爪牙发起过提名。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"给他展示数字手势来告诉他当前已死亡的玩家中有多少玩家是邪恶的。","name":"神谕者","otherNight":60,"setup":false,"reminders":[],"id":"oracle","edition":"snv","team":"townsfolk","name_eng":"Oracle","sch_team":"镇民","firstNight":0,"ability":"每个夜晚*，你会得知有多少名死亡的玩家是邪恶的。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"博学者","otherNight":0,"setup":false,"reminders":[],"id":"savant","edition":"snv","team":"townsfolk","name_eng":"Savant","sch_team":"镇民","firstNight":0,"ability":"每个白天，你可以私下询问说书人以得知两条信息：一个是正确的，一个是错误的。"},{"firstNightReminder":"女裁缝可以选择除自己以外的两名玩家。如果她这么做了，对她点头或摇头示意这两名玩家是否为同一阵营，随后标记女裁缝失去能力。之后的夜晚无需再唤醒女裁缝。","isOfficial":true,"otherNightReminder":"女裁缝可以选择除自己以外的两名玩家。如果她这么做了，对她点头或摇头示意这两名玩家是否为同一阵营，随后标记女裁缝失去能力。之后的夜晚无需再唤醒女裁缝。","name":"女裁缝","otherNight":61,"setup":false,"reminders":["失去能力"],"id":"seamstress","edition":"snv","team":"townsfolk","name_eng":"Seamstress","sch_team":"镇民","firstNight":42,"ability":"每局游戏限一次，在夜晚时，你可以选择除你以外的两名玩家：你会得知他们是否为同一阵营。"},{"firstNightReminder":"哲学家可以选择一个角色。如果选择的角色不在场，将哲学家的角色标题替换成对应角色，并标记“是哲学家”，否则标记该角色对应的玩家醉酒。从现在开始，你需要以哲学家获得能力的那种角色的行动方式来唤醒哲学家。","isOfficial":true,"otherNightReminder":"哲学家可以选择一个角色。如果选择的角色不在场，将哲学家的角色标题替换成对应角色，并标记“是哲学家”，否则标记该角色对应的玩家醉酒。从现在开始，你需要以哲学家获得能力的那种角色的行动方式来唤醒哲学家。","name":"哲学家","otherNight":2,"setup":false,"reminders":["醉酒"],"id":"philosopher","edition":"snv","remindersGlobal":["是哲学家"],"team":"townsfolk","name_eng":"Philosopher","sch_team":"镇民","firstNight":2,"ability":"每局游戏限一次，在夜晚时，你可以选择一个善良角色：你获得该角色的能力。如果这个角色在场，他醉酒。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"艺术家","otherNight":0,"setup":false,"reminders":["失去能力"],"id":"artist","edition":"snv","team":"townsfolk","name_eng":"Artist","sch_team":"镇民","firstNight":0,"ability":"每局游戏限一次，在白天时，你可以私下询问说书⼈一个是非问题，你会得知该问题的答案。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"给他展示数字手势来告诉他他当天白天猜测正确的次数。","name":"杂耍艺人","otherNight":62,"setup":false,"reminders":["猜测正确"],"id":"juggler","edition":"snv","team":"townsfolk","name_eng":"Juggler","sch_team":"镇民","firstNight":0,"ability":"在你的首个白天，你可以公开猜测任意玩家的角色最多五次。在当晚，你会得知猜测正确的角色数量。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"如果恶魔杀死了贤者，唤醒贤者并指向两名玩家，其中一名玩家是杀死他的恶魔。","name":"贤者","otherNight":43,"setup":false,"reminders":[],"id":"sage","edition":"snv","team":"townsfolk","name_eng":"Sage","sch_team":"镇民","firstNight":0,"ability":"如果恶魔杀死了你，在当晚你会被唤醒并得知两名玩家，其中一名是杀死你的那个恶魔。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"畸形秀演员","otherNight":0,"setup":false,"reminders":[],"id":"mutant","edition":"snv","team":"outsider","name_eng":"Mutant","sch_team":"外来者","firstNight":0,"ability":"如果你“疯狂”地证明自己是外来者，你可能被处决。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"如果心上人死亡，会有一名玩家立刻醉酒。如果你还没有让这件事情发生，那么现在为任意一位玩家放置醉酒标记。","name":"心上人","otherNight":41,"setup":false,"reminders":["醉酒"],"id":"sweetheart","edition":"snv","team":"outsider","name_eng":"Sweetheart","sch_team":"外来者","firstNight":0,"ability":"当你死亡时，会有一名玩家开始醉酒。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"如果理发师今天死亡了，唤醒恶魔并展示“该角色的效果对你生效”信息标记和理发师角色标记。如果恶魔选择了两名玩家，将这两名玩家分别独自唤醒。对他们展示“你是”信息标记和他们的新角色标记。","name":"理发师","otherNight":40,"setup":false,"reminders":["今晚理发"],"id":"barber","edition":"snv","team":"outsider","name_eng":"Barber","sch_team":"外来者","firstNight":0,"ability":"如果你死亡，在当晚恶魔可以选择两名玩家（不能选择其它恶魔）交换角色。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"呆瓜","otherNight":0,"setup":false,"reminders":[],"id":"klutz","edition":"snv","team":"outsider","name_eng":"Klutz","sch_team":"外来者","firstNight":0,"ability":"当你得知你死亡时，你要公开选择一名存活的玩家：如果他是邪恶的，你的阵营落败。"},{"firstNightReminder":"唤醒镜像双子和他的对立双子，让他们进行眼神接触。对镜像双子展示对立双子的角色标记，并对对立双子展示镜像双子的角色标记。","isOfficial":true,"otherNightReminder":"","name":"镜像双子","otherNight":0,"setup":false,"reminders":["对立双子"],"id":"evil_twin","edition":"snv","team":"minion","name_eng":"Evil Twin","sch_team":"爪牙","firstNight":23,"ability":"你与一名对立阵营的玩家互相知道对方是什么角色。如果其中善良玩家被处决，邪恶阵营获胜。如果你们都存活，善良阵营无法获胜。"},{"firstNightReminder":"让女巫选择一名玩家。标记那名玩家被诅咒。","isOfficial":true,"otherNightReminder":"让女巫选择一名玩家。标记那名玩家被诅咒。","name":"女巫","otherNight":15,"setup":false,"reminders":["被诅咒"],"id":"witch","edition":"snv","team":"minion","name_eng":"Witch","sch_team":"爪牙","firstNight":24,"ability":"每个夜晚，你要选择一名玩家：如果他明天白天发起提名，他死亡。如果只有三名存活的玩家，你失去此能力。"},{"firstNightReminder":"让洗脑师选择一名玩家和一个善良角色。标记那名玩家疯狂。让洗脑师重新入睡。唤醒洗脑师的目标。对这名玩家展示“该角色的能力对你生效”信息标记，洗脑师角色标记，该玩家需要疯狂证明的角色标记。","isOfficial":true,"otherNightReminder":"让洗脑师选择一名玩家和一个善良角色。标记那名玩家疯狂。让洗脑师重新入睡。唤醒洗脑师的目标。对这名玩家展示“该角色的能力对你生效”信息标记，洗脑师角色标记，该玩家需要疯狂证明的角色标记。","name":"洗脑师","otherNight":16,"setup":false,"reminders":["疯狂"],"id":"cerenovus","edition":"snv","team":"minion","name_eng":"Cerenovus","sch_team":"爪牙","firstNight":25,"ability":"每个夜晚，你要选择一名玩家和一个善良角色。他明天白天和夜晚需要“疯狂”地证明自己是这个角色，不然他可能被处决。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"让麻脸巫婆选择一名玩家和一个角色。如果她选择的角色不在场：让麻脸巫婆重新入睡。唤醒她的目标玩家。对该玩家展示“你是”信息标记和他的新角色标记。","name":"麻脸巫婆","otherNight":17,"setup":false,"reminders":[],"id":"pit-hag","edition":"snv","team":"minion","name_eng":"Pit-Hag","sch_team":"爪牙","firstNight":0,"ability":"每个夜晚*，你要选择一名玩家和一个角色，如果该角色不在场，他变成该角色。如果因此创造了一个恶魔，当晚的死亡由说书⼈决定。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"让方古选择一名玩家。标记那名玩家死亡。如果他选择了外来者，且“首次”标记未放置在魔典中：用备用的方古角色标记替换那名外来者的角色标记。让方古重新入睡。唤醒方古的目标玩家。对该玩家展示“你是”信息标记和方古角色标记，并用拇指向下代表他阵营变为邪恶。将“首次”标记放置在魔典中。标记原本的方古玩家死亡，且他选择的玩家不会被标记为死亡。","name":"方古","otherNight":29,"setup":true,"reminders":["死亡"],"id":"fang_gu","edition":"snv","remindersGlobal":["限一次"],"team":"demon","name_eng":"Fang Gu","sch_team":"恶魔","firstNight":0,"ability":"每个夜晚*，你要选择一名玩家：他死亡。首个会被这种能力杀死的外来者改为变成一个邪恶的方古且你代替他死亡。[+1外来者]"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"让亡骨魔选择一名玩家。标记那名玩家死亡。如果该玩家是爪牙，标记该玩家保留能力，并标记与该玩家邻近的镇民玩家之一中毒。","name":"亡骨魔","otherNight":32,"setup":true,"reminders":["死亡","保留能力","中毒"],"id":"vigormortis","edition":"snv","team":"demon","name_eng":"Vigormortis","sch_team":"恶魔","firstNight":0,"ability":"每个夜晚*，你要选择一名玩家：他死亡。被你杀死的爪牙保留他的能力，且与他邻近的两名镇民之一中毒。[-1外来者]"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"让诺-达鲺选择一名玩家。标记那名玩家死亡。","name":"诺-达鲺","otherNight":30,"setup":false,"reminders":["死亡","中毒"],"id":"no_dashii","edition":"snv","team":"demon","name_eng":"No Dashii","sch_team":"恶魔","firstNight":0,"ability":"每个夜晚*，你要选择一名玩家：他死亡。与你邻近的两名镇民中毒。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"让涡流选择一名玩家。标记那名玩家死亡。","name":"涡流","otherNight":31,"setup":false,"reminders":["死亡"],"id":"vortox","edition":"snv","team":"demon","name_eng":"Vortox","sch_team":"恶魔","firstNight":0,"ability":"每个夜晚*，你要选择一名玩家：他死亡。镇民玩家的能力都会产生错误信息。如果白天没⼈被处决，邪恶阵营获胜。"},{"firstNightReminder":"说书人选择一名玩家唤醒，并告诉他触发了咖啡师的什么效果。","isOfficial":true,"otherNightReminder":"说书人选择一名玩家唤醒，并告诉他触发了咖啡师的什么效果。","name":"咖啡师","otherNight":1,"setup":false,"reminders":["清醒且健康","行动两次"],"id":"barista","edition":"snv","team":"traveler","name_eng":"Barista","sch_team":"旅行者","firstNight":1,"ability":"每个夜晚，直至下个黄昏，由说书⼈二选一：1）一名玩家解除并免受醉酒和中毒影响，且会得知正确信息；2）一名玩家的能力可以生效两次。该玩家会得知是哪个效果。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"流莺选择一名玩家，将其唤醒，那名玩家选择同意或拒绝。如果同意，将他的角色标记展示给流莺看。然后说书人可以决定两名玩家是否会一起死去。","name":"流莺","otherNight":1,"setup":false,"reminders":["死亡"],"id":"harlot","edition":"snv","team":"traveler","name_eng":"Harlot","sch_team":"旅行者","firstNight":0,"ability":"每个夜晚*，你要选择一名存活的玩家：如果他同意，你会得知他的角色，但是你们两个可能同时死亡。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"屠夫","otherNight":0,"setup":false,"reminders":[],"id":"butcher","edition":"snv","team":"traveler","name_eng":"Butcher","sch_team":"旅行者","firstNight":0,"ability":"每个白天，首次处决后，你可以再次发起提名。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"集骨者选择不使用能力，或指向一名死亡玩家。放置恢复能力标记提示，并且该玩家当晚可能会因此醒来并使用能力。","name":"集骨者","otherNight":1,"setup":false,"reminders":["重获能力","失去能力"],"id":"bone_collector","edition":"snv","team":"traveler","name_eng":"Bone Collector","sch_team":"旅行者","firstNight":0,"ability":"每局游戏限一次，在夜晚时*，你可以选择一名死亡的玩家：他重新获得能力直到下个黄昏。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"怪咖","otherNight":0,"setup":false,"reminders":[],"id":"deviant","edition":"snv","team":"traveler","name_eng":"Deviant","sch_team":"旅行者","firstNight":0,"ability":"如果你表现得很有趣，当天你不能被流放。"},{"firstNightReminder":"以任意顺序指向三名玩家，其中一名邪恶。","isOfficial":true,"otherNightReminder":"","name":"贵族","otherNight":0,"setup":false,"reminders":["被得知"],"id":"noble","edition":"exp","team":"townsfolk","name_eng":"Noble","sch_team":"镇民","firstNight":43,"ability":"在你的首个夜晚，你会得知三名玩家：其中有且只有一名玩家是邪恶的。"},{"firstNightReminder":"指向一名邪恶玩家。随后唤醒那名因赏金猎人而转变为邪恶的镇民，并告知他变成了邪恶阵营。","isOfficial":true,"otherNightReminder":"如果赏金猎人知晓的邪恶玩家死亡，指向另一名邪恶玩家。","name":"赏金猎人","otherNight":65,"setup":true,"reminders":["被得知","邪恶"],"id":"bounty_hunter","edition":"exp","team":"townsfolk","name_eng":"Bounty Hunter","sch_team":"镇民","firstNight":45,"ability":"在你的首个夜晚，你会得知一名邪恶玩家。每当你得知的玩家死亡，你会在当晚得知另一名邪恶玩家。[会有一名镇民转变为邪恶阵营]"},{"firstNightReminder":"对小精灵展示一个在场的镇民角色。","isOfficial":true,"otherNightReminder":"","name":"小精灵","otherNight":0,"setup":false,"reminders":["疯狂","获得能力"],"id":"pixie","edition":"exp","team":"townsfolk","name_eng":"Pixie","sch_team":"镇民","firstNight":29,"ability":"在你的首个夜晚，你会得知一个在场的镇民角色。如果你“疯狂”地证明你是该角色，当他死亡时你获得该角色的能力。"},{"firstNightReminder":"告诉将军你认为的答案。","isOfficial":true,"otherNightReminder":"告诉将军你认为的答案。","name":"将军","otherNight":69,"setup":false,"reminders":[],"id":"general","edition":"exp","team":"townsfolk","name_eng":"General","sch_team":"镇民","firstNight":49,"ability":"每个夜晚，你会得知说书人认为哪个阵营当前更有优势（善良/邪恶/均势）。"},{"firstNightReminder":"传教士选择一名玩家。如果选中了爪牙，则唤醒并告知他被传教士选中。","isOfficial":true,"otherNightReminder":"传教士选择一名玩家。如果选中了爪牙，则唤醒并告知他被传教士选中。","name":"传教士","otherNight":7,"setup":false,"reminders":["布道"],"id":"preacher","edition":"exp","team":"townsfolk","name_eng":"Preacher","sch_team":"镇民","firstNight":14,"ability":"每个夜晚，你要选择一名玩家：如果选中了爪牙，他会得知被传教士选中。所有被你选中的爪牙失去能力。"},{"firstNightReminder":"唤醒恶魔，并告诉他国王是谁。","isOfficial":true,"otherNightReminder":"如果死亡玩家人数大于存活玩家，唤醒国王并对其展示一个存活的角色标记。","name":"国王","otherNight":64,"setup":false,"reminders":[],"id":"king","edition":"exp","team":"townsfolk","name_eng":"King","sch_team":"镇民","firstNight":9,"ability":"每个夜晚，如果死亡的玩家数量大于存活的玩家数量，你会得知一个存活的角色。恶魔知道你是什么角色。"},{"firstNightReminder":"选择一种角色类型，并告知其一个符合该类型的玩家。在该玩家旁边标记已被知晓。","isOfficial":true,"otherNightReminder":"选择一种尚未被气球驾驶员知晓的角色类型，并告知其一个符合该类型的玩家。在该玩家旁边标记已被知晓。如果所有类型均已被知晓或无该种类型，气球驾驶员不会醒来。","name":"气球驾驶员","otherNight":63,"setup":true,"reminders":["得知镇民","得知外来者","得知爪牙","得知恶魔","得知旅行者"],"id":"balloonist","edition":"exp","team":"townsfolk","name_eng":"Balloonist","sch_team":"镇民","firstNight":44,"ability":"每个夜晚，你会得知一名不同角色类型的玩家，直到场上所有的角色类型你都得知过一次。[+1 外来者]"},{"firstNightReminder":"如果异教领袖改变了阵营，告诉他。","isOfficial":true,"otherNightReminder":"如果异教领袖改变了阵营，告诉他。","name":"异教领袖","otherNight":67,"setup":false,"reminders":["同一阵营"],"id":"cult_leader","edition":"exp","team":"townsfolk","name_eng":"Cult Leader","sch_team":"镇民","firstNight":47,"ability":"每个夜晚，你会转变为与你邻近的一名存活的玩家的阵营。每个白天，你可以提议所有玩家加入你的教派，如果所有善良玩家同意加入，你的阵营获胜。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"半兽人指向一名存活玩家：如果那名玩家善良，则立刻死去且今夜不会再有玩家死亡。","name":"半兽人","otherNight":23,"setup":false,"reminders":["死亡"],"id":"lycanthrope","edition":"exp","team":"townsfolk","name_eng":"Lycanthrope","sch_team":"镇民","firstNight":0,"ability":"每个夜晚*，你要选择一名存活的玩家，如果他是善良的，他死亡，并且当晚不会再有其他玩家死亡。"},{"firstNightReminder":"决定失忆者的能力。如果失忆者的能力会让他在今晚醒来：唤醒他并执行其能力。","isOfficial":true,"otherNightReminder":"如果失忆者的能力会让他在今晚醒来：唤醒他并执行其能力。","name":"失忆者","otherNight":5,"setup":false,"reminders":["？"],"id":"amnesiac","edition":"exp","team":"townsfolk","name_eng":"Amnesiac","sch_team":"镇民","firstNight":12,"ability":"你不知道你的能力是什么。每个白天你可以找说书人猜测一次，你会得知你的猜测有多准确。"},{"firstNightReminder":"工程师选择不使用能力，或在剧本列表中选择恶魔或爪牙角色。如果他选择爪牙角色，则需要选择对应数量的爪牙。然后将这些玩家依次唤醒，并告知他们变成了什么角色。","isOfficial":true,"otherNightReminder":"工程师选择不使用能力，或在剧本列表中选择恶魔或爪牙角色。如果他选择爪牙角色，则需要选择对应数量的爪牙。然后将这些玩家依次唤醒，并告知他们变成了什么角色。","name":"工程师","otherNight":6,"setup":false,"reminders":["失去能力"],"id":"engineer","edition":"exp","team":"townsfolk","name_eng":"Engineer","sch_team":"镇民","firstNight":13,"ability":"每局游戏限一次，在夜晚时，你可以选择让恶魔变成你选择的恶魔角色，或让所有爪牙变成你选择的爪牙角色。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"渔夫","otherNight":0,"setup":false,"reminders":["失去能力"],"id":"fisherman","edition":"exp","team":"townsfolk","name_eng":"Fisherman","sch_team":"镇民","firstNight":0,"ability":"每局游戏限一次，在白天时，你可以让说书⼈给你一些能帮助你的阵营获胜的建议。"},{"firstNightReminder":"巡山人选择不使用能力，或指向一名玩家。如果他指向了落难少女，则为落难少女安排一个新的不在场镇民角色，将其唤醒并告知她新的角色。","isOfficial":true,"otherNightReminder":"巡山人选择不使用能力，或指向一名玩家。如果他指向了落难少女，则为落难少女安排一个新的不在场镇民角色，将其唤醒并告知她新的角色。","name":"巡山人","otherNight":51,"setup":true,"reminders":["失去能力"],"id":"huntsman","edition":"exp","team":"townsfolk","name_eng":"Huntsman","sch_team":"镇民","firstNight":30,"ability":"每局游戏限一次，在夜晚时，你可以选择一名存活的玩家：如果你选中了落难少女，她会变成一个不在场的镇民角色。[+落难少女]"},{"firstNightReminder":"展示给炼金术士一个不在场的角色标记。","isOfficial":true,"otherNightReminder":"","name":"炼金术士","otherNight":0,"setup":false,"reminders":[],"id":"alchemist","edition":"exp","remindersGlobal":["是炼金术士"],"team":"townsfolk","name_eng":"Alchemist","sch_team":"镇民","firstNight":3,"ability":"你拥有一个不在场的爪牙角色的能力。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"如果农民在夜晚死去，则选择另一位善良玩家成为农民。唤醒这名玩家，并告知他成为了农民。","name":"农夫","otherNight":46,"setup":false,"reminders":[],"id":"farmer","edition":"exp","team":"townsfolk","name_eng":"Farmer","sch_team":"镇民","firstNight":0,"ability":"如果你在夜晚死亡，一名存活的善良玩家会变成农夫。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"魔术师","otherNight":0,"setup":false,"reminders":[],"id":"magician","edition":"exp","team":"townsfolk","name_eng":"Magician","sch_team":"镇民","firstNight":0,"ability":"恶魔会以为你是爪牙。爪牙会以为你是恶魔。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"如果国王被恶魔杀死，将唱诗男孩唤醒并告诉他谁是那个杀死国王的恶魔。","name":"唱诗男孩","otherNight":44,"setup":true,"reminders":[],"id":"choirboy","edition":"exp","team":"townsfolk","name_eng":"Choirboy","sch_team":"镇民","firstNight":0,"ability":"如果国王死亡，在当晚你会得知哪名玩家是杀死国王的恶魔。[+国王]"},{"firstNightReminder":"不要让恶魔和爪牙相认。","isOfficial":true,"otherNightReminder":"如果罂粟种植者死亡，安排恶魔和爪牙相认环节。","name":"罂粟种植者","otherNight":3,"setup":false,"reminders":["邪恶角色互认"],"id":"poppy_grower","edition":"exp","team":"townsfolk","name_eng":"Poppy Grower","sch_team":"镇民","firstNight":4,"ability":"爪牙和恶魔互相不认识。如果你死亡，当晚他们会互相认识。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"无神论者","otherNight":0,"setup":true,"reminders":[],"id":"atheist","edition":"exp","team":"townsfolk","name_eng":"Atheist","sch_team":"镇民","firstNight":0,"ability":"说书人可以打破游戏规则。如果说书人被处决，善良阵营获胜，即使你已死亡。[无邪恶角色在场]"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"食人族","otherNight":0,"setup":false,"reminders":["中毒","死于处决"],"id":"cannibal","edition":"exp","team":"townsfolk","name_eng":"Cannibal","sch_team":"镇民","firstNight":0,"ability":"你拥有上个死于处决的玩家的能力。如果该玩家属于邪恶阵营，你中毒直到下个善良玩家被处决。"},{"firstNightReminder":"分别给爪牙们展示三个不在场角色，这些信息之间，包括与展示给恶魔的不在场角色之间可能会有重叠。","isOfficial":true,"otherNightReminder":"","name":"告密者","otherNight":0,"setup":false,"reminders":[],"id":"snitch","edition":"exp","team":"outsider","name_eng":"Snitch","sch_team":"外来者","firstNight":6,"ability":"在你的首个夜晚，所有爪牙分别会得知三个不在场的角色。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"如果杂技演员左右两侧最近的存活善良玩家之一中毒或醉酒，杂技演员死亡。","name":"杂技演员","otherNight":39,"setup":false,"reminders":["死亡"],"id":"acrobat","edition":"exp","team":"outsider","name_eng":"Acrobat","sch_team":"外来者","firstNight":0,"ability":"每个夜晚*，如果与你邻近的一名存活的善良玩家醉酒或中毒，你死亡。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"解谜大师","otherNight":0,"setup":false,"reminders":["醉酒","已猜测"],"id":"puzzlemaster","edition":"exp","team":"outsider","name_eng":"Puzzlemaster","sch_team":"外来者","firstNight":0,"ability":"一名玩家醉酒，即使你已死亡。每局游戏限一次，你可以猜测谁是那个醉酒的玩家，如果猜对了，你会得知谁是恶魔，但如果猜错了，你会得知错误的“谁是恶魔”信息。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"异端分子","otherNight":0,"setup":false,"reminders":[],"id":"heretic","edition":"exp","team":"outsider","name_eng":"Heretic","sch_team":"外来者","firstNight":0,"ability":"所有本来获胜的玩家，改为落败；所有本来落败的玩家，改为获胜，即使你已死亡。"},{"firstNightReminder":"唤醒所有爪牙，并告知他们场中有落难少女。","isOfficial":true,"otherNightReminder":"如果被巡山人选中，唤醒并为其展示新角色。","name":"落难少女","otherNight":52,"setup":false,"reminders":["已被猜测"],"id":"damsel","edition":"exp","team":"outsider","name_eng":"Damsel","sch_team":"外来者","firstNight":31,"ability":"所有爪牙都知道你在场。每局游戏限一次，任意爪牙可以公开猜测你的角色，如果猜对，你的阵营落败。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"魔像","otherNight":0,"setup":false,"reminders":["无法提名"],"id":"golem","edition":"exp","team":"outsider","name_eng":"Golem","sch_team":"外来者","firstNight":0,"ability":"每局游戏你只能发起提名一次。当你发起提名时，如果被你提名的玩家不是恶魔，他死亡。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"政客","otherNight":0,"setup":false,"reminders":[],"id":"politician","edition":"exp","team":"outsider","name_eng":"Politician","sch_team":"外来者","firstNight":0,"ability":"如果你是对你的阵营落败负最大责任的人，你转变阵营并获胜，即使你已死亡。"},{"firstNightReminder":"给寡妇展示魔典，她想看多久就看多久。等她看完后，让她指向一个玩家。那个玩家中毒。唤醒一名善良玩家，告诉他场上有寡妇。","isOfficial":true,"otherNightReminder":"","name":"寡妇","otherNight":0,"setup":false,"reminders":["中毒"],"id":"widow","edition":"exp","remindersGlobal":["被知晓"],"team":"minion","name_eng":"Widow","sch_team":"爪牙","firstNight":18,"ability":"在你的首个夜晚，你能查看魔典并选择一名玩家：他中毒。随后，始终会有一名善良玩家知道寡妇在场。"},{"firstNightReminder":"恐惧之灵指向一名玩家，放置恐惧标记。宣布恐惧之灵选中或改变了目标。","isOfficial":true,"otherNightReminder":"恐惧之灵指向一名玩家。如果与之前选择的不同，则更换恐惧标记并宣布恐惧之灵选中或改变了目标。","name":"恐惧之灵","otherNight":18,"setup":false,"reminders":["恐惧蔓延"],"id":"fearmonger","edition":"exp","team":"minion","name_eng":"Fearmonger","sch_team":"爪牙","firstNight":26,"ability":"每个夜晚，你要选择一名玩家：如果你提名他且他被处决，他的阵营落败。当你首次选择或更换目标时，所有玩家都会得知你选择了新的玩家。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"精神病患者","otherNight":0,"setup":false,"reminders":[],"id":"psychopath","edition":"exp","team":"minion","name_eng":"Psychopath","sch_team":"爪牙","firstNight":0,"ability":"每个白天，在提名开始前，你可以公开选择一名玩家：他死亡。如果你被处决，提名你的玩家需要和你猜拳，只有你输了你才会死亡。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"哥布林","otherNight":0,"setup":false,"reminders":["已公开声明"],"id":"goblin","edition":"exp","team":"minion","name_eng":"Goblin","sch_team":"爪牙","firstNight":0,"ability":"如果你在被提名后公开声明自己是哥布林且在那个白天被处决，你的阵营获胜。"},{"firstNightReminder":"告诉灵言师他的秘密词语。","isOfficial":true,"otherNightReminder":"唤醒第一个说出灵言师词语的玩家并告知他已经变成邪恶阵营。","name":"灵言师","otherNight":19,"setup":false,"reminders":["邪恶","失去能力"],"id":"mezepheles","edition":"exp","team":"minion","name_eng":"Mezepheles","sch_team":"爪牙","firstNight":27,"ability":"在你的首个夜晚，你会得知一个关键词。首个说出该关键词的善良玩家会在当晚转变为邪恶阵营。"},{"firstNightReminder":"选择一个邻近恶魔的善良玩家放置提线木偶标记。唤醒恶魔并告知他谁是提线木偶。","isOfficial":true,"otherNightReminder":"","name":"提线木偶","otherNight":0,"setup":true,"reminders":[],"id":"marionette","edition":"exp","remindersGlobal":["是提线木偶"],"team":"minion","name_eng":"Marionette","sch_team":"爪牙","firstNight":11,"ability":"你以为你是一个善良角色，但其实你不是。恶魔会知道你是什么角色。[提线木偶会与恶魔邻座]"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"炸弹人","otherNight":0,"setup":false,"reminders":[],"id":"boomdandy","edition":"exp","team":"minion","name_eng":"Boomdandy","sch_team":"爪牙","firstNight":0,"ability":"如果你被处决，除三名玩家以外的其他所有玩家均会死亡。一分钟之后，被最多玩家手指指着的玩家死亡。"},{"firstNightReminder":"唤醒所有爪牙，允许他们以指向的方式决定谁照看小怪宝，但不能产生其他交流，否则会有非常糟糕的事情发生。","isOfficial":true,"otherNightReminder":"唤醒所有爪牙，允许他们以指向的方式决定谁照看小怪宝，但不能产生其他交流，否则会有非常糟糕的事情发生。说书人选择一名玩家，那名玩家死亡。","name":"小怪宝","otherNight":36,"setup":true,"reminders":[],"id":"lil_monsta","edition":"exp","remindersGlobal":["是恶魔","死亡"],"team":"demon","name_eng":"Lil\' Monsta","sch_team":"恶魔","firstNight":16,"ability":"每个夜晚，所有爪牙要秘密决定由哪名玩家来照看小怪宝，然后该玩家被当作恶魔。每个夜晚*，会有一名玩家死亡。[+1爪牙]"},{"firstNightReminder":"寄生蛭指向一名玩家。放置寄生标记，那名玩家中毒。","isOfficial":true,"otherNightReminder":"寄生蛭指向一名玩家。那名玩家死亡。","name":"痢蛭","otherNight":35,"setup":false,"reminders":["死亡","中毒"],"id":"lleech","edition":"exp","team":"demon","name_eng":"Lleech","sch_team":"恶魔","firstNight":15,"ability":"每个夜晚*，你要选择一名玩家：他死亡。在你的首个夜晚，你要选择一名存活的玩家：他中毒，只有他死亡时你才会一同死亡。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"哈迪寂亚选择三名玩家。对所有人宣告第一位玩家，然后唤醒他并让他秘密选择活着还是死去。依次对第二第三位玩家如此做。如果三名玩家都选择活着，他们都死去。","name":"哈迪寂亚","otherNight":33,"setup":false,"reminders":["1","2","3","选择生","选择死"],"id":"al-hadikhia","edition":"exp","team":"demon","name_eng":"Al-Hadikhia","sch_team":"恶魔","firstNight":0,"ability":"每个夜晚*，你要选择三名玩家（所有玩家都会得知你选了谁）：他们分别秘密决定自己的生死，如果他们都选择了生，他们都死亡。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"由说书人决定，让哪一名玩家死亡。","name":"军团","otherNight":34,"setup":true,"reminders":["即将被处决","死亡"],"id":"legion","edition":"exp","team":"demon","name_eng":"Legion","sch_team":"恶魔","firstNight":0,"ability":"每个夜晚*，可能有一名玩家死亡。如果只有邪恶玩家投票，处决会失败。你也会被当作是爪牙。[半数以上玩家为军团]"},{"firstNightReminder":"放置利维坦的第一天标记，宣告利维坦在场，现在是第一天。","isOfficial":true,"otherNightReminder":"将利维坦的标记转换到下一天。","name":"利维坦","otherNight":73,"setup":false,"reminders":["第一天","第二天","第三天","第四天","第五天","善良被处决"],"id":"leviathan","edition":"exp","team":"demon","name_eng":"Leviathan","sch_team":"恶魔","firstNight":53,"ability":"如果多于一名善良玩家被处决，邪恶阵营获胜。所有玩家都知道你在场。在你的第五个白天结束时，邪恶阵营获胜。"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"暴乱","otherNight":0,"setup":true,"reminders":[],"id":"riot","edition":"exp","team":"demon","name_eng":"Riot","sch_team":"恶魔","firstNight":0,"ability":"被提名的玩家死亡，但他可以立刻再次发起提名（第三天白天他必须这么做）。在第三个白天结束时，邪恶阵营获胜。[所有爪牙都是暴乱]"},{"firstNightReminder":"","isOfficial":true,"otherNightReminder":"","name":"黑帮","otherNight":0,"setup":false,"reminders":[],"id":"gangster","edition":"exp","team":"traveler","name_eng":"Gangster","sch_team":"旅行者","firstNight":0,"ability":"每个白天限一次，你可以杀死与你邻近的两名存活的玩家中的一名，但需要另一边那个存活的玩家同意。"},{"firstNightReminder":"守夜人可以指向一名玩家。如果他这么做，则唤醒那名玩家，告知其被守夜人选中，且告知他守夜人是谁。","isOfficial":true,"otherNightReminder":"守夜人可以指向一名玩家。如果他这么做，则唤醒那名玩家，告知其被守夜人选中，且告知他守夜人是谁。","name":"守夜人","otherNight":66,"setup":false,"reminders":["失去能力"],"id":"nightwatchman","edition":"exp","team":"townsfolk","name_eng":"Nightwatchman","sch_team":"镇民","firstNight":46,"ability":"每局游戏限一次，在夜晚时，你可以选择一名玩家：他会得知你是守夜人。"},{"firstNightReminder":"在恶魔信息期间，改为提供给恶魔四个身份，其中两个身份在场，两个身份不在场。并在在场的身份旁放置在场标记。","isOfficial":false,"otherNightReminder":"如果经纪人死亡，向恶魔展示两个放置了在场标记的身份标志。","name":"经纪人","otherNight":25,"setup":false,"reminders":["在场"],"edition":"lse","team":"townsfolk","sch_team":"镇民","firstNight":8,"id":"broker_lse","ability":"游戏开始时，恶魔将得知四个身份作为开局信息，但其中两个实际上存在于游戏中，当你死亡时，当晚，他得知哪两个在游戏中。"},{"firstNightReminder":"在一名玩家的身份标志旁放置在场标记，然后向侃山客展示拥有在场标记的身份和一个不在场身份的标志。","isOfficial":false,"otherNightReminder":"","name":"侃山客","otherNight":0,"setup":false,"reminders":["在场"],"edition":"lse","team":"townsfolk","sch_team":"镇民","firstNight":11,"id":"tattletale_lse","ability":"游戏开始时，你得知两个身份，其中有且只有一个存在游戏中。"},{"firstNightReminder":"唤醒信使，并向他展示一个不在场的身份标志。","isOfficial":false,"otherNightReminder":"唤醒信使，并向他展示一个不在场的身份标志。","name":"信使","otherNight":27,"setup":false,"reminders":[],"edition":"lse","team":"townsfolk","sch_team":"镇民","firstNight":12,"id":"postmaster_lse","ability":"每个夜晚，你得知一个不在游戏中的身份。"},{"firstNightReminder":"唤醒鞋匠，告知他有多少名存活的外来者与邪恶玩家相邻。","isOfficial":false,"otherNightReminder":"唤醒鞋匠，告知他有多少名存活的外来者与邪恶玩家相邻。","name":"鞋匠","otherNight":28,"setup":true,"reminders":[],"edition":"lse","team":"townsfolk","sch_team":"镇民","firstNight":13,"id":"bootblack_lse","ability":"每个夜晚，你得知有多少名存活的外来者与邪恶玩家相邻。[+1外来者]"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"走私犯指向任意数量的玩家，如果其中有两名以上邪恶玩家，走私犯死亡。","name":"走私犯","otherNight":15,"setup":false,"reminders":["死亡"],"edition":"lse","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"smuggler_lse","ability":"每个夜晚*，选择任意数量的玩家，如果他们其中有两名以上玩家属于邪恶阵营，你死亡。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"演员指向一名玩家，如果那名玩家是恶魔，演员死亡，并在魔典中央放置安全标记。","name":"演员","otherNight":14,"setup":false,"reminders":["死亡","安全"],"edition":"lse","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"thespian_lse","ability":"每个夜晚*，选择一名玩家，如果他是恶魔，你死亡，并阻止今晚的其他死亡。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"厌世者指向两名玩家，你指向你认为更有可能在今晚死亡的玩家。","name":"厌世者","otherNight":13,"setup":false,"reminders":[],"edition":"lse","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"pessimist_lse","ability":"每个夜晚*，选择两名玩家，你得知他们两名玩家中，哪名更有可能在今晚死亡。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"替身指向一名玩家，为那名玩家放置替身标记。","name":"替身","otherNight":11,"setup":false,"reminders":["替身","死亡"],"edition":"lse","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"understudy_lse","ability":"每个夜晚*，选择一名玩家，如果他在今晚死亡，你代替他死亡并且他将得知被保护。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"媒婆指向两名存活玩家，如果他们不属于同一阵营，其中一名玩家死亡。","name":"媒婆","otherNight":16,"setup":false,"reminders":["死亡"],"edition":"lse","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"matchmaker_lse","ability":"每个夜晚*，你可以选择两名存活的其他玩家，如果他们不属于同一阵营，其中一名玩家死亡。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"唤醒目击者，指向一名在今晚死亡的玩家，并指向身份表格上导致他死亡的对应身份类型。","name":"目击者","otherNight":29,"setup":false,"reminders":["醉酒"],"edition":"lse","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"witness_lse","ability":"每个夜晚*，你得知一名玩家是由于哪个身份类型的技能而死亡。如果你成为了其他玩家的技能目标，你醉酒直到拂晓。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"点灯人指向一名玩家，为该玩家放置光源标记，那名玩家和在今晚选择了该玩家的玩家（不包括你自己），在今晚不会死亡。","name":"点灯人","otherNight":10,"setup":false,"reminders":["光源","安全"],"edition":"lse","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"lamplighter_lse","ability":"每个夜晚*，选择一名其他玩家，该玩家和在今晚选择了该玩家的玩家（不包括你自己），在今晚不会死亡。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"司机指向一名与上一夜不同的存活玩家，如果那名玩家是村民，为司机放置安全标记。","name":"司机","otherNight":12,"setup":false,"reminders":["安全","被选择"],"edition":"lse","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"chauffeur_lse","ability":"每个夜晚*，选择一名存活的其他玩家（需与上一夜不同），如果他是村民，你在今晚不会死亡。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"审判官","otherNight":0,"setup":false,"reminders":["死亡","无技能"],"edition":"lse","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"inquisitor_lse","ability":"整局游戏限一次，白天，你可以公开询问一名玩家一个是/否问题，如果他没有如实回答，他将会在当晚死亡。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"被毒蛇选择的玩家可能死亡，即使他们不能死亡。","name":"毒蛇","otherNight":17,"setup":true,"reminders":[],"edition":"lse","remindersGlobal":["毒蛇","死亡","被选择"],"team":"outsider","sch_team":"外来者","firstNight":0,"id":"snakebite_lse","ability":"你认为你是一名村民，尽管你不是，但你拥有他的技能。每个夜晚*，被你选择的玩家可能会死亡，即使他们免疫死亡。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"如果遭弃者在白天被处决，唤醒他并向他展示“你是”卡和向下的大拇指。","name":"遭弃者","otherNight":8,"setup":false,"reminders":["邪恶"],"edition":"lse","team":"outsider","sch_team":"外来者","firstNight":0,"id":"pariah_lse","ability":"如果你被处决，你加入邪恶阵营。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"暴民","otherNight":0,"setup":false,"reminders":["被替换"],"edition":"lse","team":"outsider","sch_team":"外来者","firstNight":0,"id":"rabblerouser_lse","ability":"当与你相邻的存活玩家发动技能时，如果他选择了一名或多名玩家，你可能被替换为他的一个技能目标。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"如果博物馆长被放置了今晚改变标记，当晚，恶魔被唤醒并指向一名玩家和一个身份表格上的非恶魔身份，如果该身份不在游戏中，那名玩家变为该身份。","name":"博物馆长","otherNight":26,"setup":false,"reminders":["今晚改变"],"edition":"lse","team":"outsider","sch_team":"外来者","firstNight":0,"id":"curator_lse","ability":"如果你死亡，当晚，恶魔可以选择一名玩家和一个非恶魔身份，那名玩家变为该身份。（如果该身份不在游戏中）"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"噩兆","otherNight":0,"setup":false,"reminders":["？"],"edition":"lse","team":"minion","sch_team":"爪牙","firstNight":0,"id":"omen_lse","ability":"你所疯狂的事情可能会变为现实。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"唤醒美杜莎，并指向每一名被放置了凝视标记的玩家，美杜莎可以指向其中一名玩家并将他杀害，或者摇头放弃使用技能。","name":"美杜莎","otherNight":18,"setup":false,"reminders":["凝视","被杀害"],"edition":"lse","team":"minion","sch_team":"爪牙","firstNight":0,"id":"gorgon_lse","ability":"每个夜晚*，你得知今天有哪些玩家选择过你作为技能目标（从拂晓开始算起），你可以选择其中一名玩家杀害。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"如果残响在白天因处决而死亡，唤醒他，如果他点头，为今晚将要死亡的玩家放置休止符标记，他们在明晚死亡，并且额外有一名玩家也会在明晚死亡。如果他摇头，不发生任何事情。","name":"残响","otherNight":19,"setup":false,"reminders":["被处决","休止符","被杀害"],"edition":"lse","team":"minion","sch_team":"爪牙","firstNight":0,"id":"crescendo_lse","ability":"如果你死于处决，今晚，你可以将今晚死亡的玩家改为在明晚死亡，并且会有一名其他玩家在明晚死亡。"},{"firstNightReminder":"唤醒毒舞者，并向他展示当前中毒的玩家的身份标志。","isOfficial":false,"otherNightReminder":"唤醒毒舞者，并向他展示当前中毒的玩家的身份标志。","name":"毒舞者","otherNight":9,"setup":false,"reminders":["中毒"],"edition":"lse","team":"minion","sch_team":"爪牙","firstNight":9,"id":"tarantella_lse","ability":"一名存活玩家中毒，你知道因你的技能而中毒的玩家的身份。如果他成为了村民的技能目标，中毒转移到选择他的玩家。"},{"firstNightReminder":"死之握指向一名玩家，为那名玩家放置将死之人标记。","isOfficial":false,"otherNightReminder":"如果放置了将死之人标记的玩家仍然存活，他被杀害，否则一名与他相邻的村民被杀害。死之握指向一名玩家，为那名玩家放置将死之人标记。","name":"死之握","otherNight":20,"setup":false,"reminders":["将死之人","被杀害"],"edition":"lse","team":"demon","sch_team":"恶魔","firstNight":10,"id":"deathgripp_lse","ability":"每个夜晚，选择一名玩家。如果你上一夜选择的玩家仍然存活，将他杀害，否则，一名与他相邻的村民杀害。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"石像鬼指向一名玩家，将那名玩家杀害。","name":"石像鬼","otherNight":23,"setup":false,"reminders":["石像鬼","被杀害"],"edition":"lse","team":"demon","sch_team":"恶魔","firstNight":0,"id":"grist_lse","ability":"每个夜晚*，选择一名玩家，将他杀害。当你由于技能而死亡时，一名爪牙变为新的邪恶的石像鬼。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"三相指向一名玩家，将那名玩家杀害，如果三相杀害了自己，并且场上已经没有外来者存活，邪恶阵营获胜。","name":"三相","otherNight":21,"setup":true,"reminders":["被杀害"],"edition":"lse","team":"demon","sch_team":"恶魔","firstNight":0,"id":"venividivici_lse","ability":"每个夜晚*，选择一名玩家，将他杀害。如果你杀害了自己，并且场上没有外来者存活，邪恶方获胜。[本局游戏固定为3名外来者]"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"狂戮点头并指向一名玩家并指向身份表格上的一个身份，他可以重复这个动作数次，直到他摇头为止。如果他猜测全部正确，这些玩家全部被杀害。如果狂戮没有选择任何玩家，说书人选择一名玩家杀害。","name":"狂戮","otherNight":22,"setup":false,"reminders":["被杀害"],"edition":"lse","team":"demon","sch_team":"恶魔","firstNight":0,"id":"spree_lse","ability":"每个夜晚*，你可以选择任意数量的玩家，并猜测他们的身份，如果你猜对了他们的身份，将他们全部杀害。如果你放弃选择，一名玩家被杀害。"},{"firstNightReminder":"唤醒接待员并向同时他展示两个放置了已登记标记的身份标志，以及两个不在场身份，这些身份的类型需各不相同，如果接待员陷入了癫狂，展示四个不在场身份。","isOfficial":false,"otherNightReminder":"","name":"接待员","otherNight":0,"setup":false,"reminders":["已登记"],"edition":"aoi","team":"townsfolk","sch_team":"镇民","firstNight":26,"id":"receptionist_aoi","ability":"游戏开始时，你得知每种身份类型各一个身份。这些身份里只有两个身份在游戏中。如果你陷入癫狂，这些身份都不在游戏中。"},{"firstNightReminder":"唤醒侦探并向他展示一个在游戏中的爪牙身份标志。","isOfficial":false,"otherNightReminder":"如果侦探在今晚死亡，唤醒侦探并向他展示一个在游戏中的恶魔身份标志。","name":"侦探","otherNight":22,"setup":false,"reminders":[],"edition":"aoi","team":"townsfolk","sch_team":"镇民","firstNight":27,"id":"detective_aoi","ability":"游戏开始时，你得知一个在游戏中的爪牙身份。当你在夜晚死亡时，得知一个在游戏中的恶魔身份。"},{"firstNightReminder":"学士不使用技能或选择一名玩家，如果他选择了一名玩家，告知学士这名玩家的阵营，并为一名玩家放置癫狂标记。","isOfficial":false,"otherNightReminder":"学士不使用技能或选择一名玩家，如果他选择了一名玩家，告知学士这名玩家的阵营，并为一名玩家放置癫狂标记。","name":"学士","otherNight":13,"setup":false,"reminders":["癫狂"],"edition":"aoi","team":"townsfolk","sch_team":"镇民","firstNight":17,"id":"scholar_aoi","ability":"每个夜晚，你可以选择一名玩家，得知他的阵营，然后一名玩家陷入癫狂。"},{"firstNightReminder":"唤醒心理医生并让他指向两名玩家，如果他们都属于善良阵营，移除他们的癫狂标记。","isOfficial":false,"otherNightReminder":"唤醒心理医生并让他指向两名玩家，如果他们都属于善良阵营，移除他们的癫狂标记。","name":"心理医生","otherNight":15,"setup":false,"reminders":[],"edition":"aoi","team":"townsfolk","sch_team":"镇民","firstNight":19,"id":"psychologist_aoi","ability":"每个夜晚，选择两名玩家，如果他们都属于善良阵营，使他们恢复理智。"},{"firstNightReminder":"唤醒抓鬼人，并告知他与邪恶玩家相邻的癫狂玩家数量。","isOfficial":false,"otherNightReminder":"唤醒抓鬼人，并告知他与邪恶玩家相邻的癫狂玩家数量。","name":"抓鬼人","otherNight":18,"setup":false,"reminders":[],"edition":"aoi","team":"townsfolk","sch_team":"镇民","firstNight":22,"id":"ghosthunter_aoi","ability":"每个夜晚，你得知有多少名癫狂玩家与邪恶玩家相邻。"},{"firstNightReminder":"唤醒卷宗管理员，并让他选择一个身份，如果他选中了一个在游戏中的身份，指向三名玩家，其中一名是该身份。否则，指向三名随机玩家。","isOfficial":false,"otherNightReminder":"唤醒卷宗管理员，并让他选择一个身份，如果他选中了一个在游戏中的身份，指向三名玩家，其中一名是该身份。否则，指向三名随机玩家。","name":"卷宗管理员","otherNight":20,"setup":false,"reminders":[],"edition":"aoi","team":"townsfolk","sch_team":"镇民","firstNight":24,"id":"archivist_aoi","ability":"每个夜晚，选择一个其他身份，如果该身份在游戏中，你得知三个玩家，他们其中一人为该身份。如果不在游戏中，你今晚的信息将随机获取。"},{"firstNightReminder":"唤醒研究员，并告知他一名相邻存活玩家的身份类型。","isOfficial":false,"otherNightReminder":"唤醒研究员，并告知他一名相邻存活玩家的身份类型。","name":"研究员","otherNight":21,"setup":false,"reminders":[],"edition":"aoi","team":"townsfolk","sch_team":"镇民","firstNight":25,"id":"researcher_aoi","ability":"每个夜晚，你得知一名相邻存活玩家的身份类型。"},{"firstNightReminder":"唤醒占星师，并指向三名不是同一阵营的玩家。","isOfficial":false,"otherNightReminder":"唤醒占星师，并指向三名不是同一阵营的玩家。","name":"占星师","otherNight":19,"setup":false,"reminders":[],"edition":"aoi","team":"townsfolk","sch_team":"镇民","firstNight":23,"id":"astrologer_aoi","ability":"每个夜晚，你得知三名玩家，他们来自不同阵营。"},{"firstNightReminder":"唤醒灵数师，告知他场上有多少对相邻的癫狂玩家。","isOfficial":false,"otherNightReminder":"唤醒灵数师，告知他场上有多少对相邻的癫狂玩家。","name":"灵数师","otherNight":16,"setup":false,"reminders":[],"edition":"aoi","team":"townsfolk","sch_team":"镇民","firstNight":20,"id":"numerologist_aoi","ability":"每个夜晚，你得知场上有多少对相邻的癫狂玩家。你不会因为癫狂获取错误信息。"},{"firstNightReminder":"如果与博物馆员相邻的善良玩家癫狂，移除他们的癫狂标记，并将恢复理智标记放置在他的身份标志旁，如果有玩家拥有恢复理智标记，唤醒博物馆员并点头告知他有人恢复理智，否则摇头。","isOfficial":false,"otherNightReminder":"如果与博物馆员相邻的善良玩家癫狂，移除他们的癫狂标记，并将恢复理智标记放置在他的身份标志旁，如果有玩家拥有恢复理智标记，唤醒博物馆员并点头告知他有人恢复理智，否则摇头。","name":"博物馆员","otherNight":14,"setup":false,"reminders":["恢复理智"],"edition":"aoi","team":"townsfolk","sch_team":"镇民","firstNight":18,"id":"conservator_aoi","ability":"每个夜晚，与你相邻的存活善良玩家会恢复理智。你得知你的技能是否触发。"},{"firstNightReminder":"唤醒心理医生并让他指向两名玩家，如果他们都属于善良阵营，移除他们的癫狂标记。","isOfficial":false,"otherNightReminder":"唤醒心理医生并让他指向两名玩家，如果他们都属于善良阵营，移除他们的癫狂标记。","name":"心理医生","otherNight":15,"setup":false,"reminders":[],"edition":" ","team":"townsfolk","sch_team":"镇民","firstNight":19,"id":"psychologist_aoi","ability":"每个夜晚，选择两名玩家，如果他们都属于善良阵营，使他们恢复理智。"},{"firstNightReminder":"助理不使用技能或选择一名玩家，如果他指向了一名玩家，为助理放置无技能标记，为他选择的玩家放置理智&正确标记并移除癫狂标记，唤醒那名玩家并向他展示“这个身份选择了你”卡与助理的身份标志。","isOfficial":false,"otherNightReminder":"助理不使用技能或选择一名玩家，如果他指向了一名玩家，为助理放置无技能标记，为他选择的玩家放置理智&正确标记并移除癫狂标记，唤醒那名玩家并向他展示“这个身份选择了你”卡与助理的身份标志。","name":"助理","otherNight":12,"setup":false,"reminders":["无技能","清醒&理智"],"edition":"aoi","team":"townsfolk","sch_team":"镇民","firstNight":16,"id":"assistant_aoi","ability":"整局游戏限一次，夜晚，选择一名玩家，使他恢复理智，并且必定在今晚获取正确信息。他知道自己成为了助理的目标。"},{"firstNightReminder":"如果技能未使用，唤醒分析师，如果他点头，指向每名放置了癫狂标记的玩家（可能会多一名或少一名玩家）。","isOfficial":false,"otherNightReminder":"如果技能未使用，唤醒分析师，如果他点头，指向每名放置了癫狂标记的的玩家（可能会多一名或少一名玩家）。","name":"分析师","otherNight":17,"setup":false,"reminders":["无技能"],"edition":"aoi","team":"townsfolk","sch_team":"镇民","firstNight":21,"id":"analyst_aoi","ability":"整局游戏限一次，夜晚，你可以获得一份陷入癫狂的玩家名单（不包括你自己）。但其中可能有一名玩家并未癫狂。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"解梦师","otherNight":0,"setup":false,"reminders":[],"edition":"aoi","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"oneirocritic_aoi","ability":"如果你在夜晚死亡，下个白天，你可以拜访说书人并从那里获取两条正确信息。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"患者:痴呆","otherNight":0,"setup":false,"reminders":[],"edition":"aoi","team":"outsider","sch_team":"外来者","firstNight":0,"id":"befuddled_aoi","ability":"当你存活时，你的精神状况可能会被误判。当你死亡时，与你相邻的玩家的精神状况可能会被误判。"},{"firstNightReminder":"为一名村民放置癫狂标记与无法解除标记。","isOfficial":false,"otherNightReminder":"如果拥有无法解除标记的玩家死亡，唤醒患者:偏执并向他展示该玩家的身份标志。","name":"患者:偏执","otherNight":23,"setup":false,"reminders":["癫狂","无法解除"],"edition":"aoi","team":"outsider","sch_team":"外来者","firstNight":15,"id":"obsessed_aoi","ability":"一名村民陷入癫狂，并且无法恢复理智。当他死亡时，你得知他的身份。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"患者:狂祭","otherNight":0,"setup":false,"reminders":["癫狂"],"edition":"aoi","team":"outsider","sch_team":"外来者","firstNight":0,"id":"sacrifice_aoi","ability":"当你死亡时，一名玩家的精神状况改变。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"当患者:臆想死亡时，放置幻象崩溃标记。如果存在幻象崩溃标记，唤醒恶魔，让他指向一名玩家并指向身份表格上的一个非恶魔身份，如果该身份不在游戏中，那名玩家变为该身份。","name":"患者:臆想","otherNight":10,"setup":false,"reminders":["幻象崩溃"],"edition":"aoi","team":"outsider","sch_team":"外来者","firstNight":0,"id":"architect_aoi","ability":"如果你死亡，当晚，恶魔可以选择一名玩家和一个非恶魔身份，如果该身份不在游戏中，那名玩家变为该身份。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"如果恶魔放置了他自己的杀害标记，向化形者展示“你是”卡以及当晚死亡的恶魔身份标志，并为化形者放置恶魔标记。","name":"化形者","otherNight":8,"setup":false,"reminders":["恶魔"],"edition":"aoi","team":"minion","sch_team":"爪牙","firstNight":0,"id":"avatar_aoi","ability":"当恶魔由于自身的技能而死亡时，你变为恶魔。你可能被视为一名善良的村民或外来者。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"邪祭师","otherNight":0,"setup":false,"reminders":["癫狂"],"edition":"aoi","team":"minion","sch_team":"爪牙","firstNight":0,"id":"ritualist_aoi","ability":"如果一名邪恶玩家被提名，提名者陷入癫狂。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"如果一名外来者死亡，为与他相邻的村民放置癫狂标记，如果已经放置癫狂标记，移除他的癫狂标记","name":"人皮启示录","otherNight":9,"setup":true,"reminders":["癫狂"],"edition":"aoi","team":"minion","sch_team":"爪牙","firstNight":0,"id":"bookbinder_aoi","ability":"当一名外来者死亡时，与他相邻的村民的精神状况改变。[+1外来者]"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"腐化之源","otherNight":0,"setup":false,"reminders":["癫狂","无法解除"],"edition":"aoi","team":"minion","sch_team":"爪牙","firstNight":0,"id":"corruptor_aoi","ability":"与你相邻的村民陷入癫狂，并且无法恢复理智。"},{"firstNightReminder":"向全视之眼展示魔典，并让他选择一名玩家陷入癫狂。","isOfficial":false,"otherNightReminder":"全视之眼指向一名玩家，那名玩家被杀害。","name":"全视之眼","otherNight":4,"setup":true,"reminders":["癫狂","被杀害"],"edition":"aoi","team":"demon","sch_team":"恶魔","firstNight":12,"id":"eye_aoi","ability":"每个夜晚*，选择一名玩家，将他杀害。第一个夜晚，你查看魔典并选择一名玩家，他陷入癫狂。[-1外来者]"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"真理之环指向一名玩家，那名玩家被杀害。","name":"真理之环","otherNight":5,"setup":false,"reminders":["被杀害"],"edition":"aoi","team":"demon","sch_team":"恶魔","firstNight":0,"id":"spira_aoi","ability":"每个夜晚*，选择一名玩家，将他杀害。癫狂玩家获取正确信息，未癫狂玩家获取错误信息。"},{"firstNightReminder":"移除一名玩家的癫狂标记并放置今晚恢复标记，并为一名未癫狂的玩家放置癫狂标记与今晚癫狂标记。","isOfficial":false,"otherNightReminder":"移除一名玩家的癫狂标记并放置今晚恢复标记，并为一名未癫狂的玩家放置癫狂标记与今晚癫狂标记。然后让结命之网指向一名玩家，那名玩家被杀害。","name":"结命之网","otherNight":6,"setup":false,"reminders":["癫狂","今晚恢复","今晚癫狂","被杀害"],"edition":"aoi","team":"demon","sch_team":"恶魔","firstNight":13,"id":"web_aoi","ability":"每个夜晚*，选择一名玩家，将他杀害。每个夜晚，一名玩家恢复理智，另一名玩家陷入癫狂。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"湮生指向一名玩家，那名玩家被杀害。并为一名与他相邻的村民放置癫狂标记。","name":"湮生之冢","otherNight":7,"setup":true,"reminders":["癫狂","被杀害"],"edition":"aoi","team":"demon","sch_team":"恶魔","firstNight":0,"id":"buried_aoi","ability":"每个夜晚*，选择一名玩家，将他杀害。一名与他相邻的村民陷入癫狂。[+1外来者]"},{"firstNightReminder":"唤醒美术馆长并让他指向一名玩家，然后唤醒那名玩家，向他展示“这个身份选择了你”卡和美术馆长的身份标志，如果他摇头，不会发生任何事情。如果他点头，再次唤醒美术馆长，告知他该玩家的精神状况，然后，你可以改变该玩家的精神状况。","isOfficial":false,"otherNightReminder":"唤醒美术馆长并让他指向一名玩家，然后唤醒那名玩家，向他展示“这个身份选择了你”卡和美术馆长的身份标志，如果他摇头，不会发生任何事情。如果他点头，再次唤醒美术馆长，告知他该玩家的精神状况，然后，你可以改变该玩家的精神状况。","name":"美术馆长","otherNight":2,"setup":false,"reminders":["癫狂"],"edition":"aoi","team":"traveler","sch_team":"旅行者","firstNight":11,"id":"curator_aoi","ability":"每个夜晚，选择一名玩家，如果他同意，你得知他的精神状况，然后他的精神状况可能改变。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"如果播客被放置了被流放标记，唤醒他，并告诉他场上放置了多少个真实声明标记。","name":"播客","otherNight":3,"setup":false,"reminders":["被流放","真实声明"],"edition":"aoi","team":"traveler","sch_team":"旅行者","firstNight":0,"id":"podcaster_aoi","ability":"每个白天，说书人会做出一项公开声明，当你被流放时，当晚，你会得知有多少条正确。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"摄影师","otherNight":0,"setup":false,"reminders":[],"edition":"aoi","team":"traveler","sch_team":"旅行者","firstNight":0,"id":"cinematographer_aoi","ability":"每次投票时，你可以决定是顺时针投票还是逆时针投票。"},{"firstNightReminder":"向酋长展示一个在游戏中的外来者身份标志。","isOfficial":false,"otherNightReminder":"唤醒酋长，如果当前命运时针指向了一名外来者，向他点头，否则摇头。","name":"酋长","otherNight":15,"setup":true,"reminders":["外来者"],"edition":"iob","team":"townsfolk","sch_team":"镇民","firstNight":16,"id":"chieftain_iob","ability":"游戏开始时，你得知一个在游戏中的外来者身份。每个夜晚，你得知命运时针是否指向了一名外来者。[+1外来者]"},{"firstNightReminder":"向渎神者展示一个在游戏中的村民身份标志。","isOfficial":false,"otherNightReminder":"唤醒渎神者，如果他摇头，无事发生，如果他点头，并且命运时针指向了他，他死亡两次。","name":"渎神者","otherNight":6,"setup":false,"reminders":["村民","死亡"],"edition":"iob","team":"townsfolk","sch_team":"镇民","firstNight":17,"id":"blasphemer_iob","ability":"游戏开始时，你得知一个在游戏中的村民身份。每个夜晚，选择是/否，如果你选择了是，并且命运时针指向了你，你死亡两次。"},{"firstNightReminder":"唤醒捕手，他指向一名玩家，在该玩家的身份标志旁放置绊索标记。","isOfficial":false,"otherNightReminder":"唤醒捕手，如果拥有绊索标记的玩家被命运时针指向，点头，否则摇头。","name":"捕手","otherNight":16,"setup":false,"reminders":["绊索"],"edition":"iob","team":"townsfolk","sch_team":"镇民","firstNight":10,"id":"trapper_iob","ability":"在你的第一个夜晚，选择一名其他玩家，每个夜晚，你得知你和他是否被命运时针指向。"},{"firstNightReminder":"偷猎者不使用技能或选择一名玩家，如果他选择了一名玩家，且该玩家或他顺时针方向最近的玩家被命运时针指向，你点头，否则摇头。","isOfficial":false,"otherNightReminder":"偷猎者不使用技能或选择一名玩家，如果他选择了一名玩家，且该玩家或他顺时针方向最近的玩家被命运时针指向，你点头，否则摇头。","name":"偷猎者","otherNight":17,"setup":false,"reminders":["无技能"],"edition":"iob","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"poacher_iob","ability":"整局游戏限一次，夜晚*，选择一名玩家，你得知他和他顺时针方向最近的玩家是否被命运时针指向。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"唤醒观星者，并告知他被命运时针指向的玩家的阵营，如果指向了善良阵营玩家，给出向上的大拇指，否则给出向下的大拇指。","name":"观星者","otherNight":18,"setup":false,"reminders":[],"edition":"iob","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"stargazer_iob","ability":"每个夜晚*，你得知命运时针指向的玩家的阵营。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"骨卜师","otherNight":19,"setup":false,"reminders":["醉酒"],"edition":"iob","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"soothsayer_iob","ability":"每个夜晚*，选择一名玩家，得知他的身份，当你或者邪恶玩家被命运时针指向时，你醉酒，当命运时针不再指向这些玩家时，解除醉酒。"},{"firstNightReminder":"一名玩家流血。","isOfficial":false,"otherNightReminder":"脏卜师不使用技能或选择一名玩家，如果他选择了一名玩家，告知脏卜师该玩家的阵营，如果指向了善良阵营玩家，给出向上的大拇指，否则给出向下的大拇指。然后，为一名玩家放置流血标记。","name":"脏卜师","otherNight":13,"setup":false,"reminders":["流血"],"edition":"iob","team":"townsfolk","sch_team":"镇民","firstNight":15,"id":"bloodletter_iob","ability":"游戏开始时，一名玩家流血。每个夜晚*，你可以选择一名玩家，你得知他的阵营并可能使一名玩家流血。"},{"firstNightReminder":"唤醒侦察兵，如果侦察兵顺时针方向最近的存活玩家是一名爪牙，点头，否则摇头。","isOfficial":false,"otherNightReminder":"唤醒侦察兵，如果侦察兵顺时针方向最近的存活玩家是一名爪牙，点头，否则摇头。","name":"侦察兵","otherNight":20,"setup":false,"reminders":[],"edition":"iob","team":"townsfolk","sch_team":"镇民","firstNight":19,"id":"stalker_iob","ability":"每个夜晚，你得知你顺时针方向最近的存活玩家是否是一名爪牙。"},{"firstNightReminder":"向巡林人展示一个在游戏中的爪牙身份标志。","isOfficial":false,"otherNightReminder":"当巡林人在夜晚死亡时，唤醒他，并指向开局展示的身份对应的爪牙玩家。","name":"巡林人","otherNight":22,"setup":false,"reminders":["爪牙"],"edition":"iob","team":"townsfolk","sch_team":"镇民","firstNight":20,"id":"ranger_iob","ability":"游戏开始时，你得知一个在游戏中的爪牙身份。当你在夜晚死亡时，你得知他是谁。"},{"firstNightReminder":"唤醒守卫，并向他展示一个在游戏中的恶魔身份标志。","isOfficial":false,"otherNightReminder":"","name":"守卫","otherNight":0,"setup":false,"reminders":["防护"],"edition":"iob","team":"townsfolk","sch_team":"镇民","firstNight":18,"id":"warden_iob","ability":"游戏开始时，你得知在游戏中的恶魔身份。被命运时针指向的玩家被防护。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"清道夫不使用技能或指向一名已死亡的玩家，如果他指向了一名玩家，告知清道夫该玩家的阵营。","name":"清道夫","otherNight":22,"setup":false,"reminders":["防护"],"edition":"iob","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"forager_iob","ability":"整局游戏限一次，夜晚*，选择一名死亡玩家，得知他的阵营。你顺时针方向最近的玩家被防护。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"唤醒勇士，如果勇士处于流血状态，点头，否则摇头。","name":"勇士","otherNight":23,"setup":false,"reminders":["防护"],"edition":"iob","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"warrior_iob","ability":"每个夜晚*，你得知自己是否流血。夜晚期间，你自我防护。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"唤醒草药师并指向两名玩家，他们获得防护效果，持续到下个拂晓。","name":"草药师","otherNight":2,"setup":false,"reminders":["防护"],"edition":"iob","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"medicineman_iob","ability":"每个夜晚*，选择两名其他玩家，他们被防护。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"如果恶徒被命运时针指向，唤醒他，并向他展示向下的大拇指，然后唤醒恶魔，展示恶徒的身份标志并指向恶徒。","name":"恶徒","otherNight":5,"setup":false,"reminders":["叛变"],"edition":"iob","team":"outsider","sch_team":"外来者","firstNight":0,"id":"wicked_iob","ability":"当你被命运时针指向时，你加入邪恶阵营，并使恶魔得知你是谁。"},{"firstNightReminder":"不详者流血。","isOfficial":false,"otherNightReminder":"如果不详者被放置了停摆标记，当晚，唤醒恶魔，询问他今晚是否要移动命运时针。","name":"不祥者","otherNight":2,"setup":false,"reminders":["流血","停摆"],"edition":"iob","team":"outsider","sch_team":"外来者","firstNight":14,"id":"starcrossed_iob","ability":"如果你被处决，当晚，恶魔可以决定是否旋转命运时针。游戏开始时，你流血。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"“得力助手”","otherNight":0,"setup":false,"reminders":["“好兄弟”"],"edition":"iob","team":"outsider","sch_team":"外来者","firstNight":0,"id":"righthandman_iob","ability":"当你顺时针方向最近的玩家被处决时，如果他属于善良阵营，你的阵营落败。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"如果兽王死亡，一名玩家死亡（只有在场上存活玩家大于等于六名时才可选这项），或者三名玩家流血。","name":"兽王","otherNight":14,"setup":false,"reminders":["野兽出逃","流血","死亡"],"edition":"iob","team":"outsider","sch_team":"外来者","firstNight":0,"id":"beastmaster_iob","ability":"当你死亡时，一名玩家死亡，或者三名玩家流血，当存活玩家在五人以下时，只可能会导致三名玩家流血。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"唤醒蚀日，如果已经死亡，询问他是否要旋转命运时针。如果他没有死亡且他点头，将他杀害，并询问他是否要旋转命运时针，否则无事发生。","name":"蚀日","otherNight":3,"setup":false,"reminders":["杀害","停摆"],"edition":"iob","team":"minion","sch_team":"爪牙","firstNight":0,"id":"eclipse_iob","ability":"当你死亡时，当晚，你可以决定是否旋转命运时针。每个夜晚，你可以杀害自己。"},{"firstNightReminder":"总督查看魔典，如果他点头，为他顺时针方向最近的村民的身份标志放置中毒标记，如果他摇头，则无事发生。","isOfficial":false,"otherNightReminder":"总督查看魔典，如果他点头，为他顺时针方向最近的村民的身份标志放置中毒标记，如果他摇头，则无事发生。","name":"总督","otherNight":1,"setup":false,"reminders":["中毒"],"edition":"iob","team":"minion","sch_team":"爪牙","firstNight":12,"id":"viceroy_iob","ability":"每个夜晚，你查看魔典，并选择是否使你顺时针最近的村民中毒，中毒持续到下个黄昏。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"巫毒娃娃指向一名玩家，如果他指向了一名外来者，向他点头，否则摇头，并在被指向的玩家身份标志旁放置流血标记。","name":"巫毒娃娃","otherNight":12,"setup":true,"reminders":["被杀害"],"edition":"iob","team":"minion","sch_team":"爪牙","firstNight":0,"id":"effigy_iob","ability":"每个夜晚*，选择一名玩家，你得知他是否是外来者。如果他不是，他流血。[+1外来者]"},{"firstNightReminder":"黑猫流血。","isOfficial":false,"otherNightReminder":"唤醒黑猫，黑猫指向一名玩家，如果该玩家被命运时针指向，将他杀害，否则他流血。","name":"黑猫","otherNight":11,"setup":false,"reminders":["流血","被杀害"],"edition":"iob","team":"minion","sch_team":"爪牙","firstNight":9,"id":"secondhand_iob","ability":"每个夜晚*，选择一名玩家，使他流血，如果你选择的玩家在当晚被命运时针指向，改为将他杀害。游戏开始时，你流血。"},{"firstNightReminder":"为一名村民放置中毒标记。","isOfficial":false,"otherNightReminder":"溯时行者指向一名玩家，那名玩家被杀害。","name":"溯时行者","otherNight":7,"setup":true,"reminders":["逆向时针","中毒","被杀害"],"edition":"iob","team":"demon","sch_team":"恶魔","firstNight":11,"id":"retrogradus_iob","ability":"每个夜晚*，选择一名玩家，将他杀害。第一个夜晚，一名玩家中毒，直到下个黄昏。[逆时针旋转命运时针]"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"沼怪指向一名玩家，那名玩家被杀害。","name":"沼怪","otherNight":8,"setup":false,"reminders":["中毒","命运时针","被杀害"],"edition":"iob","team":"demon","sch_team":"恶魔","firstNight":0,"id":"bogman_iob","ability":"每个夜晚*，选择一名玩家，将他杀害。被命运时针指向的玩家以及他顺时针方向最近的玩家如果是村民，他们中毒。"},{"firstNightReminder":"鬼魅指向一名玩家，为那名玩家放置中毒&消弭标记。","isOfficial":false,"otherNightReminder":"鬼魅指向一名玩家，那名玩家被杀害。","name":"鬼魅","otherNight":10,"setup":false,"reminders":["命运时针","中毒&消弭","被杀害"],"edition":"iob","team":"demon","sch_team":"恶魔","firstNight":0,"id":"doopliss_iob","ability":"每个夜晚*，选择一名玩家，将他杀害。第一个夜晚，选择一名玩家，他中毒，并且不计入邪恶阵营的获胜条件的人数限制中。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"唤醒基洛，他指向一名或三名玩家，如果基洛指向了一名玩家，将他杀害，如果基洛指向了三名玩家，他们流血。","name":"基洛","otherNight":9,"setup":false,"reminders":["命运时针","流血","被杀害"],"edition":"iob","team":"demon","sch_team":"恶魔","firstNight":0,"id":"kilo_iob","ability":"每个夜晚*，选择一名或三名玩家。如果你选择了一名玩家，将他杀害，如果你选择了三名玩家，他们流血。"},{"firstNightReminder":"唤醒国王，并告知他臣子为他提供的信息。","isOfficial":false,"otherNightReminder":"唤醒国王，并告知他臣子为他提供的信息。","name":"国王","otherNight":13,"setup":true,"reminders":[],"edition":"sr","team":"townsfolk","sch_team":"镇民","firstNight":22,"id":"majesty_sr","ability":"每个夜晚，从你的臣子那里获取信息。中毒的臣子必定会提供给你错误信息。[至少存在一个国王/伪王/伊斯巴达登]"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"如果王子变为了新的国王，告知他。","name":"王子","otherNight":12,"setup":false,"reminders":["新王登基"],"edition":"sr","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"prince_sr","ability":"当国王死亡时，你变为新的国王。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"如果放置了国王已死标记，唤醒公主，他指向一名玩家，并向他展示该玩家的身份标志。","name":"公主","otherNight":16,"setup":false,"reminders":["国王已死"],"edition":"sr","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"princess_sr","ability":"如果国王死亡，当晚，选择一名玩家，得知他的身份。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"王后","otherNight":0,"setup":false,"reminders":["相邻"],"edition":"sr","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"queen_sr","ability":"每个夜晚，国王得知与他相邻的玩家中有多少名属于邪恶阵营。"},{"firstNightReminder":"骑士指向一名玩家，并为该玩家放置得知标记，该信息会在国王/伪王/伊斯巴达登的行动阶段提供给对应玩家。","isOfficial":false,"otherNightReminder":"骑士指向一名玩家，并为该玩家放置得知标记，该信息会在国王/伪王/伊斯巴达登的行动阶段提供给对应玩家。","name":"骑士","otherNight":8,"setup":false,"reminders":["得知"],"edition":"sr","team":"townsfolk","sch_team":"镇民","firstNight":18,"id":"knight_sr","ability":"每个夜晚，选择一名玩家，如果他是村民，国王得知他的身份。"},{"firstNightReminder":"主教指向一名玩家，并为该玩家放置得知标记，该信息会在国王/伪王/伊斯巴达登的行动阶段提供给对应玩家。","isOfficial":false,"otherNightReminder":"主教指向一名玩家，并为该玩家放置得知标记，该信息会在国王/伪王/伊斯巴达登的行动阶段提供给对应玩家。","name":"主教","otherNight":9,"setup":false,"reminders":["得知"],"edition":"sr","team":"townsfolk","sch_team":"镇民","firstNight":19,"id":"cardina_sr","ability":"每个夜晚，选择一名玩家，如果他是外来者，国王得知他的身份。"},{"firstNightReminder":"城堡指向一名玩家，并为该玩家放置得知标记，该信息会在国王/伪王/伊斯巴达登的行动阶段提供给对应玩家。","isOfficial":false,"otherNightReminder":"城堡指向一名玩家，并为该玩家放置得知标记，该信息会在国王/伪王/伊斯巴达登的行动阶段提供给对应玩家。","name":"城堡","otherNight":10,"setup":false,"reminders":["得知"],"edition":"sr","team":"townsfolk","sch_team":"镇民","firstNight":20,"id":"rook_sr","ability":"每个夜晚，选择一名玩家，如果他是爪牙，国王得知他的身份。"},{"firstNightReminder":"为一名玩家放置对应的报告村民/外来者/爪牙/恶魔身份标记，该信息会在国王/伪王/伊斯巴达登的行动阶段提供给对应玩家。","isOfficial":false,"otherNightReminder":"如果今天是前三夜，为一名玩家放置对应的报告村民/外来者/爪牙/恶魔身份标记，该信息会在国王/伪王/伊斯巴达登的行动阶段提供给对应玩家。","name":"书吏","otherNight":6,"setup":false,"reminders":["报告村民","报告外来者","报告爪牙","报告恶魔"],"edition":"sr","team":"townsfolk","sch_team":"镇民","firstNight":16,"id":"scribe_sr","ability":"在你的前三个夜晚里的每个夜晚，国王都会得知一名玩家，这三名玩家的身份类型均不同。"},{"firstNightReminder":"唤醒传令官，并指向国王玩家。","isOfficial":false,"otherNightReminder":"","name":"传令官","otherNight":0,"setup":false,"reminders":["得知"],"edition":"sr","team":"townsfolk","sch_team":"镇民","firstNight":15,"id":"herald_sr","ability":"游戏开始时，你得知国王是谁。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"内侍","otherNight":0,"setup":false,"reminders":["被保护"],"edition":"sr","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"chamberlain_sr","ability":"国王免受恶魔侵害。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"酒臣","otherNight":0,"setup":false,"reminders":["今日已使用"],"edition":"sr","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"cupbearer_sr","ability":"每个白天，你可以邀请一名玩家共饮美酒。如果他接受了，并且他属于邪恶阵营，他死亡。如果你中毒了，他接受了，并且他属于善良阵营，他死亡。"},{"firstNightReminder":"修道士指向一名玩家，为该玩家放置被选择标记。","isOfficial":false,"otherNightReminder":"如果拥有被选择标记的玩家或者修士死亡，在今晚将对应信息提供给国王/伪王/伊斯巴达登。","name":"修士","otherNight":7,"setup":false,"reminders":["被选择"],"edition":"sr","team":"townsfolk","sch_team":"镇民","firstNight":17,"id":"friar_sr","ability":"在你的第一个夜晚，选择一名玩家，当你和他其中一人死亡时，国王得知你选择的人的阵营。"},{"firstNightReminder":"试毒员指向一名玩家，为该玩家放置被选择标记，直到下个黄昏，所有影响目标的技能都改为影响你。（影响包括中毒/杀害/转变阵营，不包括得知身份）","isOfficial":false,"otherNightReminder":"试毒员指向一名玩家，为该玩家放置被选择标记，直到下个黄昏，所有影响目标的技能都改为影响你。（影响包括中毒/杀害/转变阵营，不包括得知身份）","name":"试毒员","otherNight":2,"setup":false,"reminders":["被选择"],"edition":"sr","team":"townsfolk","sch_team":"镇民","firstNight":13,"id":"foodtaster_sr","ability":"每个夜晚，选择一名其他玩家，直到下个黄昏，所有影响他的技能改为影响你。"},{"firstNightReminder":"唤醒国王，并告知他臣子为他提供的信息，这些信息必定是错误的。","isOfficial":false,"otherNightReminder":"唤醒国王，并告知他臣子为他提供的信息，这些信息必定是错误的。","name":"伪王","otherNight":14,"setup":true,"reminders":[],"edition":"sr","team":"outsider","sch_team":"外来者","firstNight":23,"id":"pretender_sr","ability":"你以为你是国王，并且你被视为国王。每个夜晚，你从你的臣子那里获取错误信息。[至少存在一个国王/伪王/伊斯巴达登]"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"兵卒","otherNight":0,"setup":true,"reminders":["兵卒"],"edition":"sr","team":"outsider","sch_team":"外来者","firstNight":0,"id":"pawn_sr","ability":"你拥有一个村民身份的技能，但你不知道你的技能是什么。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"如果密使被非国王玩家/他自己提名，为那名玩家放置变得邪恶标记，下个黄昏，唤醒他并向他展示“你是”卡和向下的大拇指，告知他已经加入邪恶阵营","name":"密使","otherNight":1,"setup":false,"reminders":["无技能","变得邪恶"],"edition":"sr","team":"outsider","sch_team":"外来者","firstNight":0,"id":"emissary_sr","ability":"当第一名除了国王和你之外的玩家提名你时，他在下个黄昏加入邪恶阵营。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"小妾死亡时，为国王放置醉酒2标记，如果今天是醉酒第二天，将醉酒标记替换为醉酒1标记，如果今天是第三天，将醉酒1标记移除。","name":"小妾","otherNight":2,"setup":false,"reminders":["醉酒2","醉酒1"],"edition":"sr","team":"outsider","sch_team":"外来者","firstNight":0,"id":"concubine_sr","ability":"当你死亡时，国王醉酒两天两夜。"},{"firstNightReminder":"骗徒指向身份表格上的两个身份，国王今天从这些身份的技能中获取随机信息，即使这些身份不在场。","isOfficial":false,"otherNightReminder":"骗徒指向身份表格上的两个身份，国王今天从这些身份的技能中获取随机信息，即使这些身份不在场。","name":"骗徒","otherNight":11,"setup":false,"reminders":["随机信息"],"edition":"sr","team":"minion","sch_team":"爪牙","firstNight":21,"id":"charlatan_sr","ability":"每个夜晚，选择两个身份，国王从他们那里获取随机信息，即使他们不在场。"},{"firstNightReminder":"阴谋家指向一名玩家，为那名玩家放置被选择标记，为今晚所有选择他的其他善良玩家放置中毒标记。","isOfficial":false,"otherNightReminder":"阴谋家指向一名玩家，为那名玩家放置被选择标记，为今晚所有选择他的其他善良玩家放置中毒标记。","name":"阴谋家","otherNight":2,"setup":false,"reminders":["被选择","中毒"],"edition":"sr","team":"minion","sch_team":"爪牙","firstNight":14,"id":"conspirator_sr","ability":"每个夜晚，选择一名玩家。当晚选择他的善良玩家中毒到下个黄昏。[+2外来者]"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"毒士","otherNight":0,"setup":false,"reminders":["今日已使用"],"edition":"sr","team":"minion","sch_team":"爪牙","firstNight":0,"id":"scoundrel_sr","ability":"每个白天，你可以邀请一名玩家共饮美酒。如果他接受了，并且他属于善良阵营，他死亡。你可能被视为一名善良的酒臣。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"如果国王已死亡，邪恶方获胜，如果莫甘娜在游戏中，且国王已死亡，篡位者单独获胜。","name":"篡位者","otherNight":17,"setup":false,"reminders":[],"edition":"sr","team":"minion","sch_team":"爪牙","firstNight":0,"id":"usurper_sr","ability":"每个拂晓，如果国王已死亡，邪恶方获胜，此时如果莫甘娜在游戏中，篡位者单独获胜。"},{"firstNightReminder":"唤醒伊斯巴达登，并告知他臣子为他提供的信息，如同向国王一般为他提供信息。","isOfficial":false,"otherNightReminder":"伊斯巴达登指向一名玩家，将那名玩家杀害。在唤醒伪王后再次唤醒伊斯巴达登，如同向国王一般为他提供信息。","name":"伊斯巴达登","otherNight":2,"setup":true,"reminders":["被杀害"],"edition":"sr","team":"demon","sch_team":"恶魔","firstNight":24,"id":"ysbaddaden_sr","ability":"每个夜晚*，选择一名玩家，将他杀害。游戏开始时你得知国王是谁，你被视为一名善良的国王，每个夜晚，你从他的臣子那里获取信息。[至少存在一个国王/伪王/伊斯巴达登]"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"德拉古指向一名玩家，将那名玩家杀害，如果德拉古指向了与他相邻的共计三名玩家，将那三名玩家都杀害。","name":"德拉古","otherNight":3,"setup":false,"reminders":["无技能","被杀害"],"edition":"sr","team":"demon","sch_team":"恶魔","firstNight":0,"id":"draco_sr","ability":"每个夜晚*，选择一名玩家，将他杀害。整局游戏限一次，如果场上存活玩家在五名以上，同时杀害与他相邻的存活玩家。"},{"firstNightReminder":"贾巴沃克不发动技能或者使所有玩家中毒，如果他点头发动技能，在魔典中央放置全体中毒。","isOfficial":false,"otherNightReminder":"贾巴沃克指向一名玩家，将那名玩家杀害。并询问他是否发动技能，如果他点头发动技能，在魔典中央放置全体中毒，如果贾巴沃克已发动技能且昨天魔典中央已经放置了全体中毒，将标记替换为明日中毒，否则将明日中毒替换为全体中毒。","name":"贾巴沃克","otherNight":4,"setup":false,"reminders":["无技能","被杀害","全体中毒","明日中毒"],"edition":"sr","team":"demon","sch_team":"恶魔","firstNight":14,"id":"jabberwocky_sr","ability":"每个夜晚*，选择一名玩家，将他杀害。整局游戏限一次，当晚，使所有村民中毒到下个拂晓，然后他们每隔一天再次中毒到下个拂晓。"},{"firstNightReminder":"为所有善良玩家放置变得邪恶标记，然后依次唤醒他们并向他们展示“你是”卡和向下的大拇指。","isOfficial":false,"otherNightReminder":"莫甘娜指向一名玩家，将那名玩家杀害。","name":"莫甘娜","otherNight":5,"setup":false,"reminders":["被杀害","变得邪恶"],"edition":"sr","team":"demon","sch_team":"恶魔","firstNight":12,"id":"morgana_sr","ability":"每个夜晚，选择一名玩家杀害。所有的非国王玩家都加入邪恶阵营。如果国王死亡，或者当场上只有五名以下玩家存活时，国王只投票给了你，邪恶阵营落败。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"护士长指向一名玩家，如果该玩家已行动，让护士长闭眼，并等待一段时间后再将其唤醒，期间可以处理其他玩家的行动。唤醒后，你指向护士长选择的玩家所选的每名技能目标，并告知护士长与该玩家得知的信息相同的信息，如果该玩家未行动，待该玩家行动后唤醒护士长并告知信息。如果护士长选中了恶魔，唤醒恶魔，并向他展示“你是”卡同时指向身份表格上的恶魔。","name":"护士长","otherNight":14,"setup":false,"reminders":["监察","他的目标"],"edition":"ti","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"headnurse_ti","ability":"每个夜晚*，选择一名玩家，你得知他今晚选择了谁以及他得知了什么。恶魔将会在被你选择时得知自己是恶魔，你不可能是恶魔。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"心理医学家指向一名玩家，你唤醒那名玩家，并向他展示“这名玩家选择了你”卡和心理学家的身份标志，如果他点头，你分别告知该玩家和心理学家，他们之间是否有恶魔，如果存在恶魔，你点头，否则你摇头。如果他摇头以拒绝心理学家，则无事发生。","name":"心理学家","otherNight":17,"setup":false,"reminders":[],"edition":"ti","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"psychologist_ti","ability":"每个夜晚*，选择一名玩家，如果他同意，你们得知彼此之间是否有恶魔。你不可能是恶魔。"},{"firstNightReminder":"阴谋论者指向等同于本局设置中邪恶玩家数量的玩家，如果他指向了所有邪恶玩家，善良阵营获胜。","isOfficial":false,"otherNightReminder":"阴谋论者指向等同于本局设置中邪恶玩家数量的玩家，如果他指向了所有邪恶玩家，善良阵营获胜。","name":"阴谋论者","otherNight":15,"setup":false,"reminders":[],"edition":"ti","team":"townsfolk","sch_team":"镇民","firstNight":15,"id":"conspiracy_ti","ability":"每个夜晚，选择等同于初始设置中邪恶玩家数量的玩家，如果你选中了所有邪恶玩家，善良阵营获胜。"},{"firstNightReminder":"唤醒化梦师并选择一个标记，让化梦师指向两名玩家，并根据你选择的标记点头或摇头，然后将该标记放置在化梦师的身份标志旁。","isOfficial":false,"otherNightReminder":"唤醒化梦师并选择一个标记，让化梦师指向两名玩家，并根据你选择的标记点头或摇头，如果今夜是奇数夜晚，将该标记放置在化梦师的身份标志旁。如果今夜是偶数夜晚，向化梦师展示这两夜你拿取的提示标记，但不要告诉他他的信息分别对应哪一夜。","name":"化梦师","otherNight":16,"setup":false,"reminders":["同一阵营？","恶魔相邻？","存在恶魔？"],"edition":"ti","team":"townsfolk","sch_team":"镇民","firstNight":13,"id":"vividdreamer_ti","ability":"每个夜晚，选择两名玩家，你得知他们是否属于同一阵营，或他们是否与恶魔相邻，或他们当中是否有恶魔（你只会得知是否）。每逢偶数夜晚，你会得知你这两天所获取的信息对应哪两项。"},{"firstNightReminder":"药师指向两名玩家，在其中一名玩家的身份标志旁放置清醒健康&被保护标记，为另一名玩家放置醉酒标记。","isOfficial":false,"otherNightReminder":"药师指向两名玩家，在其中一名玩家的身份标志旁放置清醒健康&被保护标记，为另一名玩家放置醉酒标记。","name":"药师","otherNight":3,"setup":false,"reminders":["清醒健康&被保护","醉酒"],"edition":"ti","team":"townsfolk","sch_team":"镇民","firstNight":12,"id":"pillhorder_ti","ability":"每个夜晚，选择两名玩家，他们其中一名免疫醉酒与中毒，并免受恶魔侵害，另外一名醉酒，持续到下个黄昏。"},{"firstNightReminder":"安保人员指向两名玩家，在其中的爪牙玩家的身份标志旁放置不被唤醒标记。","isOfficial":false,"otherNightReminder":"安保人员指向两名玩家，在其中的爪牙玩家的身份标志旁放置不被唤醒标记。","name":"安保人员","otherNight":1,"setup":false,"reminders":["不被唤醒"],"edition":"ti","team":"townsfolk","sch_team":"镇民","firstNight":10,"id":"securityguard_ti","ability":"每个夜晚，选择两名玩家，当你选中爪牙时，该爪牙在今晚不会被唤醒。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"末日传道士指向两名玩家，告知他那两名玩家在今晚一共选择了多少名玩家。","name":"末日传道士","otherNight":19,"setup":false,"reminders":[],"edition":"ti","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"doomsdaypreacher_ti","ability":"每个夜晚*，选择两名玩家，你得知他们在今晚一共选择了多少名玩家。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"通灵师指向两名玩家，在其中的恶魔玩家的身份标志旁放置回归本质标记。","name":"通灵师","otherNight":13,"setup":false,"reminders":["回归本质"],"edition":"ti","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"clairvoyant_ti","ability":"每个夜晚*，你选择两名玩家，从现在开始，他们被视为他们原本的阵营与身份类型，即使因为某些原因不能这么做。"},{"firstNightReminder":"模仿者指向一名玩家，如果那名玩家属于善良阵营，向他展示“你是”卡和该玩家的身份标志，否则向他展示“你是”卡和任意一个身份标志，然后在模仿者的身份标志旁放置醉酒标记。","isOfficial":false,"otherNightReminder":"","name":"模仿者","otherNight":0,"setup":false,"reminders":["醉酒","模仿"],"edition":"ti","team":"townsfolk","sch_team":"镇民","firstNight":14,"id":"copycat_ti","ability":"在你的第一个夜晚，选择一名玩家。如果他属于善良阵营，你变为与他相同的身份，如果他属于邪恶阵营，你醉酒。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"说谎者指向两名玩家，如果其中存在恶魔，在恶魔玩家的身份标志旁放置表面中毒标记。","name":"说谎者","otherNight":19,"setup":false,"reminders":["表面中毒"],"edition":"ti","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"liar_ti","ability":"每个夜晚*，选择两名玩家，当你选中恶魔时，他认为自己拥有的技能从现在开始按中毒处理。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"懦夫指向两到四名玩家，如果其中存在恶魔，在懦夫身份标志旁放置安全标记。","name":"懦夫","otherNight":8,"setup":false,"reminders":["安全"],"edition":"ti","team":"townsfolk","sch_team":"镇民","firstNight":0,"id":"scaredycat_ti","ability":"每个夜晚*，选择两到四名玩家，当你选中恶魔时，你在当晚不会死亡。"},{"firstNightReminder":"冰恋者指向两名玩家，为他们放置恋尸癖标记。","isOfficial":false,"otherNightReminder":"唤醒冰恋者，如果拥有恋尸癖标记的玩家死亡，向冰恋者展示该玩家的身份标志，并移除恋尸癖标记。然后冰恋者指向两名玩家，为他们放置恋尸癖标记。","name":"冰恋者","otherNight":20,"setup":false,"reminders":["恋尸癖"],"edition":"ti","team":"townsfolk","sch_team":"镇民","firstNight":17,"id":"corpseobsessed_ti","ability":"每个夜晚，选择两名玩家，当他们其中一人在下个黄昏前死去时，你在当晚得知他的身份。"},{"firstNightReminder":"为一名玩家的身份标志放置错误信息标志。审讯官指向两名玩家，如果他们当中存在邪恶玩家，你给出向下的大拇指，否则给出向上的大拇指。","isOfficial":false,"otherNightReminder":"审讯官指向两名玩家，如果他们当中存在邪恶玩家，你给出向下的大拇指，否则给出向上的大拇指。","name":"审讯官","otherNight":21,"setup":false,"reminders":["错误信息"],"edition":"ti","team":"townsfolk","sch_team":"镇民","firstNight":16,"id":"interrogator_ti","ability":"每个夜晚，选择两名玩家，你得知他们当中是否存在邪恶玩家。有一名玩家始终可能会被你的技能误认为邪恶玩家。"},{"firstNightReminder":"无政府主义者指向两名玩家，在他们的身份标志旁放置被选择标记。","isOfficial":false,"otherNightReminder":"无政府主义者指向两名玩家，在他们的身份标志旁放置被选择标记。","name":"无政府主义者","otherNight":2,"setup":false,"reminders":["被选择"],"edition":"ti","team":"outsider","sch_team":"外来者","firstNight":11,"id":"anarchist_ti","ability":"每个夜晚，选择两名存活玩家。当晚，所有指定他们作为目标的技能，都可能替换你作为其中一个技能目标。"},{"firstNightReminder":"虚无主义者指向两名玩家，在他们的身份标志旁放置被选择标记。","isOfficial":false,"otherNightReminder":"虚无主义者指向两名玩家，在他们的身份标志旁放置被选择标记。","name":"虚无主义者","otherNight":9,"setup":false,"reminders":["被选择","死亡"],"edition":"ti","team":"outsider","sch_team":"外来者","firstNight":0,"id":"nihilist_ti","ability":"每个夜晚，选择两名存活玩家。当晚，当他们其中一人死亡时，你可能代替他而死亡。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"漫步者","otherNight":0,"setup":false,"reminders":["疯狂","已疯狂"],"edition":"ti","team":"outsider","sch_team":"外来者","firstNight":0,"id":"rambler_ti","ability":"每个白天，都会有一名玩家（不会重复）需要对“我是漫步者”疯狂，否则他可能被处决。如果你对“我是漫步者”疯狂，你可能会被处决。你不会是恶魔。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"丑角","otherNight":0,"setup":false,"reminders":["随机杀害"],"edition":"ti","team":"outsider","sch_team":"外来者","firstNight":0,"id":"joker_ti","ability":"如果你是恶魔，你产生的杀害将随机决定。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"煤气灯人","otherNight":0,"setup":true,"reminders":["村民"],"edition":"ti","team":"minion","sch_team":"爪牙","firstNight":0,"id":"gaslighter_ti","ability":"一名村民认为他是煤气灯人，并且不能使用他的技能，即使你死了。如果你被处决，他寻回他的技能，其他爪牙不知道你是谁，你也不知道他们是谁。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"告死天使指向一名玩家，在那名玩家的身份标志旁放置罪孽标记。","name":"告死天使","otherNight":12,"setup":false,"reminders":["罪孽"],"edition":"ti","team":"minion","sch_team":"爪牙","firstNight":0,"id":"shoulderangel_ti","ability":"每个夜晚*，选择一名玩家（需与上一夜不同），他在今晚被视为一名邪恶的恶魔。"},{"firstNightReminder":"唤醒一名善良玩家，向他展示告死邪魔的身份标志。","isOfficial":false,"otherNightReminder":"告死邪魔指向一名玩家，那名玩家被杀害。","name":"告死邪魔","otherNight":94,"setup":false,"reminders":["被杀害","已被知晓"],"edition":"ti","team":"minion","sch_team":"爪牙","firstNight":9,"id":"shoulderdevil_ti","ability":"每个夜晚*，选择一名玩家，今晚被他选择的玩家中，会有一名被你杀害。一名善良玩家知道你在游戏中。恶魔无法杀害玩家。"},{"firstNightReminder":"唤醒幕后黑手，指向每名在今晚被恶魔选择的玩家。然后，如果他点头，向他展示“你是”卡，并选择一个恶魔，根据恶魔的技能向他展示一个村民或外来者身份标志（如果你决定让幕后黑手成为双生暗影，向他展示一个场上已经存在的身份，并将那名玩家转换为双生暗影），原先的恶魔转换为对应的善良身份（如果原先的恶魔是双生暗影，会导致场上出现两名身份相同的善良身份）。如果他摇头，则无事发生。","isOfficial":false,"otherNightReminder":"唤醒幕后黑手，指向每名在今晚被恶魔选择的玩家。然后，如果他点头，向他展示“你是”卡，并选择一个恶魔，根据恶魔的技能向他展示一个村民或外来者身份标志（如果你决定让幕后黑手成为双生暗影，向他展示一个场上已经存在的身份，并将那名玩家转换为双生暗影），原先的恶魔转换为对应的善良身份（如果原先的恶魔是双生暗影，会导致场上出现两名身份相同的善良身份）。如果他摇头，则无事发生。","name":"幕后黑手","otherNight":100,"setup":false,"reminders":["化身为魔"],"edition":"ti","team":"minion","sch_team":"爪牙","firstNight":100,"id":"scemer_ti","ability":"每个夜晚，你可以选择成为恶魔。如果你这么做了，当前的恶魔变为他自己认为的身份对应的善良玩家，你知道恶魔每晚选择的玩家。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"缚魂灵","otherNight":0,"setup":true,"edition":"ti","remindersGlobal":["被杀害","保留技能","缚魂灵"],"team":"demon","sch_team":"恶魔","firstNight":0,"id":"enrage_ti","ability":"[村民]爪牙们代替你得知开局信息。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"狂煞","otherNight":0,"setup":true,"reminders":[],"edition":"ti","remindersGlobal":["被杀害","中毒","已改变目标","狂煞"],"team":"demon","sch_team":"恶魔","firstNight":0,"id":"maniac_ti","ability":"[村民]当你第一次杀害村民时，改为使其中毒，并杀害一名与他相邻的玩家。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"厉鬼","otherNight":0,"setup":true,"reminders":[],"edition":"ti","remindersGlobal":["被杀害","已改变目标","厉鬼"],"team":"demon","sch_team":"恶魔","firstNight":0,"id":"sociopath_ti","ability":"[外来者]当你第一次杀害外来者时，改为杀害一名与他相邻的玩家。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"双生暗影","otherNight":0,"setup":true,"reminders":[],"edition":"ti","remindersGlobal":["被杀害","双生暗影"],"team":"demon","sch_team":"恶魔","firstNight":0,"id":"doppelganger_ti","ability":"[村民/外来者]两名玩家为双生暗影，并且拥有相同的技能，你们不能杀害彼此，而且每晚只会有一名玩家被杀害。[-1爪牙]"},{"firstNightReminder":"唤醒大法师，如果他点头，你再释放一个法术。","isOfficial":false,"otherNightReminder":"唤醒大法师，如果他点头，你再释放一个法术。","name":"大法师","otherNight":13,"setup":false,"reminders":["额外释放"],"id":"archmage_wm","edition":"wm","team":"townsfolk","sch_team":"镇民","firstNight":17,"ability":"每个夜晚，你可以使当晚有一个额外的法术被释放。"},{"firstNightReminder":"唤醒圣骑士，如果当天有邪恶玩家的法术被释放，向他点头，否则，向他摇头。","isOfficial":false,"otherNightReminder":"唤醒圣骑士，如果当天有邪恶玩家的法术被释放，向他点头，否则，向他摇头。","name":"圣骑士","otherNight":22,"setup":false,"reminders":["邪恶法术释放"],"id":"paladin_wm","edition":"wm","team":"townsfolk","sch_team":"镇民","firstNight":23,"ability":"每个夜晚，你得知是否有邪恶玩家的法术被释放。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"寒霜法师指向一名玩家，为那名玩家放置无法释放标记，那名玩家的法术在今晚不能被释放。","name":"寒霜法师","otherNight":0,"setup":false,"reminders":["无法释放"],"id":"cryomancer_wm","edition":"wm","team":"townsfolk","sch_team":"镇民","firstNight":9,"ability":"每个夜晚，选择一名玩家，他的法术在今晚不能被释放。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"奇术师","otherNight":7,"setup":false,"reminders":[],"id":"thaumaturge_wm","edition":"wm","team":"townsfolk","sch_team":"镇民","firstNight":14,"ability":"每个夜晚，当第一个法术将要被释放时，你得知那个法术，并且你可以改为释放另一个法术。"},{"firstNightReminder":"唤醒德鲁伊，并向他展示一个在今晚被成功释放的法术。","isOfficial":false,"otherNightReminder":"唤醒德鲁伊，并向他展示一个在今晚被成功释放的法术。","name":"德鲁伊","otherNight":21,"setup":false,"reminders":[],"id":"druid_wm","edition":"wm","team":"townsfolk","sch_team":"镇民","firstNight":22,"ability":"每个夜晚，你得知一个被成功释放的法术。"},{"firstNightReminder":"幻术师指向一名玩家，为那名玩家放置相反标记，当那名玩家的法术被释放时，可能会产生相反的效果。","isOfficial":false,"otherNightReminder":"幻术师指向一名玩家，为那名玩家放置相反标记，当那名玩家的法术被释放时，可能会产生相反的效果。","name":"幻术师","otherNight":3,"setup":false,"reminders":["相反"],"id":"illusionist_wm","edition":"wm","team":"townsfolk","sch_team":"镇民","firstNight":10,"ability":"每个夜晚，你选择一名玩家，当晚，那名玩家的法术可能会产生相反的效果。"},{"firstNightReminder":"如果巫师的法术没有被释放，唤醒他，巫师点头强制释放或摇头闭眼睡去，如果巫师点头，你可以释放巫师的法术，并可以选择一名邪恶玩家的法术一同释放。","isOfficial":false,"otherNightReminder":"如果巫师的法术没有被释放，唤醒他，巫师点头强制释放或摇头闭眼睡去，如果巫师点头，你可以释放巫师的法术，并可以选择一名邪恶玩家的法术一同释放。","name":"巫师","otherNight":16,"setup":false,"reminders":["强制释放"],"id":"sorcerer_wm","edition":"wm","team":"townsfolk","sch_team":"镇民","firstNight":20,"ability":"每个夜晚，如果你的法术没有被释放，你可以强制释放它，但是可能失败。如果你这么做了，一名邪恶玩家的法术可能被同时释放。"},{"firstNightReminder":"预言法师指向一名玩家，将那名玩家尝试释放的法术展示给预言法师。","isOfficial":false,"otherNightReminder":"预言法师指向一名玩家，将那名玩家尝试释放的法术展示给预言法师。","name":"预言法师","otherNight":23,"setup":false,"reminders":[],"id":"clairvoyant_wm","edition":"wm","team":"townsfolk","sch_team":"镇民","firstNight":24,"ability":"每个夜晚，选择一名玩家，你得知他尝试释放的法术。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"风水师指向一名玩家，如果那名玩家的法术在今晚被释放，为他放置被保护标记。","name":"风水师","otherNight":2,"setup":false,"reminders":["被保护"],"id":"geomancer_wm","edition":"wm","team":"townsfolk","sch_team":"镇民","firstNight":0,"ability":"每个夜晚*，选择一名其他玩家。如果他的法术在今晚被释放，从现在开始，只要你存活，他就免受恶魔侵害。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"仪式法师","otherNight":0,"setup":false,"reminders":["成功1次","成功2次","成功3次"],"id":"ritualist_wm","edition":"wm","team":"townsfolk","sch_team":"镇民","firstNight":0,"ability":"玩家在白天准备法术时可以准备仪式法术，如果有[2+爪牙数]的善良玩家准备仪式法术，则仪式成功。如果仪式释放成功[1+爪牙数]次，你的阵营获胜。邪恶阵营玩家在参与仪式时任然可以准备他们的法术。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"牧师","otherNight":0,"setup":false,"reminders":["复活"],"id":"cleric_wm","edition":"wm","team":"townsfolk","sch_team":"镇民","firstNight":0,"ability":"你可以随意释放三号禁咒。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"召唤师","otherNight":0,"setup":false,"reminders":["克隆体"],"id":"summoner_wm","edition":"wm","team":"townsfolk","sch_team":"镇民","firstNight":0,"ability":"整局游戏限一次，白天，如果你的法术在上个夜晚被释放，你可以在魔典中召唤一个自己的分身。当你们其中一个死亡时，你们一同死亡，你同时掌控两票。"},{"firstNightReminder":"如果附魔师上个白天没有提交法术，唤醒他，附魔师点头释放自己封存的法术或者摇头闭眼睡去，如果附魔师点头，释放他开局得知的法术。","isOfficial":false,"otherNightReminder":"如果附魔师上个白天没有提交法术，唤醒他，附魔师点头释放自己封存的法术或者摇头闭眼睡去，如果附魔师点头，释放他开局得知的法术。","name":"附魔师","otherNight":15,"setup":false,"reminders":[],"id":"enchanter_wm","edition":"wm","team":"townsfolk","sch_team":"镇民","firstNight":21,"ability":"你的第一个夜晚，你得知一个被释放的法术。每个夜晚*，你可以释放你得知的法术。"},{"firstNightReminder":"导管法师指向一名玩家，为那名玩家放置导管连接标记。如果今晚导管法师的法术被释放，改为释放那名玩家的法术。","isOfficial":false,"otherNightReminder":"导管法师指向一名玩家，为那名玩家放置导管连接标记。如果今晚导管法师的法术被释放，改为释放那名玩家的法术。","name":"导管法师","otherNight":4,"setup":false,"reminders":["导管连接"],"id":"apprentice_wm","edition":"wm","team":"outsider","sch_team":"外来者","firstNight":11,"ability":"每个夜晚，选择一名玩家，如果你的法术将要在今晚被释放，改为释放他的法术。"},{"firstNightReminder":"当混沌法师的法术被释放时，可能发生一些不好的事情，厄运的内容由你决定。","isOfficial":false,"otherNightReminder":"当混沌法师的法术被释放时，可能发生一些不好的事情，厄运的内容由你决定。","name":"混沌法师","otherNight":8,"setup":false,"reminders":["厄运"],"id":"chaosmage_wm","edition":"wm","team":"outsider","sch_team":"外来者","firstNight":15,"ability":"当你的法术被释放时，可能会发生一些不好的事情，这个效果忽略会阻止它的效果。"},{"firstNightReminder":"当烈焰术士的法术被释放时，可能会有至多两名玩家死亡，是否死亡/谁死亡由你决定。","isOfficial":false,"otherNightReminder":"当烈焰术士的法术被释放时，可能会有至多两名玩家死亡，是否死亡/谁死亡由你决定。","name":"烈焰术士","otherNight":9,"setup":false,"reminders":["死亡"],"id":"pyromancer_wm","edition":"wm","team":"outsider","sch_team":"外来者","firstNight":19,"ability":"当你的法术被释放时，可能会有至多两名玩家死亡。"},{"firstNightReminder":"移除一名善良玩家的法术，即使反熵法师已死亡。","isOfficial":false,"otherNightReminder":"移除一名善良玩家的法术，即使反熵法师已死亡。","name":"反熵法师","otherNight":5,"setup":false,"reminders":["今晚移除"],"id":"entropist_wm","edition":"wm","team":"outsider","sch_team":"外来者","firstNight":12,"ability":"每个夜晚，一名善良玩家的法术被摧毁，即使你已经死亡。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"唤醒死灵法师并给他查看所有死亡玩家在先前准备的法术，他可以选择其中之一释放。","name":"死灵法师","otherNight":10,"setup":false,"reminders":[],"id":"necromancer_wm","edition":"wm","team":"minion","sch_team":"爪牙","firstNight":0,"ability":"每个夜晚*，你可以释放一名死亡玩家在先前准备的法术，但可能释放失败。"},{"firstNightReminder":"天眼术士查看魔典和所有法术，他可以选择其中一名善良玩家的法术来释放。","isOfficial":false,"otherNightReminder":"天眼术士查看魔典和所有法术，他可以选择其中一名善良玩家的法术来释放。","name":"天眼术士","otherNight":12,"setup":false,"reminders":[],"id":"warlock_wm","edition":"wm","team":"minion","sch_team":"爪牙","firstNight":18,"ability":"每个夜晚，你查看魔典和所有法术，然后，你可以释放一名善良玩家的法术。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"炼狱术士点头杀害自己或摇头闭眼睡去，如果他杀害了自己，恶魔的法术可能被释放。","name":"炼狱术士","otherNight":11,"setup":false,"reminders":["杀害"],"id":"infernomancer_wm","edition":"wm","team":"minion","sch_team":"爪牙","firstNight":0,"ability":"每个夜晚*，如果场上有五名以上玩家存活，你可以杀害自己。如果你这么做，你可能释放恶魔准备的法术。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"血法师","otherNight":0,"setup":false,"reminders":["死亡","变得邪恶","技能覆盖","复活"],"id":"bloodmage_wm","edition":"wm","team":"minion","sch_team":"爪牙","firstNight":0,"ability":"你可以释放禁咒。如果你这么做，你死亡。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"龙巫指向一名玩家，将他杀害。","name":"龙巫","otherNight":17,"setup":true,"reminders":["被杀害"],"id":"draconis_wm","edition":"wm","team":"demon","sch_team":"恶魔","firstNight":0,"ability":"每个夜晚*，选择一名玩家，将他杀害。你每个白天可以准备至多三个法术。[+1外来者]"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"炼狱指向一名玩家，将他杀害。","name":"炼狱","otherNight":18,"setup":false,"reminders":["被杀害"],"id":"infernal_wm","edition":"wm","team":"demon","sch_team":"恶魔","firstNight":0,"ability":"每个夜晚*，选择一名玩家，将他杀害。法术可能产生相反的效果。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"秘骸指向一名玩家，将他杀害，然后向秘骸展示所有在今晚被释放的法术。","name":"秘骸","otherNight":20,"setup":false,"reminders":["被杀害"],"id":"theshroudedvoid_wm","edition":"wm","team":"demon","sch_team":"恶魔","firstNight":0,"ability":"每个夜晚*，选择一名玩家，将他杀害。你得知今晚所有被释放的法术。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"驳魂指向一名玩家，将他杀害，在今晚成功释放法术的善良玩家也可能被杀害。","name":"驳魂","otherNight":19,"setup":false,"reminders":["释放成功","被杀害"],"id":"backlash_wm","edition":"wm","team":"demon","sch_team":"恶魔","firstNight":0,"ability":"每个夜晚*，选择一名玩家，将他杀害。成功施放法术的善良玩家可能死亡。"},{"firstNightReminder":"向卷轴法师展示所有你决定释放的法术，他可以在其中一个法术中增加/修改/删除一个词。","isOfficial":false,"otherNightReminder":"向卷轴法师展示所有你决定释放的法术，他可以在其中一个法术中增加/修改/删除一个词。","name":"卷轴法师","otherNight":7,"setup":false,"reminders":[],"id":"scribe_wm","edition":"wm","team":"traveler","sch_team":"旅行者","firstNight":14,"ability":"每个夜晚，查看所有将要被释放的法术，你可以在其中的一个法术中增加/修改/删除一个词。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"宴会法师","otherNight":0,"setup":false,"reminders":["首先&额外释放"],"id":"partymagician_wm","edition":"wm","team":"traveler","sch_team":"旅行者","firstNight":0,"ability":"如果你的法术很搞笑，你的法术就会第一个被释放，并且当晚会有一个额外法术被释放。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"吟游歌者","otherNight":0,"setup":false,"reminders":[],"id":"bard_wm","edition":"wm","team":"traveler","sch_team":"旅行者","firstNight":0,"ability":"你的法术内容改为歌词，如果这个法术被释放，说书人会根据你的歌词制定出对应的法术并释放。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"泉涌法师","otherNight":0,"setup":false,"reminders":["释放全部"],"id":"wellspring_wm","edition":"wm","team":"traveler","sch_team":"旅行者","firstNight":0,"ability":"你的法术不会被释放。如果你死亡，当晚，释放你的所有法术。"},{"firstNightReminder":"","isOfficial":false,"otherNightReminder":"","name":"怀疑论者","otherNight":0,"setup":false,"reminders":["无效"],"id":"skeptic_wm","edition":"wm","team":"traveler","sch_team":"旅行者","firstNight":0,"ability":"你不能准备法术。每个白天，你都可以公开要求说书人使今晚第一个被释放的法术无效。"}]')},b223:function(e,t,i){e.exports=i.p+"img/mayor.e363b654.png"},b249:function(e){e.exports=JSON.parse('[{"firstNightReminder":"","otherNightReminder":"","name":"末日预言者","setup":false,"reminders":[],"team":"fabled","name_eng":"Doomsayer","id":"doomsayer","ability":"如果大于等于四名玩家存活，每名玩家可以公开要求你杀死一名与他阵营相同的玩家（限一次）。"},{"firstNightReminder":"","otherNightReminder":"","name":"天使","setup":false,"reminders":["庇护","不好的事"],"team":"fabled","name_eng":"Angel","id":"angel","ability":"对新玩家的死亡负最大责任的人，可能会遭遇一些不好的事情。"},{"firstNightReminder":"","otherNightReminder":"","name":"佛教徒","setup":false,"reminders":[],"team":"fabled","name_eng":"Buddhist","id":"buddhist","ability":"每个白天的前两分钟老玩家不能发言。"},{"firstNightReminder":"","otherNightReminder":"","name":"地狱藏书员","setup":false,"reminders":["不好的事"],"team":"fabled","name_eng":"Hells Librarian","id":"hells_librarian","ability":"当说书人宣布安静时，仍在说话的玩家可能会遭遇一些不好的事情。"},{"firstNightReminder":"","otherNightReminder":"","name":"革命者","setup":false,"reminders":["被当作其他"],"team":"fabled","name_eng":"Revolutionary","id":"revolutionary","ability":"公开声明一对邻座玩家本局游戏一直保持同一阵营。每局游戏限一次，他们中的一人可能被当作其他的角色/阵营。"},{"firstNightReminder":"","otherNightReminder":"","name":"小提琴手","setup":false,"reminders":[],"team":"fabled","name_eng":"Fiddler","id":"fiddler","ability":"每局游戏限一次，恶魔可以秘密选择一名对立阵营的玩家，所有玩家要表决：这两名玩家中谁的阵营获胜。（平局邪恶阵营获胜）"},{"firstNightReminder":"","otherNightReminder":"如果这是最后一个夜晚恶魔的攻击即将获胜，而恶魔旁边仍有未选择标记，则恶魔今晚不会醒来。","name":"玩具匠","otherNight":1,"setup":false,"reminders":["最后一晚：无法攻击"],"team":"fabled","name_eng":"Toymaker","id":"toymaker","ability":"恶魔可以在夜晚选择放弃攻击（每局游戏至少一次）。邪恶玩家照常获取初始信息。"},{"firstNightReminder":"","otherNightReminder":"","name":"骗人精","setup":false,"reminders":["失去能力"],"team":"fabled","name_eng":"Fibbin","id":"fibbin","ability":"每局游戏限一次，一名善良玩家可能会得知“有问题”的信息。"},{"firstNightReminder":"","otherNightReminder":"依次唤醒他们，告诉他们从公爵夫人那里获得的信息有多少个邪恶玩家拜访(1, 2, 3)。被标记混淆的玩家会获得错误信息。","name":"公爵夫人","otherNight":1,"setup":false,"reminders":["访客","错误信息"],"team":"fabled","name_eng":"Duchess","id":"duchess","ability":"每个白天，三名玩家可以一起拜访你。当晚*，他们会得知他们之中有几个是邪恶的，但其中一人的信息是错的。"},{"firstNightReminder":"","otherNightReminder":"","name":"哨兵","setup":true,"reminders":[],"team":"fabled","name_eng":"Sentinel","id":"sentinel","ability":"在初始设置时，可能会额外增加或减少一个外来者。"},{"firstNightReminder":"","otherNightReminder":"","name":"圣洁之魂","setup":false,"reminders":["禁止邪恶"],"team":"fabled","name_eng":"Spirit Of Ivory","id":"spirit_of_ivory","ability":"游戏过程中邪恶玩家的总数最多能比初始设置多一名。"},{"firstNightReminder":"","otherNightReminder":"","name":"灯神","firstNight":0,"reminders":[],"id":"djinn","team":"fabled","name_eng":"Djinn","setup":false,"ability":"使用灯神的相克规则。所有玩家都会知道其内容。"},{"firstNightReminder":"标记一个善良玩家安全，或者不标。依次唤醒所有邪恶玩家并告知谁是安全的，或者不唤醒。","otherNightReminder":"","name":"暴风捕手","firstNight":1,"reminders":["仅死于处决"],"id":"stormcatcher","team":"fabled","name_eng":"Storm Catcher","setup":false,"ability":"游戏开始时，你要宣布一个善良角色。如果该角色在场，他只能死于处决，但所有邪恶玩家会在首个夜晚得知他是哪一名玩家。"},{"firstNightReminder":"","otherNightReminder":"","name":"失败的上帝","setup":false,"reminders":["哎鸭"],"team":"fabled","name_eng":"Deus ex Fiasco","id":"deusexfiasco","ability":"每局游戏限一次，说书人可能会犯一个错误（真的就一个吗？），但是会在发现自己犯错后立即更正并公开承认自己处理有误。"}]')},b278:function(e,t,i){e.exports=i.p+"img/backlash_wm.2818b0e5.png"},b30c:function(e,t,i){e.exports=i.p+"img/professor.3398c3f7.png"},b3d9:function(e,t,i){e.exports=i.p+"img/ysbaddaden_sr.00a0619a.png"},b570:function(e,t,i){e.exports=i.p+"img/investigator.73f654e5.png"},b7e8:function(e,t,i){e.exports=i.p+"img/snitch.0f51b730.png"},b977:function(e,t,i){e.exports=i.p+"img/astrologer_aoi.5a32a807.png"},bb2f:function(e,t,i){e.exports=i.p+"img/sos.90a99216.png"},bb7a:function(e,t,i){e.exports=i.p+"img/empath.68ff5d3b.png"},bd05:function(e,t,i){"use strict";i("8fc9")},bdc5:function(e){e.exports=JSON.parse('[{"id":"drunkpoison","name":"醉酒与中毒","edition":"tb","description":"中毒与醉酒的玩家失去技能，但他们仍然以为自己拥有技能，并且能够发动技能。中毒/醉酒期间发动的其他类型技能无效（一次性技能如果被触发则被消耗），信息类技能则大概率获取错误信息。"},{"id":"mad","name":"疯狂","edition":"snv","description":"当一名玩家对某事“疯狂”时，这就代表他们试图证明这件事是真的，例如：畸形秀演员对“我是外来者”疯狂，则代表他试图证明自己是外来者"},{"id":"insane","name":"癫狂","edition":"aoi","description":"癫狂的玩家必定获取错误信息（类似于混沌的效果），癫狂不会因为效果来源的死亡/中毒/醉酒/消失而解除。"},{"id":"bloodied","name":"流血","edition":"iob","description":"流血的玩家如果再次被施加流血状态就会死亡。流血不会因为效果来源的死亡/中毒/醉酒/消失而解除。"},{"id":"clockhand","name":"命运时针","edition":"iob","description":"命运时针在游戏开始时指向恶魔，每个黄昏，顺时针旋转并指向下一名玩家，许多角色的技能和命运时针有联动效果。"},{"id":"triaged","name":"防护","edition":"iob","description":"被防护的玩家无法被施加流血效果，如果被防护的玩家死亡，改为被施加流血效果。"},{"id":"upgrade","name":"升级","edition":"mm","description":"当一名玩家的技能被升级时，他的技能将变得更加强大（但他不知道），升级后的效果由说书人决定。"},{"id":"possessed","name":"附体","edition":"ti","description":"该剧本的恶魔[]内的文字代表他会附身的身份类型，被附身的玩家均获得以下技能：你认为你是一名[]内的对应身份，尽管你不是，但你拥有他的技能。从第二夜开始，一名被你选择的玩家会被你杀害。爪牙们代替你得知开局信息，但他们得知的恶魔可能是错误的。"},{"id":"injection","name":"注射","edition":"sos","description":"当一名玩家被注射时，如果他是一名村民，他会得知自己被注射。"},{"id":"spell","name":"法术","edition":"wm","description":"白天，玩家可以将一件想要发生的事情写在纸条上，并在上面写上名称，这个纸条被称为法术，这个行为被称为准备法术。"},{"id":"cast","name":"施放","edition":"wm","description":"每个夜晚，说书人会随机抽取[1+爪牙数]的法术，被抽取的法术描述的事情可能会成真（这被称为释放法术）。如果说书人没有决定释放法术，重复该流程，直到所有的法术都被丢弃，或者有[1+爪牙数]的法术已被释放。"},{"id":"forbiddenspell","name":"禁咒","edition":"wm","description":"包含以下一项或多项效果的法术被称为禁咒：1)改变阵营;2)废除/改变/提供技能;3)复活。"},{"id":"maolu_poison","name":"中毒","edition":"ccml","description":"你的技能失效，如果是获取信息的技能，则必定获取错误信息。如果未被解毒，则该状态一直持续。（即使你死亡也不解除）"},{"id":"bloodied","name":"负伤","edition":"ccml","description":"你使用一次技能后死亡。如果未被疗伤，则该状态会一直持续。（即使你死亡也不解除）。"},{"id":"bloodied","name":"恐惧","edition":"血战长坂坡","description":"你发动主动技能时会被告知无法发动，你的被动技能失效。下一个白天来临时，恐惧自动解除。"}]')},bdd9:function(e,t,i){e.exports=i.p+"img/forager_iob.ea1b2422.png"},bddc:function(e,t,i){e.exports=i.p+"img/copycat_ti.916d4069.png"},be22:function(e,t,i){e.exports=i.p+"img/illusionist_wm.d51faf3d.png"},bfe2:function(e,t,i){e.exports=i.p+"img/angel.6b6ad024.png"},c0e3:function(e,t,i){},c24f:function(e,t,i){e.exports=i.p+"img/evil.8723a4ee.png"},c252:function(e,t,i){e.exports=i.p+"img/geomancer_wm.b7e9749b.png"},c30e:function(e,t,i){},c316:function(e,t,i){e.exports=i.p+"img/lycanthrope.48660758.png"},c3d7:function(e,t,i){e.exports=i.p+"img/lse.c6378a06.png"},c43e:function(e,t,i){e.exports=i.p+"img/bounty_hunter.b208dc71.png"},c514:function(e,t,i){e.exports=i.p+"img/scholar_aoi.4827f05b.png"},c559:function(e,t,i){e.exports=i.p+"img/securityguard_ti.4c3ff379.png"},c5db:function(e,t,i){e.exports=i.p+"img/fisherman.0511031e.png"},c71b:function(e,t,i){e.exports=i.p+"img/understudy_lse.506597a3.png"},c73a:function(e,t,i){e.exports=i.p+"img/po.d26a6a89.png"},c7b7:function(e,t,i){e.exports=i.p+"img/mezepheles.b1f4ea9e.png"},c825:function(e){e.exports=JSON.parse('[{"id":"Chambermaid","hatred":[{"id":"Mathematician","reason":"The Chambermaid learns if the Mathematician wakes tonight or not, even though the Chambermaid wakes first."}]},{"id":"Butler","hatred":[{"id":"Cannibal","reason":"If the Cannibal gains the Butler ability, the Cannibal learns this."}]},{"id":"Lunatic","hatred":[{"id":"Mathematician","reason":"The Mathematician learns if the Lunatic attacks a different player(s) than the real Demon attacked."}]},{"id":"Pit-Hag","hatred":[{"id":"Heretic","reason":"A Pit-Hag can not create a Heretic. "},{"id":"Damsel","reason":"If a Pit-Hag creates a Damsel, the Storyteller chooses which player it is."},{"id":"Politician","reason":"A Pit-hag can not create an evil Politician."}]},{"id":"Cerenovus","hatred":[{"id":"Goblin","reason":"The Cerenovus may choose to make a player mad that they are the Goblin."}]},{"id":"Leviathan","hatred":[{"id":"Soldier","reason":"If Leviathan nominates and executes the Soldier, the Soldier does not die."},{"id":"Monk","reason":"If Leviathan nominates and executes the player the Monk chose, that player does not die."},{"id":"Innkeeper","reason":"If Leviathan nominates and executes a player the Innkeeper chose, that player does not die."},{"id":"Ravenkeeper","reason":"If Leviathan is in play & the Ravenkeeper dies by execution, they wake that night to use their ability."},{"id":"Sage","reason":"If Leviathan is in play & the Sage dies by execution, they wake that night to use their ability."},{"id":"Farmer","reason":"If Leviathan is in play & a Farmer dies by execution, a good player becomes a Farmer that night."},{"id":"Mayor","reason":"If Leviathan is in play & no execution occurs on day 5, good wins."}]},{"id":"Al-Hadikhia","hatred":[{"id":"Scarlet Woman","reason":"If there are two living Al-Hadikhias, the Scarlet Woman Al-Hadikhia becomes the Scarlet Woman again."},{"id":"Mastermind","reason":"Only 1 jinxed character can be in play. Evil players start knowing which player and character it is."}]},{"id":"Lil\' Monsta","hatred":[{"id":"Poppy Grower","reason":"If the Poppy Grower is in play, Minions don\'t wake together. They are woken one by one, until one of them chooses to take the Lil\' Monsta token."},{"id":"Magician","reason":"Only 1 jinxed character can be in play. "},{"id":"Scarlet Woman","reason":"If there are 5 or more players alive and the player holding the Lil\' Monsta token dies, the Scarlet Woman is given the Lil\' Monsta token tonight."}]},{"id":"Lycanthrope","hatred":[{"id":"Gambler","reason":"If the Lycanthrope is alive and the Gambler kills themself at night, no other players can die tonight."}]},{"id":"Legion","hatred":[{"id":"Engineer","reason":"Legion and the Engineer can not both be in play at the start of the game. If the Engineer creates Legion, most players (including all evil players) become evil Legion."},{"id":"Preacher","reason":"Only 1 jinxed character can be in play."}]},{"id":"Fang Gu","hatred":[{"id":"Scarlet Woman","reason":"If the Fang Gu chooses an Outsider and dies, the Scarlet Woman does not become the Fang Gu."}]},{"id":"Spy","hatred":[{"id":"Magician","reason":"When the Spy sees the Grimoire, the Demon and Magician\'s character tokens are removed."},{"id":"Alchemist","reason":"The Alchemist can not have the Spy ability."},{"id":"Poppy Grower","reason":"If the Poppy Grower is in play, the Spy does not see the Grimoire until the Poppy Grower dies."},{"id":"Damsel","reason":"Only 1 jinxed character can be in play. "},{"id":"Heretic","reason":"Only 1 jinxed character can be in play."}]},{"id":"Widow","hatred":[{"id":"Magician","reason":"When the Widow sees the Grimoire, the Demon and Magician\'s character tokens are removed."},{"id":"Poppy Grower","reason":"If the Poppy Grower is in play, the Widow does not see the Grimoire until the Poppy Grower dies."},{"id":"Alchemist","reason":"The Alchemist can not have the Widow ability."},{"id":"Damsel","reason":"Only 1 jinxed character can be in play."},{"id":"Heretic","reason":"Only 1 jinxed character can be in play."}]},{"id":"Godfather","hatred":[{"id":"Heretic","reason":"Only 1 jinxed character can be in play."}]},{"id":"Marionette","hatred":[{"id":"Lil\' Monsta","reason":"The Marionette neighbors a Minion, not the Demon. The Marionette is not woken to choose who takes the Lil\' Monsta token."},{"id":"Poppy Grower","reason":"When the Poppy Grower dies, the Demon learns the Marionette but the Marionette learns nothing."},{"id":"Snitch","reason":"The Marionette does not learn 3 not in-play characters. The Demon learns an extra 3 instead."},{"id":"Balloonist","reason":"If the Marionette thinks that they are the Balloonist, +1 Outsider was added."},{"id":"Damsel","reason":"The Marionette does not learn that a Damsel is in play."},{"id":"Huntsman","reason":"If the Marionette thinks that they are the Huntsman, the Damsel was added."}]},{"id":"Riot","hatred":[{"id":"Engineer","reason":"Riot and the Engineer can not both be in play at the start of the game. \\nIf the Engineer creates Riot, the evil players become Riot."},{"id":"Golem","reason":"If The Golem nominates Riot, the Riot player does not die."},{"id":"Snitch","reason":"If the Snitch is in play, each Riot player gets an extra 3 bluffs."},{"id":"Saint","reason":"If a good player nominates and kills the Saint, the Saint\'s team loses."},{"id":"Butler","reason":"The Butler can not nominate their master."},{"id":"Pit-Hag","reason":"If the Pit-Hag creates Riot, all evil players become Riot. \\nIf the Pit-Hag creates Riot after day 3, the game continues for one more day."},{"id":"Mayor","reason":"If the 3rd day begins with just three players alive, the players may choose (as a group) not to nominate at all. If so (and a Mayor is alive) then the Mayor\'s team wins."},{"id":"Monk","reason":"If a Riot player nominates and kills the Monk-protected-player, the Monk-protected-player does not die."},{"id":"Farmer","reason":"If a Riot player nominates and kills a Farmer, the Farmer uses their ability tonight."},{"id":"Innkeeper","reason":"If a Riot player nominates an Innkeeper-protected-player, the Innkeeper-protected-player does not die."},{"id":"Sage","reason":"If a Riot player nominates and kills a Sage, the Sage uses their ability tonight."},{"id":"Ravenkeeper","reason":"If a Riot player nominates and kills the Ravenkeeper, the Ravenkeeper uses their ability tonight."},{"id":"Soldier","reason":"If a Riot player nominates the Soldier, the Soldier does not die."},{"id":"Grandmother","reason":"If a Riot player nominates and kills the Grandchild, the Grandmother dies too."},{"id":"King","reason":"If a Riot player nominates and kills the King and the Choirboy is alive, the Choirboy uses their ability tonight."},{"id":"Exorcist","reason":"Only 1 jinxed character can be in play."},{"id":"Minstrel","reason":"Only 1 jinxed character can be in play."},{"id":"Flowergirl","reason":"Only 1 jinxed character can be in play."},{"id":"Undertaker","reason":"Players that die by nomination register as being executed to the Undertaker."},{"id":"Cannibal","reason":"Players that die by nomination register as being executed to the Cannibal."},{"id":"Pacifist","reason":"Players that die by nomination register as being executed to the Pacifist."},{"id":"Devil\'s Advocate","reason":"Players that die by nomination register as being executed to the Devil\'s Advocate."},{"id":"Investigator","reason":"Riot registers as a Minion to the Investigator."},{"id":"Clockmaker","reason":"Riot registers as a Minion to the Clockmaker."},{"id":"Town Crier","reason":"Riot registers as a Minion to the Town Crier."},{"id":"Damsel","reason":"Riot registers as a Minion to the Damsel."},{"id":"Preacher","reason":"Riot registers as a Minion to the Preacher."}]},{"id":"Lleech","hatred":[{"id":"Mastermind","reason":"If the Mastermind is alive and the Lleech\'s host dies by execution, the Lleech lives but loses their ability. "},{"id":"Slayer","reason":"If the Slayer slays the Lleech\'s host, the host dies. "}]}]')},c97a:function(e,t,i){e.exports=i.p+"img/spira_aoi.8a56e488.png"},c9f5:function(e,t,i){e.exports=i.p+"img/grandmother.24350e55.png"},ca00:function(e,t,i){},ca7a:function(e,t,i){e.exports=i.p+"img/atheist.d8060ae8.png"},cadc:function(e,t,i){e.exports=i.p+"img/gossip.f2da95de.png"},cae1:function(e,t,i){e.exports=i.p+"img/bmr-demon.75dfa056.png"},caff:function(e,t,i){e.exports=i.p+"img/stalker_iob.454b4a86.png"},cb09:function(e,t,i){e.exports=i.p+"img/bard_wm.743a8ede.png"},cb2e:function(e,t,i){e.exports=i.p+"img/omen_lse.a8d840fd.png"},cba1:function(e,t,i){e.exports=i.p+"img/numerologist_aoi.49cf69be.png"},cc59:function(e,t,i){e.exports=i.p+"img/spree_lse.5304be9a.png"},cc6e:function(e,t,i){e.exports=i.p+"img/ti.1d088e6f.png"},ccca:function(e,t,i){e.exports=i.p+"img/deathgripp_lse.4e092412.png"},cd8c:function(e,t,i){e.exports=i.p+"img/wellspring_wm.bf337627.png"},cd9e:function(e,t,i){e.exports=i.p+"img/scemer_ti.df577546.png"},ce23:function(e,t,i){var s={"./aoi.png":"501c","./bge.png":"16e4","./bim.png":"e704","./bmr-demon.png":"cae1","./bmr-minion.png":"28bf","./bmr-outsider.png":"e898","./bmr-townsfolk.png":"e988","./bmr.png":"7496","./changbanpo.png":"e7d9","./custom.png":"441d","./iob.png":"5339","./lse.png":"c3d7","./luf.png":"92d8","./mm.png":"3cd0","./nkf.png":"a2cb","./snv-demon.png":"f347","./snv-minion.png":"451a","./snv-outsider.png":"4dd9","./snv-townsfolk.png":"ed00","./snv.png":"2fd0","./sos.png":"bb2f","./sr.png":"4aac","./tb-demon.png":"a3b0","./tb-minion.png":"5f4e","./tb-outsider.png":"73a1","./tb-townsfolk.png":"f7a3","./tb.png":"0aaa","./ti.png":"cc6e","./wm.png":"43ba"};function n(e){var t=r(e);return i(t)}function r(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=r,e.exports=n,n.id="ce23"},ced2:function(e,t,i){},cfcc:function(e,t,i){e.exports=i.p+"img/beggar.9f6f9963.png"},d19e:function(e,t,i){},d212:function(e,t,i){e.exports=i.p+"img/apprentice_wm.f34fed4d.png"},d2cd:function(e,t,i){e.exports=i.p+"img/witness_lse.0f0ea660.png"},d4b2:function(e,t,i){},d595:function(e,t,i){e.exports=i.p+"img/chaosmage_wm.29b2a3f4.png"},d5e5:function(e,t,i){e.exports=i.p+"img/psychologist_aoi.d218e3f8.png"},d61f:function(e,t,i){e.exports=i.p+"img/pessimist_lse.1ad99cec.png"},d62b:function(e,t,i){e.exports=i.p+"img/slayer.e86fd862.png"},d69f:function(e,t,i){e.exports=i.p+"img/fearmonger.4233784c.png"},d6bc:function(e,t,i){e.exports=i.p+"img/choirboy.9d62c6b3.png"},d715:function(e,t,i){e.exports=i.p+"img/savant.68b72e52.png"},d8d1:function(e,t,i){e.exports=i.p+"img/inquisitor_lse.7edcc4aa.png"},d912:function(e,t,i){e.exports=i.p+"img/sacrifice_aoi.4ceca13c.png"},d97d:function(e,t,i){e.exports=i.p+"img/drunk.82be4bb1.png"},da81:function(e,t,i){e.exports=i.p+"img/legion.a5ecb237.png"},daf0:function(e,t,i){"use strict";i("d19e")},dbe8:function(e,t,i){e.exports=i.p+"img/alchemist.c860a284.png"},dce6:function(e,t,i){e.exports=i.p+"img/gambler.0b739ae3.png"},dd5c:function(e,t,i){e.exports=i.p+"img/draconis_wm.88fdbe67.png"},dd60:function(e,t,i){e.exports=i.p+"img/ritualist_aoi.1a3b9252.png"},dfb1:function(e,t){e.exports=e=>{const t=e=>document.title="血染钟楼 & 肆书的 "+(e?"城镇广场":"魔典");if(localStorage.getItem("background")&&e.commit("setBackground",localStorage.background),localStorage.getItem("muted")&&e.commit("toggleMuted",!0),localStorage.getItem("static")&&e.commit("toggleStatic",!0),localStorage.getItem("imageOptIn")&&e.commit("toggleImageOptIn",!0),localStorage.getItem("zoom")&&e.commit("setZoom",parseFloat(localStorage.getItem("zoom"))),localStorage.getItem("isGrimoire")&&(e.commit("toggleGrimoire",!1),t(!1)),void 0!==localStorage.roles&&(e.commit("setCustomRoles",JSON.parse(localStorage.roles)),e.commit("setEdition",{id:"custom"})),void 0!==localStorage.edition&&e.commit("setEdition",JSON.parse(localStorage.edition)),void 0!==localStorage.bluffs&&JSON.parse(localStorage.bluffs).forEach((t,i)=>{e.commit("players/setBluff",{index:i,role:e.state.roles.get(t)||{}})}),void 0!==localStorage.fabled&&e.commit("players/setFabled",{fabled:JSON.parse(localStorage.fabled).map(t=>e.state.fabled.get(t.id)||t)}),localStorage.players&&e.commit("players/set",JSON.parse(localStorage.players).map(t=>({...t,role:e.state.roles.get(t.role)||e.getters.rolesJSONbyId.get(t.role)||{}}))),localStorage.getItem("PlayerId")&&e.commit("session/setPlayerId",localStorage.getItem("PlayerId")),localStorage.getItem("NickName")&&e.commit("session/setNickName",localStorage.getItem("NickName")),localStorage.getItem("host")&&e.commit("players/setHost",JSON.parse(localStorage.getItem("host"))),localStorage.getItem("MsgList")&&e.commit("session/setMsgList",JSON.parse(localStorage.getItem("MsgList"))),localStorage.getItem("session")&&!window.location.hash.substr(1)){const[t,i]=JSON.parse(localStorage.getItem("session"));e.commit("session/setSpectator",t),e.commit("session/setSessionId",i)}e.subscribe(({type:e,payload:i},s)=>{switch(e){case"toggleGrimoire":s.grimoire.isPublic?localStorage.removeItem("isGrimoire"):localStorage.setItem("isGrimoire",1),t(s.grimoire.isPublic);break;case"setBackground":i?localStorage.setItem("background",i):localStorage.removeItem("background");break;case"toggleMuted":s.grimoire.isMuted?localStorage.setItem("muted",1):localStorage.removeItem("muted");break;case"toggleStatic":s.grimoire.isStatic?localStorage.setItem("static",1):localStorage.removeItem("static");break;case"toggleImageOptIn":s.grimoire.isImageOptIn?localStorage.setItem("imageOptIn",1):localStorage.removeItem("imageOptIn");break;case"setZoom":0!==i?localStorage.setItem("zoom",i):localStorage.removeItem("zoom");break;case"setEdition":localStorage.setItem("edition",JSON.stringify(i)),s.edition.isOfficial&&localStorage.removeItem("roles");break;case"setCustomRoles":i.length?localStorage.setItem("roles",JSON.stringify(i)):localStorage.removeItem("roles");break;case"players/setBluff":localStorage.setItem("bluffs",JSON.stringify(s.players.bluffs.map(({id:e})=>e)));break;case"players/setFabled":localStorage.setItem("fabled",JSON.stringify(s.players.fabled.map(e=>e.isCustom?e:{id:e.id})));break;case"players/add":case"players/update":case"players/remove":case"players/clear":case"players/set":case"players/swap":case"players/move":s.players.players.length?localStorage.setItem("players",JSON.stringify(s.players.players.map(e=>({...e,role:e.role.id||{}})))):localStorage.removeItem("players");break;case"players/setHost":case"players/addHost":i?localStorage.setItem("host",JSON.stringify(i)):localStorage.removeItem("host");break;case"session/setMsgList":i?localStorage.setItem("MsgList",JSON.stringify(i)):localStorage.removeItem("MsgList");break;case"session/setSessionId":i?localStorage.setItem("session",JSON.stringify([s.session.isSpectator,i])):localStorage.removeItem("session");break;case"session/setPlayerId":i?localStorage.setItem("PlayerId",i):localStorage.removeItem("PlayerId");break;case"session/setNickName":i?localStorage.setItem("NickName",i):localStorage.removeItem("NickName");break}})}},e15d:function(e,t,i){e.exports=i.p+"img/doopliss_iob.8a1c70f1.png"},e1a4:function(e,t,i){e.exports=i.p+"img/cupbearer_sr.9c29600e.png"},e20f:function(e,t,i){e.exports=i.p+"img/snake_charmer.281a8bcd.png"},e222:function(e,t,i){e.exports=i.p+"img/djinn.b7605798.png"},e297:function(e,t,i){"use strict";i("c30e")},e333:function(e,t,i){e.exports=i.p+"img/pillhorder_ti.255bf01a.png"},e3b5:function(e,t,i){e.exports=i.p+"img/avatar_aoi.37a92df7.png"},e69f:function(e,t,i){e.exports=i.p+"img/marionette.8aceb38b.png"},e704:function(e,t,i){e.exports=i.p+"img/bim.2b472aef.png"},e7d9:function(e,t,i){e.exports=i.p+"img/changbanpo.993b7baa.png"},e898:function(e,t,i){e.exports=i.p+"img/bmr-outsider.971a3d5d.png"},e8be:function(e,t,i){e.exports=i.p+"img/no_dashii.f5e30f7e.png"},e945:function(e,t,i){"use strict";i("ca00")},e988:function(e,t,i){e.exports=i.p+"img/bmr-townsfolk.9bf859b4.png"},e9cf:function(e,t,i){e.exports=i.p+"img/infernal_wm.35ec0770.png"},ea17:function(e,t,i){e.exports=i.p+"img/engineer.1e44d3e4.png"},eaee:function(e,t,i){e.exports=i.p+"img/bone_collector.02a5b8ce.png"},ebf0:function(e,t,i){e.exports=i.p+"img/joker_ti.7ca39773.png"},ec1e:function(e,t,i){e.exports=i.p+"img/spy.756112c7.png"},ec1e8:function(e,t,i){e.exports=i.p+"img/usurper_sr.fd9447d3.png"},ed00:function(e,t,i){e.exports=i.p+"img/snv-townsfolk.83cf9a72.png"},ed35:function(e,t,i){e.exports=i.p+"img/conspiracy_ti.a03847dc.png"},ee00:function(e,t,i){e.exports=i.p+"img/starcrossed_iob.66ca380f.png"},ee02:function(e,t,i){e.exports=i.p+"img/courtier.536bfc97.png"},ee92:function(e,t,i){e.exports=i.p+"img/gunslinger.cc5208db.png"},eeb2:function(e,t,i){e.exports=i.p+"img/necromancer_wm.1152e20f.png"},ef01:function(e,t,i){e.exports=i.p+"img/gaslighter_ti.572a9ab1.png"},ef02:function(e,t,i){e.exports=i.p+"img/enchanter_wm.ec57fb62.png"},eff4:function(e,t,i){e.exports=i.p+"img/virgin.148fd492.png"},f09b:function(e,t,i){e.exports=i.p+"img/judge.4e139e22.png"},f1e5:function(e,t,i){e.exports=i.p+"img/sweetheart.cb159526.png"},f282:function(e,t,i){e.exports=i.p+"img/poisoner.91dcab39.png"},f347:function(e,t,i){e.exports=i.p+"img/snv-demon.2fe55248.png"},f3b5:function(e,t,i){e.exports=i.p+"img/medicineman_iob.bbf2254e.png"},f4a4:function(e,t,i){e.exports=i.p+"img/rambler_ti.26602dad.png"},f4bd:function(e,t,i){e.exports=i.p+"img/vigormortis.9074c4b4.png"},f558:function(e,t,i){e.exports=i.p+"img/witch.797471a0.png"},f5a1:function(e,t,i){},f674:function(e,t,i){e.exports=i.p+"img/summoner_wm.110860d4.png"},f6a8:function(e,t,i){e.exports=i.p+"media/countdown.1462f20c.mp3"},f700:function(e,t,i){e.exports=i.p+"img/viceroy_iob.308e0e01.png"},f7a3:function(e,t,i){e.exports=i.p+"img/tb-townsfolk.550a119b.png"},f7d3:function(e,t,i){e.exports=i.p+"img/noble.3909ea29.png"},f821:function(e,t,i){e.exports=i.p+"img/clairvoyant_ti.8b9e5b2b.png"},f834:function(e,t,i){e.exports=i.p+"img/mastermind.043e146f.png"},f8b5:function(e,t,i){"use strict";i("af6c")},f93f:function(e,t,i){e.exports=i.p+"img/clockmaker.82b772d2.png"},fbe6:function(e,t,i){e.exports=i.p+"img/soothsayer_iob.1f83dfdc.png"},fc65:function(e,t,i){e.exports=i.p+"img/evil_twin.b36a53b5.png"},fcc6:function(e,t,i){e.exports=i.p+"img/barber.8aecec0e.png"},fcdb:function(e,t,i){e.exports=i.p+"img/psychopath.cd71a0a2.png"},fd83:function(e,t,i){e.exports=i.p+"img/custom.402e9bc3.png"},fe21:function(e,t,i){e.exports=i.p+"img/blasphemer_iob.097e84cd.png"},fef4:function(e,t,i){e.exports=i.p+"img/bloodmage_wm.ad6d6b8d.png"},ff17:function(e,t,i){e.exports=i.p+"img/researcher_aoi.15b550c1.png"},fff1:function(e,t,i){e.exports=i.p+"img/pacifist.759103ea.png"}});
//# sourceMappingURL=app.2d6f65c6.js.map